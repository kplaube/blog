{"componentChunkName":"component---src-templates-blog-post-js","path":"/2019/02/21/assegure-qualidade-seu-codigo-python-bandit.html","result":{"data":{"markdownRemark":{"html":"<p>Já falamos sobre algumas ferramentas de qualidade de código <a href=\"/tag/python.html\" title=\"Leia mais sobre Python\"><em>Python</em></a> aqui no <em>blog</em>. De <a href=\"/2011/08/26/assegure-qualidade-seu-codigo-python-pep.html\" title=\"Assegure a qualidade do seu código Python - pep8\"><em>pycodestyle</em></a> a <a href=\"/2011/10/16/assegure-qualidade-seu-codigo-python-clone-digger.html\" title=\"Assegure a qualidade do seu código Python - Clone digger\"><em>Clone Digger</em></a>, passando por <a href=\"/2011/10/02/assegure-qualidade-seu-codigo-python-pyflakes.html\" title=\"Assegure a qualidade do seu código Python - Pyflakes\"><em>Pyflakes</em></a> e <a href=\"/2011/09/06/assegura-a-qualidade-de-codigo-python-pylint.html\" title=\"Assegure a qualidade do seu código Python - Pylint\"><em>Pylint</em></a>. Além do <em>flake8</em> (que acredito não precisar de apresentações), uma ferramenta que passei a ter sempre no meu <em>toolbelt</em> foi o <a href=\"https://github.com/PyCQA/bandit\" title=\"Repositório do Bandit\"><em>Bandit</em></a>.</p>\n<p>Na verdade, ele não é exatamente um <em>code linter</em>, mas sim uma ferramenta para testar a segurança do seu projeto <em>Python</em>. Em tempos onde cada vez mais somos expostos a falhas de segurança em aplicações, e tais falhas podem ser um fator crucial para o fracasso de um negócio, cuidado nunca é demais.</p>\n<h2>O seguro morreu de velho</h2>\n<p>O <em>Bandit</em> é uma ferramenta construída para encontrar problemas comuns de segurança em projetos <em>Python</em>. Livre e de código aberto (<a href=\"https://github.com/PyCQA/bandit/blob/master/LICENSE\" title=\"Leia mais no repositório da ferramenta\"><em>Apache 2</em></a>), está disponível para instalação através do <code class=\"language-text\">pip</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ pip install bandit</code></pre></div>\n<p>Uma vez instalado, basta executá-lo através do terminal:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ bandit -r caminho-para-projeto-python</code></pre></div>\n<p>Note que o parâmetro <code class=\"language-text\">-r</code> acima instrui o utilitário a executar de forma recursiva, iterando sobre todos os arquivos e pastas dentro do caminho especificado. Outro parâmetro comum é o <code class=\"language-text\">-t</code>, onde é possível especificar quais testes você quer executar:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ bandit -r ~/Workspace/klaus/blog -t B101,B102</code></pre></div>\n<p>O <em>Bandit</em> considera como vulnerabilidades desde o uso de <code class=\"language-text\">assert</code> (B101), passando pelo uso de <code class=\"language-text\">eval</code> (B307), até possíveis brechas para <em>SQL injection</em> (B608). Uma lista completa de todos os <em>plugins</em> está disponível na <a href=\"https://bandit.readthedocs.io/en/latest/plugins/index.html#complete-test-plugin-listing\" title=\"Confira a lista de falhas cobertas pelo Bandit\">documentação oficial</a>.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/39204b07c84ba566fd80edb1e0ba14f9/828fb/bandit.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAgX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHnakYNJw//xAAaEAADAQADAAAAAAAAAAAAAAAAAQIREiEj/9oACAEBAAEFAsg8mPN51RXQ6pP/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAAAARESMSH/2gAIAQEABj8C0VWzJOsUGn//xAAbEAEAAgMBAQAAAAAAAAAAAAABABEhMUFR0f/aAAgBAQABPyFqtTW35ETqZsjDojjc9FMOiyUgU//aAAwDAQACAAMAAAAQOA//xAAVEQEBAAAAAAAAAAAAAAAAAAAAIf/aAAgBAwEBPxCI/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxABAQEAAwEBAAAAAAAAAAAAAREAITFBgZH/2gAIAQEAAT8QqmIS7ayDVKICME99wyReCafXFFR1OsRPJy5wEfu//9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"&quot;Foto do filme Agarre-me Se Puderes&quot;\"\n        title=\"Segurança na web é como fazer parte do filme Agarra-me Se Puderes (adorocinema.com)\"\n        src=\"/static/39204b07c84ba566fd80edb1e0ba14f9/828fb/bandit.jpg\"\n        srcset=\"/static/39204b07c84ba566fd80edb1e0ba14f9/7809d/bandit.jpg 192w,\n/static/39204b07c84ba566fd80edb1e0ba14f9/4ecad/bandit.jpg 384w,\n/static/39204b07c84ba566fd80edb1e0ba14f9/828fb/bandit.jpg 630w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Segurança na web é como fazer parte do filme Agarra-me Se Puderes (adorocinema.com)</figcaption>\n  </figure></p>\n<p>Se você utiliza <em>pytest</em> para escrever os seus testes, o item B101 pode ser um problema, uma vez que é normal utilizar <code class=\"language-text\">assert</code> ao invés do convencional <code class=\"language-text\">self.assertEquals</code>. Nesse caso, uma das formas de contornar esse comportamento é ignorando os testes:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ bandit -r . -x tests/</code></pre></div>\n<p>Também é possível ter um arquivo de configuração (<code class=\"language-text\">.bandit</code>) na raíz do seu projeto:</p>\n<div class=\"gatsby-highlight\" data-language=\"toml\"><pre class=\"language-toml\"><code class=\"language-toml\"><span class=\"token punctuation\">[</span><span class=\"token table class-name\">bandit</span><span class=\"token punctuation\">]</span>\nexclude: tests</code></pre></div>\n<p>Para finalizar, através do parâmetro <code class=\"language-text\">-f</code> é possível emitir a saída em diferentes formatos, como <em>CSV</em>, <em>HTML</em>, <em>JSON</em>, <em>XML</em> e <em>YAML</em>.</p>\n<h2>Considerações finais</h2>\n<p>O <em>Bandit</em> é aquela ferramenta perfeita para você ter em seu <a href=\"https://github.com/PyCQA/bandit#version-control-integration\" title=\"Veja como integrá-lo com o Git\"><em>pre-commit</em></a> ou em seu <em>CI</em>. Inclusive, o <a href=\"https://www.codacy.com/\" title=\"The standard for automated code reviews\"><em>Codacy</em></a>, serviço super bacana que avalia a qualidade do seu código, utiliza o <em>Bandit</em> em seu processo de análise. Com isso, fica fácil de integrá-lo ao seu processo de <em>Pull Request</em>/<em>Code Review</em>.</p>\n<p>Um bom custo vs. benefício para o seu projeto.</p>\n<p>Até a próxima.</p>\n<h2>Referências</h2>\n<ul>\n<li><a href=\"https://github.com/PyCQA/bandit\">Github - Bandit</a></li>\n</ul>","excerpt":"Já falamos sobre algumas ferramentas de qualidade de código Python aqui no blog. De pycodestyle a Clone Digger, passando por Pyflakes e…","frontmatter":{"date":"2019-02-21T12:45:00.000Z","title":"Assegure a qualidade do seu código Python - Bandit","tags":["python","qualidade","linter","seguranca","bandit"],"thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAC4jAAAuIwF4pT92AAACdklEQVQ4y42UXUiTURjH7SYigm66LEkNKmElXSQq9mVEagOxCIvQRY3NxlsN3uFkhpYlwSxpoRmIZi4LLDG0qLvIQCnJVuDoJg38QrFi6JrO7Vfv3DuX7n3XAw/nHJ5z/uf/fCagIMFgMKTR+5XnWJIQDywQCBD8q2ELi4uL/wDHBYwGkx7LMjk9i28hNntFwGijDPZ+4DPlFgO3r56gQjxJ68P2CFtVhtE/+v1LVD5+GsKsz2bolZauxkO4uo9yx5ZKQ0Nj5NOV8VRkKEl1VRlfXmrR5iRxpqSUudlf/BjUYb2QzszP35EYqzKU7PWOm9yoEigT8uh7eoz1GzZhtVp48bqf5tpcmms01NY1LSctFsPlRARobbmP4bSGfemJ9D7Job7WRG6elnVr1/CuPQvjqW0kJW/H651b5dlql8PGa5Ui5YZUaiyZVJjSKDiSgnhOg71sD9cvJlNZfj78Jg5DOSburyMIZzP5/iaf/o7DdDVk8exuOt33MhB1m2lzLmXb7/fHLxv5knDJws6UjTTVZDDeexC+5eDqTKMwfy/TMx71GEYXrMxybGyc3ZodOGy7mO47ACP76biViNPpDMfbHz+GsnFhYakWOzu7qLMmw3g2b1u2IF42EAwxi92Cir0cLQ9a27Dqt1J9xRBpP6W7igyHh4cZHR1lYmICj8fDo8fP+TAwyNTUJG63G5fLFWlPVZflS4IgUFxcjLG0FKPRyPHCAnS6EoqKitDr9dhstv9Ligxot9tDj0VRxGQyhUCl1Ww243A46OnpWTWRVF2en5/H5/OFzlKCpNXr9YYAJJVLS3U4KAVabaqrDlilsa+ksRj+AQghm0qN+axfAAAAAElFTkSuQmCC","width":180,"height":180,"src":"/static/0e8199bb0720cf926445f9f3bab9b0a8/d8216/bandit-logo.png","srcSet":"/static/0e8199bb0720cf926445f9f3bab9b0a8/d8216/bandit-logo.png 1x"}},"publicURL":"/static/0e8199bb0720cf926445f9f3bab9b0a8/bandit-logo.png"}},"fields":{"readingTime":{"minutes":2.43},"slug":"/2019/02/21/assegure-qualidade-seu-codigo-python-bandit.html"}},"site":{"siteMetadata":{"author":{"name":"Klaus Peter Laube","gravatar":"https://en.gravatar.com/userimage/12163112/d3ae0c6239980b01ff1f1730b65c2ebe.jpg"},"siteUrl":"https://klauslaube.com.br"}}},"pageContext":{"slug":"/2019/02/21/assegure-qualidade-seu-codigo-python-bandit.html"}},"staticQueryHashes":["2831923220","4114525740"]}