{"componentChunkName":"component---src-templates-blog-post-js","path":"/2021/10/20/tipo-assim-tipo-python.html","result":{"data":{"markdownRemark":{"html":"<p>Tipos em <em>Python</em> é aquele \"tipo\" de assunto que vai agitar qualquer papo de almoço entre programadores.\nEu mesmo fui cético por muito tempo, e franzia a testa constantemente quando esse tópico aparecia.\nMas já mudei de opinião algumas vezes, e escrever sobre tais mudanças rendeu alguns dos artigos\nmais acessados do <em>blog</em>.  De <a href=\"/2018/06/04/eu-me-rendo-vscode.html\" title=\"Eu me rendo: VS Code\"><em>IDEs vs. editores</em></a>, passando por\n<a href=\"/2020/07/01/alem-do-rest-com-graphql.html\" title=\"Além do REST com GraphQL\"><em>GraphQL</em></a>\ne chegando até mesmo ao uso de <a href=\"/tag/java.html\" title=\"Leia mais sobre Java\"><em>Java</em></a>. Agora é a vez de tipagem em <a href=\"/tag/python.html\" title=\"Leia mais sobre Python\"><em>Python</em></a>.</p>\n<p>Nota-se uma \"nem tão recente onda\" na utilização de tipagem estática. Alimentada por linguagens como <em>Go</em> e <em>Typescript</em>, os\nargumentos (assim como prós e contras) são dos mais variados, e vem influenciando linguagens amplamente conhecidas\npor serem de tipagem dinâmica, como <a href=\"https://realpython.com/python-type-checking/\" title=\"Python Type Checking\"><em>Python</em></a> e\n<a href=\"https://news.ycombinator.com/item?id=19697405\" title=\"Types will be part of Ruby 3\"><em>Ruby</em></a>.</p>\n<p>Mais fundamental que entender o \"como\", é crucial ficar por dentro da motivação por trás da <a href=\"https://www.python.org/dev/peps/pep-0484/\" title=\"Type hints\"><em>PEP 484</em></a>.\nVamos viajar um pouquinho no tempo e tentar compreender o \"por quê\".</p>\n<h2>No meu tempo é que era bom</h2>\n<p>Conheci o <em>Python</em> lá pelos idos de 2009, e <a href=\"https://pt.slideshare.net/kplaube/python-7648643\" title=\"Slideshare: Python\">venho falando sobre a linguagem desde então</a>.\nSempre posso contar com o <a href=\"https://pt.wikipedia.org/wiki/Python\" title=\"Wikipedia - Python\">artigo do <em>Wikipedia</em></a> para definir a linguagem com os atributos que mais admiro:</p>\n<blockquote>\n<p>Python é uma linguagem de programação de alto nível, interpretada, de script, imperativa, orientada a objetos, funcional, de tipagem dinâmica e forte.</p>\n</blockquote>\n<p>E sem mais rodeios, abrimos o nosso primeiro parênteses.</p>\n<h3>Tipagem dinâmica e forte</h3>\n<p><em>Python</em>, <a href=\"/tag/php.html\" title=\"Leia mais sobre PHP\"><em>PHP</em></a>, <em>Javascript</em> e <em>Ruby</em> tem algo em comum: Elas são linguagens de tipagem dinâmica. Em outras palavras,\nelas são capazes de escolher o tipo de dado de acordo com o valor que está sendo atribuído a uma variável:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token string\">\"foo\"</span>\n\na <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\nb <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 3</span></code></pre></div>\n<p>Ao contrário de linguagens com tipagem estática, como o <em>Java</em>; onde uma vez que a variável esteja setada com o seu respectivo tipo,\nnão podemos mais alterá-lo:</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MyClass</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> args<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">String</span> a <span class=\"token operator\">=</span> <span class=\"token string\">\"foo\"</span><span class=\"token punctuation\">;</span>\n        a <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// TypeError</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Mesmo se utilizarmos recursos mais modernos, como a inferência de tipo, ainda assim estamos sujeitos à tipagem estática:</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MyClass</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> args<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token string\">\"foo\"</span><span class=\"token punctuation\">;</span>\n        a <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// TypeError</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>O <em>Javascript</em> é um exemplo de linguagem com tipagem fraca. Com ela somos capazes de misturar tipos sem\nmaiores restrições, e contar com conversões realizadas automaticamente pela linguagem, como no exemplo abaixo:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token string\">\"foo\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> b <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// foo2</span></code></pre></div>\n<p>O mesmo não acontece com o <em>Python</em>, que tem por característica a tipagem forte, sendo assim\nmais restritivo com esse tipo de operação:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token string\">\"foo\"</span>\nb <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># TypeError: can only concatenate str (not \"int\") to str</span></code></pre></div>\n<p>Tipagem dinâmica e forte foram duas das características\nmais apaixonantes do <em>Python</em>. A linguagem estava me ajudando a ser mais coerente com o <em>design</em> do código,\ne com isso, me dando uma camada a mais de segurança (e por consequência, qualidade).</p>\n<h3>Type hints</h3>\n<p>A primeira vez que ouvi falar sobre tipagem estática em <em>Python</em>, foi por volta de 2016. Segundo o\n<a href=\"https://dropbox.tech/application/our-journey-to-type-checking-4-million-lines-of-python\" title=\"Leia o artigo no Dropbox.Tech\">\"Our journey to type checking 4 million lines of Python\"</a>,\nno ano anterior (com o <em>Python 3.5</em>) era lançada a <em>PEP 484</em>.</p>\n<p>Essa <em>Python Enhancement Proposal</em> oficializava a proposta de <em>Jukka Lehtosalo</em> para o uso de tipos em <em>Python</em>. A diferença\naqui, em relação a outras linguagens, é que utilizamos anotações para sugerir qual tipo uma variável ou parâmetro receberá (chamadas de <em>type hints</em>):</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">greeting</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">:</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">'Hello '</span> <span class=\"token operator\">+</span> name</code></pre></div>\n<p>Por anotações entende-se que estamos sugerindo ao <strong>programador</strong>, e não ao <strong>intepretador</strong>, quais são os tipos.\nDe fato, o interpretador ignora tais instruções e <a href=\"https://stackoverflow.com/questions/41692473/does-python-type-hint-annotations-cause-some-run-time-effects#:~:text=2%20Answers,-2&#x26;text=Type%20hints%20and%20annotations%20do,way%20that%20comments%20don&#x27;t.\" title=\"Leia a thread no Stackoverflow\">elas não tem efeito no código rodando</a>.</p>\n<p>Na época, o <em>mypy</em> não era essa <em>lib</em> bem estabelecida que é hoje. Conceitos e ferramentas ao redor desse tópico\nainda eram confusos, e o mesmo gerava debates acalorados.</p>\n<p>Nem preciso dizer que fui um dos programadores que logo de cara torceu o nariz.</p>\n<h2>Static type é cool novamente</h2>\n<p>Quantas vezes você já precisou abrir uma função para compreender o que exatamente ela retornava? Quantos\n<em>Docstrings</em> você leu, dando dicas de tipos de parâmetros e retorno? Quantos <code class=\"language-text\">print</code> e <code class=\"language-text\">pdb.set_trace()</code> para\nentender a razão de um atributo de instância estar disparando algum erro de tipo ou chave?</p>\n<p>À medida que o seu projeto vai crescendo em tamanho e complexidade, a ausência de tipos começa a afetar a qualidade do mesmo,\npelo menos é isso que afirma <em>Dustin Ingram</em> no <em>talk</em> <a href=\"https://www.youtube.com/watch?v=ST33zDM9vOE\" title=\"Veja no Youtube\"><em>Static Typing in Python</em></a>:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bdb650a32dbbd99e021beb412e73fe40/b1584/type-hint.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.77083333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB8UlEQVQoz2VSSW/TQBj1f4XkCKdKSBwQQgIJ9cCBQkslynKpSi3KUoQEagg5ICTUNhtxFkIcO/bEdsbjxHZsz8ZnJ6JFeEaeZ33z5r35nhW135NSMi6kgFXOzYngHLDg4vKEUhRymuUA6lLSq1/qitrvr8nFDue8yeah/O8RQtoW4wzQP+TeZbKpdTJzAiDwSUACmHiGfUw4E8NRxDiVXFI4QmalakNRB2syeAvSxUj/lfWHgH2fEOzbDnKn3iLAxGcWWpI0yDjNhSUtnZwrhz0NIMbEMIyxMXbcGbVQNtRXbmE3vJNE6KMUgOd5p2en3e6ALWblr03lsKv9VYb7EJ+Aew5HgL7nWch1HT4xKWP5pZJl6rme48x4iEu1pvJK61x0W4h+z9A6ePA7bNfRj8/NRq2l186Cdss/q89H+qp1RXNo+aSxJlOWx8MZDwiJo3AZxT72JzaCkX/GSRzFy3i5io0VDStXGspBu5UriyJdIdJEICuLIuo6juu4to2QPZ2YJrjNVS/I9ApEdVRERcJEUJqXszQdGCwI8RRNTVPvarY+1ke2NbZkQcp/kpXt7z+V6we7W9s7xxsP97efVPZuVW4+err7bvNj5dp+9cbe0VYdbX4b7Kgfnr19Xr2vvn6v3nnz4vju408PXt6+t/EHLTpVI2zMZEkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Gráfico com a complexidade subindo ao aumentar linhas de código\"\n        title=\"Quando migrar para Type Hint (youtube.com)\"\n        src=\"/static/bdb650a32dbbd99e021beb412e73fe40/e5715/type-hint.png\"\n        srcset=\"/static/bdb650a32dbbd99e021beb412e73fe40/8514f/type-hint.png 192w,\n/static/bdb650a32dbbd99e021beb412e73fe40/804b2/type-hint.png 384w,\n/static/bdb650a32dbbd99e021beb412e73fe40/e5715/type-hint.png 768w,\n/static/bdb650a32dbbd99e021beb412e73fe40/4ad3a/type-hint.png 1152w,\n/static/bdb650a32dbbd99e021beb412e73fe40/b1584/type-hint.png 1342w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Quando migrar para Type Hint (youtube.com)</figcaption>\n  </figure></p>\n<p>Se você tiver 28 minutos, dê uma pausa neste artigo e confira a apresentação na íntegra:</p>\n<iframe src=\"https://www.youtube.com/embed/ST33zDM9vOE\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n<p>Há o argumento de que se o código fosse claro, seguindo padrões e boas práticas, não precisaríamos de tais artifícios. Acho\ndifícil discordar dessa afirmação. Tão difícil quanto encontrar tal código.</p>\n<p><a href=\"https://trishagee.com/2020/09/07/reading-code-is-a-skill/\" title=\"Reading code is a skill\">Código legível é subjetivo</a>, enquanto\nque tipagem estática serve como uma forma de documentação e (supostamente) auxilia na manutenibilidade de <em>software</em>.\nEsse é um dos argumentos apresentados\nno <em>paper</em> <a href=\"https://www.researchgate.net/publication/259634489_An_empirical_study_on_the_impact_of_static_typing_on_software_maintainability\" title=\"Leia a pesquisa na íntegra\">\"<em>An empirical study on the impact of static typing on software maintainability</em>\"</a>.</p>\n<p>Em suma, com o passar do tempo, fazendo parte de grandes projetos <em>front-end</em> em <em>React</em>, e utilizando de tipagem para entender\no que estava acontecendo, eu enxergo e entendo o argumento a favor do uso de <em>type hints</em> em <em>Python</em>.</p>\n<h2>Como faz?</h2>\n<p>A melhor forma de começar é através do <a href=\"http://mypy-lang.org\" title=\"Optional static type checker for Python\"><em>mypy</em></a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ pip install mypy</code></pre></div>\n<p>O próximo passo é adicionar as anotações ao código, indicando os tipos:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># calculadora.py</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">soma</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> a <span class=\"token operator\">+</span> b\n\nresult <span class=\"token operator\">=</span> soma<span class=\"token punctuation\">(</span><span class=\"token number\">2.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Anotamos os parâmetros da função através de <code class=\"language-text\">: int</code>, e o retorno com <code class=\"language-text\">-> int</code>. Com o utilitário de linha\nde comando executamos a checagem:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ mypy calculadora.py\nSuccess: no issues found in 1 source file</code></pre></div>\n<p>Se alterarmos um dos parâmetros passados para <code class=\"language-text\">float</code>, o <code class=\"language-text\">mypy</code> nos alertará que há uma inconsistência:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ mypy calculadora.py\ncalculadora.py:5: error: Argument 1 to \"soma\" has incompatible type \"float\"; expected \"int\"\nFound 1 error in 1 file (checked 1 source file)</code></pre></div>\n<p>Mas ainda assim será possível executar o código sem problemas.</p>\n<h3>VS Code</h3>\n<p>Com o <a href=\"/tag/vscode.html\" title=\"Leia mais sobre VS Code\"><em>VS Code</em></a> e\no <a href=\"https://marketplace.visualstudio.com/items?itemName=ms-python.python\"><em>plugin Python</em></a>\ninstalado, basta o interpretador configurado ter acesso ao <em>mypy</em>, ou que você explicitamente\npasse o caminho do executável nas configurações do editor:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/eef1fd579b269dbcfb7e4183384f201c/d5bfb/type-hint-vscode.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.52083333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6UlEQVQoz53R3W/SUBQA8GpcZmAbIRsgGqeMUkp7+3Hb2xZKP6CEj42pD/juo0+N/nn+Ab5LjP/Dwqtm4YHS4ymdxEwTE5v8cs4999yT9pYzuIuDyHXfCcz92BTduCW5cZt4sSD1Y9OZxeFoEQeZaIH529h257Ege7GoBDniZz6Iiv/+2Xm7yJUfn9UoG3w3nQgcYwQ6HYJiTEE1Z2B052C5b8DsvkLXO9S+AkLHQIwJxgn2TrB2if1TqD5pSFzxuFwXiH8jaxFQNt84/UVi9i4TzR4n1I4SiUYJLwfI32uR4HcbQQlTnHF7Vn1OuEeFg7pOp6uOGoGiR1vGpqnJxqmhh6muhinTBilVB6mJ0UCWNtzlpppjeR00JVi/zAaelE7reBcrSRuB1Xu9Zc4VWNYMqOqBSvpgEh802QNKPNAxMpLnvxjES7MoS/11NRtYKJbqfMddicoA2iTc8pIHO7IPLcTf0/yzlua93nr3ycWjEr6hfyMqIQ4MNhiTXJCIeEf7SO6tlX2+yc/6t5XaOeGOjstPFWP0Q8Kf0lEHaPgPf+/JhlZqL1Tu8LBwyov2p1an963Ztr+gZVN0lrzYXWb5hYDrtnMnW1u459zVd3t4xvnaaLHP5dN6g8PnATpBVVT5T9nZEnr4E82X+x2Gd1CXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Interface do VS Code mostrando um erro de tipo\"\n        title=\"Como o erro do mypy é exibido no VS Code\"\n        src=\"/static/eef1fd579b269dbcfb7e4183384f201c/e5715/type-hint-vscode.png\"\n        srcset=\"/static/eef1fd579b269dbcfb7e4183384f201c/8514f/type-hint-vscode.png 192w,\n/static/eef1fd579b269dbcfb7e4183384f201c/804b2/type-hint-vscode.png 384w,\n/static/eef1fd579b269dbcfb7e4183384f201c/e5715/type-hint-vscode.png 768w,\n/static/eef1fd579b269dbcfb7e4183384f201c/d5bfb/type-hint-vscode.png 1072w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Como o erro do mypy é exibido no VS Code</figcaption>\n  </figure></p>\n<p><a href=\"https://code.visualstudio.com/docs/python/linting#_mypy\">Leia mais sobre como configurar o Mypy com VS Code</a>.</p>\n<h3>Vim</h3>\n<p>No <a href=\"/tag/vim.html\" title=\"Leia mais sobre Vim\"><em>Vim</em></a> há diferentes alternativas. Talvez a forma mais simples\ne prática seja com o uso do <a href=\"https://github.com/dense-analysis/ale\" title=\"Veja o repositório no Github\"><em>vim-ale</em></a>.</p>\n<p>Caso você se aventure pelo mundo do <a href=\"/tag/lsp.html\" title=\"Leia mais sobre Language Server Protocol\"><em>LSP</em></a>,\numa combinação interessante é a do <a href=\"https://github.com/prabirshrestha/vim-lsp\" title=\"LSP com Vim\"><em>vim-lsp</em></a> +\n<a href=\"https://github.com/python-lsp/python-lsp-server\" title=\"Acesse o repositório no GitHub\"><em>Python Language Server</em></a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ pip install pip install python-lsp-server pylsp-mypy</code></pre></div>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1d2244b4c1e0109ffcf8caa1d743cbb6/38a65/type-hint-vim.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACN0lEQVQoz52TyW4TQRCG5wDikgtKwJDFS7ae7tlnvI1npsfO7sSOgkKUQA6IIAwYSJQgAjkhzjwHb8MLGPEYYC5OF9XjGIyEIoWRPlVV16LqvzXK9m33ej2ulEmhFM/O5bnKypxqPie0xA0r4iFf536whnaDR/EGL/rLnGCN+g9m5p0RJZeanc174Xe3VId8cU04XhVMRxKDZsbgFpbB8RbByS8lvuksANUjYAjtI5gRCelnp40VJTU2oelm9WfBb4BXruPAJTBMDszgSYOqRb/twJe5AdTgOJAnA6cybBMHjjPDqnULwSYUg/o5DhT6RdEVOJcbp7OsqdxKpdk8LXcJrQChgSAswE3CBPrnWn/R3zYEwioSQbRAzOkhTGRoU7k7McPs/GrX9lbAcGpCajRAt6pg2DXUsppcT2oqY6zD/CJqug5uqSHy3qrwjSqoOaOpjIwytrfb6p4dHsDx0x3x7uVDePviAbx5tgeHB9tw9GQHjg7uwfP9Brx6tAWvH9+Hk9YunLb34ePpCXw4ey8+HbfF59YOtJejpnJzdJKprNS17RBshwvHidD2cVwuz8D1JPjibpzEg7xl+WCaZWHagdCxJjODGqbuZBjq8YOgLoSFPcKi8wRtCDbE8LnGJT3UtEdoCFNp1sCBWU2zYmHYC319Lqxu1RINLyWp7/fIOJPTt5TRsfFpVfO/UD34pmqVDtUrHWnxb+jM0+KlYF9nqOfrZJpECn7XkHEkh2T/E9k7hdz4BaOERNwvf9Z4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Interface do Vim mostrando um erro de tipo\"\n        title=\"Como o erro do mypy é exibido no vim com vim-lsp\"\n        src=\"/static/1d2244b4c1e0109ffcf8caa1d743cbb6/e5715/type-hint-vim.png\"\n        srcset=\"/static/1d2244b4c1e0109ffcf8caa1d743cbb6/8514f/type-hint-vim.png 192w,\n/static/1d2244b4c1e0109ffcf8caa1d743cbb6/804b2/type-hint-vim.png 384w,\n/static/1d2244b4c1e0109ffcf8caa1d743cbb6/e5715/type-hint-vim.png 768w,\n/static/1d2244b4c1e0109ffcf8caa1d743cbb6/38a65/type-hint-vim.png 1075w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Como o erro do mypy é exibido no vim com vim-lsp</figcaption>\n  </figure></p>\n<h2>Considerações finais</h2>\n<p>Volto a mencionar a minha experiência em um projeto complexo em <em>Javascript</em>: Ter os tipos declarados e explícitos foi de muita ajuda,\ne sem dúvida acelerou o desenvolvimento e o <em>onboarding</em> de novos membros à equipe com o passar do tempo. Não é tão difícil de enxergar as vantagens por esses termos.</p>\n<p>Mas o debate sobre <em>Python</em> em si ser um bom candidato a esse tipo de prática é muito válido. Fazendo um contraponto ao parágrafo acima,\num código bem escrito poderia sim ser o suficiente para resolver alguns dos problemas que estamos tentando resolver com <em>type hint</em>.</p>\n<p>Eu ainda trocaria um código <code class=\"language-text\">mal escrito</code> por um <code class=\"language-text\">bem escrito</code>, ao invés de um <code class=\"language-text\">mal escrito</code> por um <code class=\"language-text\">mal escrito com type hints</code>.</p>\n<p>Em cima do muro :)</p>\n<p>Quem sabe no próximo grande projeto...</p>\n<p>Até a próxima.</p>\n<h2>Referência</h2>\n<ul>\n<li><a href=\"https://dev.to/tusharsadhwani/does-python-need-types-59if\">dev.to - Does Python need types?</a></li>\n<li><a href=\"https://dev.to/tusharsadhwani/the-comprehensive-guide-to-mypy-561m\">dev.to - The comprehensive guide to mypy</a></li>\n<li><a href=\"https://www.python.org/dev/peps/pep-0484/\">PEP 484 - Type hints</a></li>\n<li><a href=\"https://www.researchgate.net/publication/259634489_An_empirical_study_on_the_impact_of_static_typing_on_software_maintainability\">ResearchGate - An empirical study on the impact of static typing on software maintainability</a></li>\n<li><a href=\"https://www.treinaweb.com.br/blog/quais-as-diferencas-entre-tipagens-estatica-ou-dinamica-e-forte-ou-fraca/\">TreinaWeb - Quais as diferenças entre tipagens: estática ou dinâmica e forte ou fraca</a></li>\n<li><a href=\"https://pt.wikipedia.org/wiki/Python\">Wikipedia - Python</a></li>\n</ul>","excerpt":"Tipos em Python é aquele \"tipo\" de assunto que vai agitar qualquer papo de almoço entre programadores.\nEu mesmo fui cético por muito tempo…","frontmatter":{"date":"2021-10-20T15:00:00.000Z","title":"Tipo assim... tipo em Python","tags":["python","typing-hints","qualidade","linter","mypy"],"thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADT0lEQVQ4y4WU+09UVxDH9y9pY1KrhaX6Q3UtaCGYGE2spvqD8dGmglJFl5UGtCQqpiY0MdTXFZTnEl/4aFXESAGDSKMReSpoQSMLVLE+ipooMeu95+Pcvfcuu2vESSZnN3fO53xn5sxxKaX4kOuGEe26gSGraU5MrLkmAn7IjIhvsXGu2ODIgKabQxRf6GTP2Vb2nLmOv76L3sDjiRXGwnQ7pcNNt8nQ6vmhsJbJ6QeJzzjI1DSN6T8V0dw9EIoxY8NQew2lbNgfzICgbgHT99VT2dhDycUuJv1YROKmSmZvqmDq6n1srWy0gPpb2Sd7baDJCNfQMKLlm7AVu2rJ2F9H2u7aENDjLSM+fT/5VZcsoMlxYPYaStmB3Rp8Rt6Ra2RXXGGzv4Ut/ivk+ZvJLmkgKduPZ2OpADXy/Rfh0V70O17U/812ypZSl9OxR6OvSdlew+cbjuL2HiUuswp3ph/3+nIS1pXiyaogyVeOe43G1rLz0LcM/e/PUDeSUW9G7DIauJwmnLk+wBRvNUl5fzBr80m+zj3OdK+fhPVlAiwhfm0xCWs1Pl11gJKzUsO+peitSairbtSTWhuom0BL4YG6XuJ8J5i15TQzcqqZ5jvG8sJL+Epb8B66TNahJjK1BnafusxY/05om4lqSwYTOFxs11AfV1j0lwVM/OU0X/qq0Wpa4L+9MJwjngtDP8Og+L3voT1RYN8IdI4FHNLeB55vG+SLrGo8uSdYWNDI2L/l0JvM2+55GF2pGJ0pGO1z0AWkOuYKNEWg4lfjo1N2mvL4xRip+TV8sqaSbwsaeBP4TYALULeXoHoWorpTUZ3SgPbZcEPSbf1K1MXJ/3mo4PPxpkRem+7AU7Ydv4ZW109wuFCA81G9i8S/QwV2QGAn6n4+akBqOFAgv39FvewIw8KTEjvwIXvwuyhbINDFsor3r4O7cu/urIaRKgsSHlnrDkZNiqPUHCfzLPVAFN6aKykvDUHp8MCTPwV2GHU3x4IZwajRC0+KA7Tg9mmvelB9K1E3U6UW4h3S2X/SJM1tkmb7uLLYx+G95ytiNlVwFDXagBqpsPzpOZmKh1GjNuHz5chW9gbnABVRr8iaOfEff2AdhSZU7pbjKuTRz1WsvQOAZnfm2TGBHwAAAABJRU5ErkJggg==","width":180,"height":180,"src":"/static/7f2a92f8e64d5340552525c4391133b2/d8216/python-logo.png","srcSet":"/static/7f2a92f8e64d5340552525c4391133b2/d8216/python-logo.png 1x"}},"publicURL":"/static/7f2a92f8e64d5340552525c4391133b2/python-logo.png"}},"fields":{"readingTime":{"minutes":7.445},"slug":"/2021/10/20/tipo-assim-tipo-python.html"}},"site":{"siteMetadata":{"author":{"name":"Klaus Peter Laube","gravatar":"https://en.gravatar.com/userimage/12163112/d3ae0c6239980b01ff1f1730b65c2ebe.jpg"},"siteUrl":"https://klauslaube.com.br"}}},"pageContext":{"slug":"/2021/10/20/tipo-assim-tipo-python.html"}},"staticQueryHashes":["2831923220","4114525740"]}