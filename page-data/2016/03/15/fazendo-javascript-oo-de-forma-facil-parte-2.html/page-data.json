{"componentChunkName":"component---src-templates-blog-post-js","path":"/2016/03/15/fazendo-javascript-oo-de-forma-facil-parte-2.html","result":{"data":{"markdownRemark":{"html":"<p>Há cerca de 5 anos, fiz um <em>post</em> sobre como escrever\n<a href=\"/2011/05/16/fazendo-javascript-oo-de-forma-facil.html\" title=\"Leia o artigo completo\">Javascript OO de forma fácil</a>\nutilizando a orientação a objetos da linguagem através de\n<a href=\"/2011/10/23/javascript-constructor-function-object-literal.html\" title=\"Diferença entre Constructor Function e Object Literal\"><em>Constructor Functions</em> e <em>Object Literal</em></a>.\nHoje, com o <em>ES6</em>, o esquema de <em>Prototype</em> ainda continua,\nmas a sintaxe ficou muito mais fácil e intuitiva, valendo a pena dar um <em>revival</em>\nno tema para explorar um pouquinho mais das novas funcionalidades.</p>\n<p>Então, nobre leitor, prepare o seu <a href=\"https://babeljs.io/\" title=\"Javascript compiler\"><em>Babel</em></a> e vamos escrever algumas classes\nna nova sintaxe do <a href=\"/tag/javascript.html\" title=\"Leia mais sobre Javascript\"><em>Javascript</em></a>.</p>\n<h2>Açúcares sintáticos</h2>\n<p>Sim! A sintaxe apresentada no <em>ECMAScript 6</em> não passa de açúcar sintático!</p>\n<p>Na prática, o <em>Javascript</em> continua utilizando a orientação a objetos através de\n<em>Prototype</em>. Mas isso não diminui em nada o valor desse <em>approach</em> para com a\nlinguagem. Fazer <em>Javascript</em> OOP é a realidade de muitas aplicações\n(complexas ou não), e caso você queira escrever componentes utilizando <em>React</em>,\nverá que a dupla <em>ES6</em> + <em>React</em> é capaz de produzir componentes com código\nextremamente legível e elegante.</p>\n<p>Vamos começar escrevendo nossa classe <code class=\"language-text\">Pessoa</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Pessoa</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> nome<span class=\"token punctuation\">,</span> idade <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nome <span class=\"token operator\">=</span> nome<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>idade <span class=\"token operator\">=</span> idade<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">sayTheName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nome<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">let</span> pessoa <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Pessoa</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> idade<span class=\"token operator\">:</span> <span class=\"token number\">18</span><span class=\"token punctuation\">,</span> nome<span class=\"token operator\">:</span> <span class=\"token string\">\"Guido\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\npessoa<span class=\"token punctuation\">.</span><span class=\"token function\">sayTheName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Guido</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>pessoa<span class=\"token punctuation\">.</span>__proto__<span class=\"token punctuation\">.</span>sayTheName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// function sayTheName</span></code></pre></div>\n<p>Agora possuímos a palavra reservada <code class=\"language-text\">class</code> para a construção de classes. Além\ndisso, temos a inserção do método <code class=\"language-text\">constructor</code>, que será executado no momento em que\na instância for criada.</p>\n<p>Não precisamos mais da assinatura <code class=\"language-text\">Pessoa.prototype.method = function</code>\npara adicionarmos um método. Agora há uma sintaxe específica, muito mais clara\ne fácil de lembrar.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 600px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1fe8dac458a469ed60158d951d6edef8/b4294/stay-classy.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.29166666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAFOYWWVkBR//8QAGBABAQEBAQAAAAAAAAAAAAAAAQACERL/2gAIAQEAAQUCdGQc5m72S9N//8QAFhEBAQEAAAAAAAAAAAAAAAAAABES/9oACAEDAQE/AYy//8QAGBEBAQADAAAAAAAAAAAAAAAAAQADERP/2gAIAQIBAT8Bcou7sX//xAAbEAACAQUAAAAAAAAAAAAAAAAAARARITFhcf/aAAgBAQAGPwKrFtRcXDJ//8QAGhAAAwADAQAAAAAAAAAAAAAAAAERITFR4f/aAAgBAQABPyGgMHE6vRslSmqFJNwM3//aAAwDAQACAAMAAAAQKD//xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQMBAT8QECWr/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAERMWH/2gAIAQIBAT8QUIUYs//EABwQAQEBAQACAwAAAAAAAAAAAAERIQAxUWGB0f/aAAgBAQABPxClBUzzf3myojg26x+XaIP0dOsGx4BEaD6d5Lq7/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"&quot;Stay classy San Diego! (sandiegouniontribune.com)&quot;\"\n        title=\"Stay classy San Diego! (sandiegouniontribune.com)\"\n        src=\"/static/1fe8dac458a469ed60158d951d6edef8/b4294/stay-classy.jpg\"\n        srcset=\"/static/1fe8dac458a469ed60158d951d6edef8/7809d/stay-classy.jpg 192w,\n/static/1fe8dac458a469ed60158d951d6edef8/4ecad/stay-classy.jpg 384w,\n/static/1fe8dac458a469ed60158d951d6edef8/b4294/stay-classy.jpg 600w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Stay classy San Diego! (sandiegouniontribune.com)</figcaption>\n  </figure></p>\n<p>Note que no momento de instanciar a classe, nada muda em relação à versão atual.\nO que temos de mais \"exótico\" é a capacidade de nomearmos parâmetros\n(como os <code class=\"language-text\">**kwargs</code> do <a href=\"/tag/python.html\" title=\"Leia mais sobre Python\"><em>Python</em></a>),\nna definição do construtor.</p>\n<p>Esse conceito, apresentado na linha <code class=\"language-text\">constructor({nome, idade})</code>, é chamado de\n<a href=\"https://github.com/lukehoban/es6features#destructuring\"><em>destructuring</em></a>.</p>\n<p>Para chegarmos a um resultado parecido no <em>ES5</em>, precisaríamos fazer o seguinte:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> <span class=\"token function-variable function\">Pessoa</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Pessoa</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">options</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> nome <span class=\"token operator\">=</span> options<span class=\"token punctuation\">.</span>nome<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> idade <span class=\"token operator\">=</span> options<span class=\"token punctuation\">.</span>idade<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nome <span class=\"token operator\">=</span> nome<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>idade <span class=\"token operator\">=</span> idade<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2>Herança</h2>\n<p>Lembra da confusão que era fazer heranças no <em>Javascript</em>? Pois bem, ganhamos\nnessa nova versão da linguagem a palavra reservada <code class=\"language-text\">extends</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Atleta</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Pessoa</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> nome<span class=\"token punctuation\">,</span> idade<span class=\"token punctuation\">,</span> esporte <span class=\"token operator\">=</span> <span class=\"token string\">\"Basquete\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> nome<span class=\"token operator\">:</span> nome<span class=\"token punctuation\">,</span> idade<span class=\"token operator\">:</span> idade <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>esporte <span class=\"token operator\">=</span> esporte<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">let</span> jogador <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Atleta</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> idade<span class=\"token operator\">:</span> <span class=\"token number\">22</span><span class=\"token punctuation\">,</span> nome<span class=\"token operator\">:</span> <span class=\"token string\">\"Fulano\"</span><span class=\"token punctuation\">,</span> esporte<span class=\"token operator\">:</span> <span class=\"token string\">\"Futebol\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>jogador<span class=\"token punctuation\">.</span>nome<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Fulano</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>jogador<span class=\"token punctuation\">.</span>esporte<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Futebol</span>\n\n<span class=\"token keyword\">let</span> jogador2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Atleta</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> idade<span class=\"token operator\">:</span> <span class=\"token number\">28</span><span class=\"token punctuation\">,</span> nome<span class=\"token operator\">:</span> <span class=\"token string\">\"Beltrano\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>jogador2<span class=\"token punctuation\">.</span>nome<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Beltrano</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>jogador2<span class=\"token punctuation\">.</span>esporte<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Basquete</span></code></pre></div>\n<p>E para tornar ainda mais fácil essa prática, também ganhamos a função reservada\n<code class=\"language-text\">super</code>, que é responsável por executar o método pai, dada a chamada em um\ndeterminado método de uma classe filha.</p>\n<p>Para finalizar o nosso exemplo, na linha <code class=\"language-text\">constructor({nome, idade, esporte=&#39;Basquete&#39;})</code>\ntemos a apresentação do recurso <a href=\"https://github.com/lukehoban/es6features#default--rest--spread\" title=\"Leia mais sobre default, rest e spread\"><em>default</em></a>.\nCom ele, somos capazes de definir valores padrões caso a passagem de determinado\nparâmetro seja omitida.</p>\n<h2>Considerações finais</h2>\n<p>Se tem algo que chama a atenção com o advento do <em>ECMAScript 6</em> é a facilidade\nna construção de classes e objetos, uma coisa que sempre foi muito confusa\n(mas não menos eficiente) em <em>Javascript</em>.</p>\n<p>Bibliotecas como o <em>React</em> tem feito um bom uso desse recurso, proporcionando\nsoluções limpas e legíveis, fáceis de estender e customizar.</p>\n<p>O suporte pelos <em>browsers</em> ainda não é dos melhores, se fazendo necessário\no uso do <em>Babel</em> para o <em>transpiling</em> de <em>ES6</em> para <em>ES5</em>. Mesmo assim, nada\nque impeça o uso de sintaxe <em>ES6</em> nos seus próximos projetos.</p>\n<p>Confira a <a href=\"https://babeljs.io/repl/#?evaluate=true&#x26;presets=es2015%2Cstage-2&#x26;code=class%20Pessoa%20%7B%0A%20%20constructor(%7Bnome%2C%20idade%7D)%20%7B%0A%20%20%20%20this.nome%20%3D%20nome%0A%20%20%20%20this.idade%20%3D%20idade%0A%20%20%7D%0A%20%20%0A%20%20sayTheName()%20%7B%0A%20%20%20%20console.log(this.nome)%3B%0A%20%20%7D%0A%7D%0A%0Alet%20pessoa%20%3D%20new%20Pessoa(%7Bidade%3A18%2C%20nome%3A&#x27;Guido&#x27;%7D)%3B%0Apessoa.sayTheName()%3B%20%2F%2F%20Guido%0Aconsole.log(pessoa.__proto__.sayTheName)%3B%20%2F%2F%20function%20sayTheName%0A%0Aclass%20Atleta%20extends%20Pessoa%20%7B%0A%20%20constructor(%7Bnome%2C%20idade%2C%20esporte%3D%22Basquete%22%7D)%20%7B%0A%20%20%20%20super(%7Bnome%2C%20idade%7D)%0A%0A%20%20%20%20this.esporte%20%3D%20esporte%0A%20%20%7D%0A%7D%0A%0Alet%20jogador%20%3D%20new%20Atleta(%7Bidade%3A%2022%2C%20nome%3A&#x27;Fulano&#x27;%2C%20esporte%3A&#x27;Futebol&#x27;%7D)%0Aconsole.log(jogador.nome)%3B%20%2F%2F%20Fulano%0Aconsole.log(jogador.esporte)%3B%20%2F%2F%20Futebol%0A%0Alet%20jogador2%20%3D%20new%20Atleta(%7Bidade%3A%2028%2C%20nome%3A%20&#x27;Beltrano&#x27;%7D)%3B%0Aconsole.log(jogador2.nome)%3B%20%2F%2F%20Beltrano%0Aconsole.log(jogador2.esporte)%3B%20%2F%2F%20Basquete\" title=\"Veja o código transpilado no Babel\">versão \"transpilada\" no <em>Babel</em></a>.</p>\n<p>Até a próxima!</p>\n<h2>Referências</h2>\n<ul>\n<li><a href=\"http://www.2ality.com/2015/08/getting-started-es6.html\"><em>2ality - Getting started with ECMAScript 6</em></a></li>\n<li><a href=\"https://github.com/lukehoban/es6features\"><em>lukehoban - Overview of ECMAScript 6 features</em></a></li>\n</ul>","excerpt":"Há cerca de 5 anos, fiz um post sobre como escrever\nJavascript OO de forma fácil\nutilizando a orientação a objetos da linguagem através de…","frontmatter":{"date":"2016-03-15 13:20","title":"Fazendo Javascript OO de forma fácil - Parte 2","tags":["desenvolvimento-web","javascript","es6","oop"],"thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsSAAALEgHS3X78AAAB/UlEQVQ4y2P4cCeIXBTC8OG2P7kocFQzFTW/vQFCEPabG35A9vtb/q+v+727SYTmL/cCPt8NADKAen49CfxyP+DtTRDj24OA97f8sGsGKv101//VNb+CLKvSPOuXV/x+Pg7YsNglKszMy8OkstD6xjHvz/eAynBo/nzX//llXysrQ3t7I6DIka0eWjr6QG5IoKmEjA7QxB+PAt7h0fzisq+zk5Gbq/H3hwFTuxykZHVWznX+/z54w2LX2yd8gAre38Zrs6ODkauLMdDnaxe4yCjohgeb7Vrl9vNp4O9nge9u+n24Q0izh5sJ0M9AkYJMKzklXUVl3UB/04Ob3LE7GxxaAUD07BJYs7sJ0JSvDwK+PgzYtMQ1MdZCTUPP3Nzw0gHPbw+DGNB0/noS8PKqH9CfH+74OzkaeXqYAIMdKH71sPf/t0H/3wX1NNnJyOvMm+T451kwQjMw6oGO2bzUxdHBeMkM581LXTW19UKDzD7fC0hNtDAxNVg+y/nsHk+g+0GBN8f591MMzbvXuAHVKSjrKqnqATUDFf17EbhkujNQEOhnFTU9GQWdhGgLoF8+3UX18ztwSrp9wnvRNKfZExxPbPcApiqgm38/Cbx53HvFLOeZvY5blrkC/YU9kQDtBwbPn2eBQPTzUSBQJ0Tw24NAiODvp4Gf7vhDkicASrr20Yl5skAAAAAASUVORK5CYII=","width":180,"height":180,"src":"/static/71bdaf11bea1335df731bf1ea916e81a/d8216/javascript-logo.png","srcSet":"/static/71bdaf11bea1335df731bf1ea916e81a/d8216/javascript-logo.png 1x"}},"publicURL":"/static/71bdaf11bea1335df731bf1ea916e81a/javascript-logo.png"}},"fields":{"readingTime":{"minutes":3.29},"slug":"/2016/03/15/fazendo-javascript-oo-de-forma-facil-parte-2.html"}},"site":{"siteMetadata":{"author":{"name":"Klaus Peter Laube","gravatar":"https://en.gravatar.com/userimage/12163112/d3ae0c6239980b01ff1f1730b65c2ebe.jpg"},"siteUrl":"https://klauslaube.com.br"}}},"pageContext":{"slug":"/2016/03/15/fazendo-javascript-oo-de-forma-facil-parte-2.html"}}}