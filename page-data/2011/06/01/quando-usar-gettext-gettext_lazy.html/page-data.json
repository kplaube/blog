{"componentChunkName":"component---src-templates-blog-post-js","path":"/2011/06/01/quando-usar-gettext-gettext_lazy.html","result":{"data":{"markdownRemark":{"html":"<p>Para vocês que desenvolvem em <a href=\"/tag/python.html\" title=\"Leia mais sobre Python\"><em>Python</em></a> e <a href=\"/tag/django.html\" title=\"Leia mais sobre Django\"><em>Django</em></a> preocupando-se\ncom internacionalização, já devem ter feito a seguinte pergunta: Quando\nusar <code class=\"language-text\">gettext</code> e <code class=\"language-text\">gettext_lazy</code>?</p>\n<p>Acredito que antes de responder esta pergunta, temos que responder outra\nquestão pertinente: Devo utilizar <code class=\"language-text\">gettext</code> ou <code class=\"language-text\">ugettext</code>?</p>\n<h2>gettext vs ugettext</h2>\n<p>Essas duas funções seguem o mesmo princípio dos métodos mágicos\n<code class=\"language-text\">__str__</code> e <code class=\"language-text\">__unicode__</code>. Onde <code class=\"language-text\">gettext</code> retornará um texto traduzido\ncomo uma <em>string</em> “comum”, e <code class=\"language-text\">ugettext</code> retornará um texto traduzido\ncomo uma <em>string</em> <em>Unicode</em>.</p>\n<p>Como nosso idioma nativo abusa do uso de caracteres especiais, aconselho\nsempre que possível a utilização do <code class=\"language-text\">ugettext</code>. Na verdade, é uma\nforma de garantir sucesso na tradução de qualquer idioma sem quebrar a\ncabeça com <em>encoding</em> (já que o <em>Unicode</em> tem uma ampla tabela de\ncaracteres).</p>\n<p>Além disso, passe a mensagem como <em>Unicode</em> para a função sempre que\nnecessário:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">texto_traduzido <span class=\"token operator\">=</span> ugettext<span class=\"token punctuation\">(</span><span class=\"token string\">u'Descrição do produto em estoque'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2>ugettext vs ugettext_lazy</h2>\n<p>A principal diferença entre <code class=\"language-text\">ugettext</code> e <code class=\"language-text\">ugettext_lazy</code> é que o\núltimo é literalmente um preguiçoso. Ele faz uma referência para a\n<em>string</em> (e não necessariamente para a tradução), fazendo com que a\noperação seja executada apenas quando a renderização da <em>string</em> é\nnecessária (ao contrário de <code class=\"language-text\">ugettext</code> que é processado assim que a\nexpressão é interpretada).</p>\n<p>Confuso? Talvez o <a href=\"http://www.aprendendodjango.com/o-mesmo-site-em-varios-idiomas/\" title=\"Aprendendo Django no Planeta Terra - O mesmo site em vários idiomas\"><em>Marinho Brandão</em></a> possa ser mais claro:</p>\n<blockquote>\n<p>A função “<strong>ugettext_lazy()</strong>“ é <strong>preguiçosa</strong>. Isso significa que a\ntradução é feita somente quando ela é requisitada, o que é<br>\nrelativamente melhor para o caso de classes de modelo, pois elas<br>\nsão constantemente utilizadas sem que a tradução de um termo seja<br>\nnecessário de fato.</p>\n<p>Por outro lado a função “<strong>ugettext()</strong>“ traduz a string<br>\n<strong>instantaneamente</strong>, o que é melhor para casos como o de formulários<br>\ndinâmicos e views, pois eles não são usados de maneira tão constante<br>\nquanto classes de modelo.</p>\n</blockquote>\n<p>Então… utilize <code class=\"language-text\">ugettext_lazy</code> nos campos e meta-informações dos\nmodelos (onde a tradução pode ser feita sob demanda), e <code class=\"language-text\">ugettext</code> em\nmétodos, funções e views (onde a tradução tem quer ser “instantânea”).</p>\n<h2>Referências</h2>\n<ul>\n<li><a href=\"http://docs.python.org/library/gettext.html\" title=\"gettext - Multilingual internationalization services\"><em>Python Documentation – gettext</em></a></li>\n<li><a href=\"https://docs.djangoproject.com/en/dev/topics/i18n/internationalization/#lazy-translation\" title=\"Django Docs - Lazy Translation\"><em>Django Documentation – Internationalization</em></a></li>\n<li><a href=\"http://www.djangobook.com/en/1.0/chapter18/\" title=\"The Django Book - i18n\"><em>The Django Book – Internationalization</em></a></li>\n<li><a href=\"http://www.aprendendodjango.com/o-mesmo-site-em-varios-idiomas/\" title=\"Aprendendo Django - O mesmo site em vários idiomas\">Aprendendo <em>Django</em> no Planeta Terra – O mesmo <em>site</em> em vários idiomas</a></li>\n</ul>\n<p>Até a próxima…</p>","excerpt":"Para vocês que desenvolvem em Python e Django preocupando-se\ncom internacionalização, já devem ter feito a seguinte pergunta: Quando\nusar  e…","frontmatter":{"date":"2011-06-01T09:41:00.000Z","title":"Quando usar gettext e gettext_lazy?","tags":["desenvolvimento-web","python","django","i18n"],"thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADTklEQVQ4y4WU609URxiH9z8xTY0JLmBiGuSm9ZaGflCbNn6wpt5AIohIVapWSm2TEmPjhXAVhEVBQMUPbsKlsYBiMEGBQmFFDKtcVLQWoza2tnvOPL6z5xxYF7GTvJmTzMxzfr/3nXldSinmCsM0Z4VpKvRw9oQP11ww5+C7RuhaONQVvlmvO5t6Rh5ztnWAsubfONXYQ/3VAYYnnr5f4dswy6Yel7tG2HyiiS+PelmQXII7tYSI5EIW7yimtdcf3KP3zlJo2TNx5n8DRnAho7SV0uZ+zl+7zQdbiojLqiQxq4KIrfnsLWmyrBsBOSdnbWua4ZorZ2fbfKw/4mXbiUa++vkyCV97WLKrnMiUArJLmy2g5jgwew5aNm3Z95+8IK+hm0M1N8g910lO9XVyqzs4UNnGsr1VxGSU4U7WwEZ4UoE5vB/1rMPOl6XU5eTg+avXrMlrYn5aNe5dNSxMr8Kd7iEyrYLIHWXEZJ4mfvdpokThniIvDG/CvP4h6uZS1D/jdg1MXIZt9Ur/BBGZdSQcbCD2m/PEZ9exONNDdHo50WmniEotZlFqAfM2nuRo7RW4uxGjKx7VGYmavGADAxpoVdXTdoeFu+uJ3X+RmH31RIvKtT+1sL3wKsn5raTk/8rWYy3knmnn2dBJ6I7FvLUMNPD+MTuHxmxg/IEGojJr+bHuGsbDcpg4BOM5MPYtjB4Efyr0JqJuLQUdGnjvyGygtuzWCsXu6sMtTI2eg6GVBPpWo/pWYPZ+jOpJxBCI2bNKFC5H6eh0ox7V2pYF6FR46q/XAvIyb3sln/zwCy/9x8H3Kcr3OWpgjUBXoTS0OxFuLkF1fQQ3RF1XghTl4UxRQt9mr/8Psqs6yLs0yN9jBQJMQg2us8Ivlu8dljkHNSIpGPkOdVeuzVT7u6+NGf4uJ4tFWRIMfibzWjmcIZXNQt1OgQflFiOkAUxf7NBHrpUaZsB6AY+K4Hex6ftCoOukU4jNSQ88rkfd2WkDAsG8OVqU81IcoAW3pKtXPtTQBuhfAX0rBRgnoBSx/L28jvbpnKkZ2hztK8SC+u8p6k8v6kGhRIEorJEfDc/Y/L/29XY+zOkfhEZoAUKVvafBqhmFGio5CsLt7/B2FT7eADuNeAfFSIWaAAAAAElFTkSuQmCC","width":180,"height":180,"src":"/static/7f2a92f8e64d5340552525c4391133b2/d8216/python-logo.png","srcSet":"/static/7f2a92f8e64d5340552525c4391133b2/d8216/python-logo.png 1x"}},"publicURL":"/static/7f2a92f8e64d5340552525c4391133b2/python-logo.png"}},"fields":{"readingTime":{"minutes":2.26},"slug":"/2011/06/01/quando-usar-gettext-gettext_lazy.html"}},"site":{"siteMetadata":{"author":{"name":"Klaus Peter Laube","gravatar":"https://en.gravatar.com/userimage/12163112/d3ae0c6239980b01ff1f1730b65c2ebe.jpg"},"siteUrl":"https://klauslaube.com.br"}}},"pageContext":{"slug":"/2011/06/01/quando-usar-gettext-gettext_lazy.html"}}}