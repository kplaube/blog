{"componentChunkName":"component---src-templates-blog-post-js","path":"/2011/06/01/quando-usar-gettext-gettext_lazy.html","result":{"data":{"markdownRemark":{"html":"<p>Para vocês que desenvolvem em <a href=\"/tag/python.html\" title=\"Leia mais sobre Python\"><em>Python</em></a> e <a href=\"/tag/django.html\" title=\"Leia mais sobre Django\"><em>Django</em></a> preocupando-se\ncom internacionalização, já devem ter feito a seguinte pergunta: Quando\nusar <code class=\"language-text\">gettext</code> e <code class=\"language-text\">gettext_lazy</code>?</p>\n<p>Acredito que antes de responder esta pergunta, temos que responder outra\nquestão pertinente: Devo utilizar <code class=\"language-text\">gettext</code> ou <code class=\"language-text\">ugettext</code>?</p>\n<h2>gettext vs ugettext</h2>\n<p>Essas duas funções seguem o mesmo princípio dos métodos mágicos\n<code class=\"language-text\">__str__</code> e <code class=\"language-text\">__unicode__</code>. Onde <code class=\"language-text\">gettext</code> retornará um texto traduzido\ncomo uma <em>string</em> “comum”, e <code class=\"language-text\">ugettext</code> retornará um texto traduzido\ncomo uma <em>string</em> <em>Unicode</em>.</p>\n<p>Como nosso idioma nativo abusa do uso de caracteres especiais, aconselho\nsempre que possível a utilização do <code class=\"language-text\">ugettext</code>. Na verdade, é uma\nforma de garantir sucesso na tradução de qualquer idioma sem quebrar a\ncabeça com <em>encoding</em> (já que o <em>Unicode</em> tem uma ampla tabela de\ncaracteres).</p>\n<p>Além disso, passe a mensagem como <em>Unicode</em> para a função sempre que\nnecessário:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">texto_traduzido <span class=\"token operator\">=</span> ugettext<span class=\"token punctuation\">(</span><span class=\"token string\">u'Descrição do produto em estoque'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2>ugettext vs ugettext_lazy</h2>\n<p>A principal diferença entre <code class=\"language-text\">ugettext</code> e <code class=\"language-text\">ugettext_lazy</code> é que o\núltimo é literalmente um preguiçoso. Ele faz uma referência para a\n<em>string</em> (e não necessariamente para a tradução), fazendo com que a\noperação seja executada apenas quando a renderização da <em>string</em> é\nnecessária (ao contrário de <code class=\"language-text\">ugettext</code> que é processado assim que a\nexpressão é interpretada).</p>\n<p>Confuso? Talvez o <a href=\"http://www.aprendendodjango.com/o-mesmo-site-em-varios-idiomas/\" title=\"Aprendendo Django no Planeta Terra - O mesmo site em vários idiomas\"><em>Marinho Brandão</em></a> possa ser mais claro:</p>\n<blockquote>\n<p>A função “<strong>ugettext_lazy()</strong>“ é <strong>preguiçosa</strong>. Isso significa que a\ntradução é feita somente quando ela é requisitada, o que é<br>\nrelativamente melhor para o caso de classes de modelo, pois elas<br>\nsão constantemente utilizadas sem que a tradução de um termo seja<br>\nnecessário de fato.</p>\n<p>Por outro lado a função “<strong>ugettext()</strong>“ traduz a string<br>\n<strong>instantaneamente</strong>, o que é melhor para casos como o de formulários<br>\ndinâmicos e views, pois eles não são usados de maneira tão constante<br>\nquanto classes de modelo.</p>\n</blockquote>\n<p>Então… utilize <code class=\"language-text\">ugettext_lazy</code> nos campos e meta-informações dos\nmodelos (onde a tradução pode ser feita sob demanda), e <code class=\"language-text\">ugettext</code> em\nmétodos, funções e views (onde a tradução tem quer ser “instantânea”).</p>\n<h2>Referências</h2>\n<ul>\n<li><a href=\"http://docs.python.org/library/gettext.html\" title=\"gettext - Multilingual internationalization services\"><em>Python Documentation – gettext</em></a></li>\n<li><a href=\"https://docs.djangoproject.com/en/dev/topics/i18n/internationalization/#lazy-translation\" title=\"Django Docs - Lazy Translation\"><em>Django Documentation – Internationalization</em></a></li>\n<li><a href=\"http://www.djangobook.com/en/1.0/chapter18/\" title=\"The Django Book - i18n\"><em>The Django Book – Internationalization</em></a></li>\n<li><a href=\"http://www.aprendendodjango.com/o-mesmo-site-em-varios-idiomas/\" title=\"Aprendendo Django - O mesmo site em vários idiomas\">Aprendendo <em>Django</em> no Planeta Terra – O mesmo <em>site</em> em vários idiomas</a></li>\n</ul>\n<p>Até a próxima…</p>","excerpt":"Para vocês que desenvolvem em Python e Django preocupando-se\ncom internacionalização, já devem ter feito a seguinte pergunta: Quando\nusar  e…","frontmatter":{"date":"2011-06-01T09:41:00.000Z","title":"Quando usar gettext e gettext_lazy?","tags":["desenvolvimento-web","python","django","i18n"],"thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADT0lEQVQ4y4WU+09UVxDH9y9pY1KrhaX6Q3UtaCGYGE2spvqD8dGmglJFl5UGtCQqpiY0MdTXFZTnEl/4aFXESAGDSKMReSpoQSMLVLE+ipooMeu95+Pcvfcuu2vESSZnN3fO53xn5sxxKaX4kOuGEe26gSGraU5MrLkmAn7IjIhvsXGu2ODIgKabQxRf6GTP2Vb2nLmOv76L3sDjiRXGwnQ7pcNNt8nQ6vmhsJbJ6QeJzzjI1DSN6T8V0dw9EIoxY8NQew2lbNgfzICgbgHT99VT2dhDycUuJv1YROKmSmZvqmDq6n1srWy0gPpb2Sd7baDJCNfQMKLlm7AVu2rJ2F9H2u7aENDjLSM+fT/5VZcsoMlxYPYaStmB3Rp8Rt6Ra2RXXGGzv4Ut/ivk+ZvJLmkgKduPZ2OpADXy/Rfh0V70O17U/812ypZSl9OxR6OvSdlew+cbjuL2HiUuswp3ph/3+nIS1pXiyaogyVeOe43G1rLz0LcM/e/PUDeSUW9G7DIauJwmnLk+wBRvNUl5fzBr80m+zj3OdK+fhPVlAiwhfm0xCWs1Pl11gJKzUsO+peitSairbtSTWhuom0BL4YG6XuJ8J5i15TQzcqqZ5jvG8sJL+Epb8B66TNahJjK1BnafusxY/05om4lqSwYTOFxs11AfV1j0lwVM/OU0X/qq0Wpa4L+9MJwjngtDP8Og+L3voT1RYN8IdI4FHNLeB55vG+SLrGo8uSdYWNDI2L/l0JvM2+55GF2pGJ0pGO1z0AWkOuYKNEWg4lfjo1N2mvL4xRip+TV8sqaSbwsaeBP4TYALULeXoHoWorpTUZ3SgPbZcEPSbf1K1MXJ/3mo4PPxpkRem+7AU7Ydv4ZW109wuFCA81G9i8S/QwV2QGAn6n4+akBqOFAgv39FvewIw8KTEjvwIXvwuyhbINDFsor3r4O7cu/urIaRKgsSHlnrDkZNiqPUHCfzLPVAFN6aKykvDUHp8MCTPwV2GHU3x4IZwajRC0+KA7Tg9mmvelB9K1E3U6UW4h3S2X/SJM1tkmb7uLLYx+G95ytiNlVwFDXagBqpsPzpOZmKh1GjNuHz5chW9gbnABVRr8iaOfEff2AdhSZU7pbjKuTRz1WsvQOAZnfm2TGBHwAAAABJRU5ErkJggg==","width":180,"height":180,"src":"/static/7f2a92f8e64d5340552525c4391133b2/d8216/python-logo.png","srcSet":"/static/7f2a92f8e64d5340552525c4391133b2/d8216/python-logo.png 1x"}},"publicURL":"/static/7f2a92f8e64d5340552525c4391133b2/python-logo.png"}},"fields":{"readingTime":{"minutes":2.26},"slug":"/2011/06/01/quando-usar-gettext-gettext_lazy.html"}},"site":{"siteMetadata":{"author":{"name":"Klaus Peter Laube","gravatar":"https://en.gravatar.com/userimage/12163112/d3ae0c6239980b01ff1f1730b65c2ebe.jpg"},"siteUrl":"https://klauslaube.com.br"}}},"pageContext":{"slug":"/2011/06/01/quando-usar-gettext-gettext_lazy.html"}},"staticQueryHashes":["2831923220","4114525740"]}