{"componentChunkName":"component---src-templates-blog-post-js","path":"/2011/09/06/assegura-a-qualidade-de-codigo-python-pylint.html","result":{"data":{"markdownRemark":{"html":"<p>Se você precisa de uma ferramenta mais poderosa que o <a href=\"/2011/08/26/assegure-qualidade-seu-codigo-python-pep.html\" title=\"Assegure a qualidade do seu código Python – pep8\"><em>pep8</em></a>, talvez você\nprecise do <em>Pylint</em>.</p>\n<p>De forma (bem) resumida, o <em>Pylint</em> analisa de forma minuciosa o código\ndo seu projeto <a href=\"/tag/python.html\" title=\"Leia mais sobre Python\"><em>Python</em></a>, lhe retornando uma variedade de relatórios\n(as vezes, detalhistas até demais) sobre todo o tipo de problema que ele\nencontra. Indo de incoerências com a <em>PEP 8</em>, até nome de variáveis.</p>\n<p>É sem dúvida, uma das melhores ferramentas feitas para o <em>Python</em>, e é\nessencial para você deixar o seu código mais próximo do “estado da\narte”.</p>\n<p>Mas o que eu achei mais legal sobre o <em>Pylint</em>, foi um comentário em sua\ndocumentação. O <a href=\"http://www.logilab.org/card/pylint_manual#what-is-pylint\" title=\"O que é o pylint?\">autor salienta</a> muito bem que a ferramenta pode ser\neficiente em certos contextos, mas não em todos. Então, antes de\n“pularmos de cabeça”, peço que você utilize o bom senso e saiba mensurar\nas suas necessidades em relação ao que a ferramenta tem a oferecer.</p>\n<h2>Na prática</h2>\n<p>Vamos testar as conformidades do arquivo <code class=\"language-text\">site.py</code> segundo o <em>Pylint</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ pylint /usr/lib/python2.7/dist-packages/site.py</code></pre></div>\n<p>O resultado pode parecer assustador. Então “vamos começar pelo começo”.</p>\n<p>O resultado do <em>Pylint</em> é dividido em duas grandes seções: <strong>análise de\ncódigo</strong> e <strong>relatório</strong>; O primeiro, como o nome sugere, apresenta uma\nanálise de código bem semelhante a apresentada pelo <em>pep8</em>. Porém no\nseguinte formato:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">MESSAGE_TYPE: LINE_NUM:[OBJECT:] MESSAGE</code></pre></div>\n<p>Vamos pegar a primeira linha gerada pelo <em>Pylint</em> para entender melhor:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">C:  1: Missing docstring</code></pre></div>\n<p><strong>C</strong> é o tipo da mensagem, <strong>1</strong> é o número da linha (no arquivo) onde\no problema foi constatado, <strong>Missing docstring</strong> é a mensagem gerada. O\n<em>Pylint</em> poderá apresentar os seguintes tipos de mensagens:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[R]efactor for a \"good practice\" metric violation\n[C]onvention for coding standard violation\n[W]arning for stylistic problems, or minor programming issues\n[E]rror for important programming issues (i.e. most probably bug)\n[F]atal for errors which prevented further processing</code></pre></div>\n<p>Quase posso ver o brilho em seus olhos. A saída do <em>Pylint</em> deixou de\nser enigmática, não?!</p>\n<p>A segunda seção, a de relatório, apresentará alguns números\ninteressantes sobre o seu projeto. Como o número de <em>warnings</em> e\n<em>errors</em>, uma nota para o seu projeto (e um comparativo com a execução\nanterior do <em>Pylint</em>), quantidade de código duplicado, quantidade de\ncódigo documentado e “desenhará” uma árvore de dependências do seu\nprojeto.</p>\n<h2>Diminuindo o ruído</h2>\n<p>Eu avisei que o <em>Pylint</em> era “barulhento”!</p>\n<p>Vamos reduzir um pouco o nível de detalhes da ferramenta, passando\nalguns parâmetros:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ pylint /usr/lib/python2.7/dist-packages/site.py --reports=n --include-ids=y --disable=W0232</code></pre></div>\n<p>Primeiro, com o parâmetro <strong>–-reports=n</strong> dizemos que não queremos\naquele relatório gigantesco no final da análise. O <strong>–-include-ids=y</strong>\nexibe para gente os <em>ids</em> das mensagens de erros do <em>Pylint</em>. É útil,\npois todas as mensagens que você julgar desnecessárias para a análise\nvocê adiciona no parâmetro <strong>-–disable</strong> (separadas por vírgula).</p>\n<p>Para que não seja necessário passar todos esses parâmetros todas as\nvezes que executar o <em>Pylint</em> basta gerar um arquivo <strong>.pylintrc</strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ pylint --reports=n --include-ids=y --disable=W0232 --generate-rcfile > ~/.pylintrc</code></pre></div>\n<p>É possível gerar este arquivo por projeto, podendo mudar a\nespecificidade das métricas de acordo com a necessidade. Quer saber\nmais? <a href=\"http://www.logilab.org/card/pylint_tutorial\" title=\"Pylint tutorial\">Leia este tutorial muito bom</a>, direto da documentação do\n<em>Pylint</em>.</p>\n<p>Para entender os códigos das mensagens, <a href=\"http://pylint-messages.wikidot.com/all-codes\" title=\"Todos os códigos retornados pelo Pylint\">confira a listagem nesta <em>wiki</em></a>,\nou utilize o parâmetro <strong>-–help-msg</strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ pylint --help-msg=R0904:\n\nR0904: \\*Too many public methods (%s/%s)\\*\nUsed when class has too many public methods, try to reduce this to get a more\nsimple (and so easier to use) class. This message belongs to the design checker.</code></pre></div>\n<h2>Referências</h2>\n<ul>\n<li><a href=\"http://www.logilab.org/857\" title=\"Obtenha o Pylint gratuitamente\"><em>Pylint: analyzes Python source code looking for bugs and signs of poor quality</em></a></li>\n<li><a href=\"http://www.logilab.org/card/pylint_manual\" title=\"Leia o manual oficial do Pylint\"><em>Logilab.org: Pylint User Manual</em></a></li>\n<li><a href=\"http://www.logilab.org/card/pylint_tutorial\" title=\"Leia agora mesmo este excelente tutorial sobre Pylint\"><em>Logilab.org: Pylint Tutorial</em></a></li>\n<li><a href=\"http://turbogears.org/1.0/docs/UsingPylint.html\" title=\"Leia as recomendações de uso do Pylint com TurboGears\"><em>TurboGears Documentation: Using Pylint to improve the quality of your code</em></a></li>\n</ul>\n<p>Até a próxima…</p>","excerpt":"Se você precisa de uma ferramenta mais poderosa que o pep8, talvez você\nprecise do Pylint. De forma (bem) resumida, o Pylint analisa de…","frontmatter":{"date":"2011-09-06T17:48:00.000Z","title":"Assegure a qualidade do seu código Python - Pylint","tags":["python","pylint","linter","qualidade"],"thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFHUlEQVQ4yz2VV2ybZRSGf9HUdpw4jlccO45HEq/ESZzt2E7jZtRN4oxmOKOZTjPa0tIhQVmiDW1ZCiAQAglaEIKLApVAvQGJUdRSCSHEHRJCIAEXXFUMgYRAesLxz7j49P0336P3nPOe91d0Oh2FhTqKioowGAwYjUZMJhMWixW73Y7D4cDprMDlclFZWYnH41OPy+WW26OeqqoqQqEwkUgEZdeuOygo2IVGU4BOpxVwoYCLsZhNmC1mrDYbToGWl9sFUoHVaiEajTI3O0cmk2FtbY3x8XHq6uoIBgMou3fvQqvZTaFOQ3GRDmNJMVZLKaUmI6EaL+0NISoqnFS6HNisZlFRSyIeY2Y6y9TUJNnspHo3NUVFZRBFp92NvlBLsV4nQD06+dZqtaLOwuuHh7h8dAKDtCBQ46O3J8XE+Bg11T4qnOXSAifuygq8XrfAAjQ0SMl5mKG4kBKDHrvFSLwxyGBPB9e2c/z1VD3fX56lP5UkkUhw+tQJXE47VT4PwUANoaCf2nCQelHdGK2npaUJxVCsx2QsxlBioNFn45N7Rvjt0hI7H6fZ+XyF2zcf5fdbF7n82AnCfp8MwEM4WPM/qCnaSFtbC52dHSSTcZRSo0EGYMQm6swWE8c6K3ivp4Cr4wa+uRDl11vn+ePdLDtfb/Pa+QWqq3xEG+tobmqgrbWZWEer2tMugXV3d6GYpflWAZWXmbHYrMT8ZVxOabivVsvTYYU/Xhjgl+svsfPpWW48OSigVmJtzbSLqlhHm7Qixp49Sfamuunr60HJ2yM/PYddLFJmI9Pi5omknuc79WzHirk608kXT2/x85V1bjy3SDLWRkd7qwqLS5ndKmwPvb09pNP9KFaB2cssMjXxm9gjXu/jXEzP3XUFbPUGeOPEJl9ee5Wv3tzi9mev8Yr0sr6hQYUlEvkyu1XYQHo/maEhFJvNgqO8TLzmwCMWqHC7GYw4ORF3cHEuwfnJGNvTzbx9uo8/v73B7VuXGOmL0xGLi7IU/f19DA0OMjo8zNjoKIrdLsrynnI5ZY0qqRaPeWsCdLZFeHAhxoVshCcmIly/MM2P75yFm49wZfsu4okkg/vTDA4MMJwZ4sDYKNPZLEq5qHP9C/N6vdTUVBMIiEkjYY6NxXh8uoGLk/W8uN7F9a0Rfv7gAt+9/wxjmQHS+/oZljJHRzJkpyaYnZlBcTod4niXwPJLXo3f7yccDhGWRU/Uhzna4uChTBXnxht4OdfGD6/fz08fPsvDp5bZlx5gXJRNTYyrsINzB1Hye+qWvuUTIw8LBoPqokcidfgDIdItYR4YCXEu28Jjk1HeWpvgoyePsSXAqYkJZrJTAsuyMH+Q3PIyyn/xky8zFApRW1snZftlgknOnDlDUHZ0NBni5EiUO4dauXc6xdxQNwcy/WyurpBbWmR5aYG11Ryb64f+AeZPXqXH45XSq8QKKRYXF+nv61Mz0uN2sqcjTEujn6Z6P3WhamYmxzh9/CgbAlo/lOPwxjrHjh5Bqax009zcLC7vY9++NKnUXvFVrxqoGo2GIr1eok1Hmd0iFXjwepwkOjtZWZjnsMAOLS2xurLM+uoqm2vrKG4Btrd3kMvl1LDMZIYpKSmhtLRU0rtEok2vxplOq8FqttAcbWJEbDInebgyP09ucUHKXpL+rbAh7xW/P4DPV60qspeXSyLb1Oi3SB6aTGb1zv8GasNhurq6GBoYlMkeYH52VmCLrIuQTQEd2djk5PHj/A1Kq7OntQCDiAAAAABJRU5ErkJggg==","width":180,"height":180,"src":"/static/232d771f4c57cff7ebc54f1793ad869d/d8216/code-quality.png","srcSet":"/static/232d771f4c57cff7ebc54f1793ad869d/d8216/code-quality.png 1x"}},"publicURL":"/static/232d771f4c57cff7ebc54f1793ad869d/code-quality.png"}},"fields":{"readingTime":{"minutes":3.635},"slug":"/2011/09/06/assegura-a-qualidade-de-codigo-python-pylint.html"}},"site":{"siteMetadata":{"author":{"name":"Klaus Peter Laube","gravatar":"https://en.gravatar.com/userimage/12163112/d3ae0c6239980b01ff1f1730b65c2ebe.jpg"},"siteUrl":"https://klauslaube.com.br"}}},"pageContext":{"slug":"/2011/09/06/assegura-a-qualidade-de-codigo-python-pylint.html"}},"staticQueryHashes":["2831923220","4114525740"]}