{"componentChunkName":"component---src-templates-blog-post-js","path":"/2011/09/06/assegura-a-qualidade-de-codigo-python-pylint.html","result":{"data":{"markdownRemark":{"html":"<p>Se você precisa de uma ferramenta mais poderosa que o <a href=\"/2011/08/26/assegure-qualidade-seu-codigo-python-pep.html\" title=\"Assegure a qualidade do seu código Python – pep8\"><em>pep8</em></a>, talvez você\nprecise do <em>Pylint</em>.</p>\n<p>De forma (bem) resumida, o <em>Pylint</em> analisa de forma minuciosa o código\ndo seu projeto <a href=\"/tag/python.html\" title=\"Leia mais sobre Python\"><em>Python</em></a>, lhe retornando uma variedade de relatórios\n(as vezes, detalhistas até demais) sobre todo o tipo de problema que ele\nencontra. Indo de incoerências com a <em>PEP 8</em>, até nome de variáveis.</p>\n<p>É sem dúvida, uma das melhores ferramentas feitas para o <em>Python</em>, e é\nessencial para você deixar o seu código mais próximo do “estado da\narte”.</p>\n<p>Mas o que eu achei mais legal sobre o <em>Pylint</em>, foi um comentário em sua\ndocumentação. O <a href=\"http://www.logilab.org/card/pylint_manual#what-is-pylint\" title=\"O que é o pylint?\">autor salienta</a> muito bem que a ferramenta pode ser\neficiente em certos contextos, mas não em todos. Então, antes de\n“pularmos de cabeça”, peço que você utilize o bom senso e saiba mensurar\nas suas necessidades em relação ao que a ferramenta tem a oferecer.</p>\n<h2>Na prática</h2>\n<p>Vamos testar as conformidades do arquivo <code class=\"language-text\">site.py</code> segundo o <em>Pylint</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ pylint /usr/lib/python2.7/dist-packages/site.py</code></pre></div>\n<p>O resultado pode parecer assustador. Então “vamos começar pelo começo”.</p>\n<p>O resultado do <em>Pylint</em> é dividido em duas grandes seções: <strong>análise de\ncódigo</strong> e <strong>relatório</strong>; O primeiro, como o nome sugere, apresenta uma\nanálise de código bem semelhante a apresentada pelo <em>pep8</em>. Porém no\nseguinte formato:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">MESSAGE_TYPE: LINE_NUM:[OBJECT:] MESSAGE</code></pre></div>\n<p>Vamos pegar a primeira linha gerada pelo <em>Pylint</em> para entender melhor:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">C:  1: Missing docstring</code></pre></div>\n<p><strong>C</strong> é o tipo da mensagem, <strong>1</strong> é o número da linha (no arquivo) onde\no problema foi constatado, <strong>Missing docstring</strong> é a mensagem gerada. O\n<em>Pylint</em> poderá apresentar os seguintes tipos de mensagens:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[R]efactor for a &quot;good practice&quot; metric violation\n[C]onvention for coding standard violation\n[W]arning for stylistic problems, or minor programming issues\n[E]rror for important programming issues (i.e. most probably bug)\n[F]atal for errors which prevented further processing</code></pre></div>\n<p>Quase posso ver o brilho em seus olhos. A saída do <em>Pylint</em> deixou de\nser enigmática, não?!</p>\n<p>A segunda seção, a de relatório, apresentará alguns números\ninteressantes sobre o seu projeto. Como o número de <em>warnings</em> e\n<em>errors</em>, uma nota para o seu projeto (e um comparativo com a execução\nanterior do <em>Pylint</em>), quantidade de código duplicado, quantidade de\ncódigo documentado e “desenhará” uma árvore de dependências do seu\nprojeto.</p>\n<h2>Diminuindo o ruído</h2>\n<p>Eu avisei que o <em>Pylint</em> era “barulhento”!</p>\n<p>Vamos reduzir um pouco o nível de detalhes da ferramenta, passando\nalguns parâmetros:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ pylint /usr/lib/python2.7/dist-packages/site.py --reports=n --include-ids=y --disable=W0232</code></pre></div>\n<p>Primeiro, com o parâmetro <strong>–-reports=n</strong> dizemos que não queremos\naquele relatório gigantesco no final da análise. O <strong>–-include-ids=y</strong>\nexibe para gente os <em>ids</em> das mensagens de erros do <em>Pylint</em>. É útil,\npois todas as mensagens que você julgar desnecessárias para a análise\nvocê adiciona no parâmetro <strong>-–disable</strong> (separadas por vírgula).</p>\n<p>Para que não seja necessário passar todos esses parâmetros todas as\nvezes que executar o <em>Pylint</em> basta gerar um arquivo <strong>.pylintrc</strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ pylint --reports=n --include-ids=y --disable=W0232 --generate-rcfile &gt; ~/.pylintrc</code></pre></div>\n<p>É possível gerar este arquivo por projeto, podendo mudar a\nespecificidade das métricas de acordo com a necessidade. Quer saber\nmais? <a href=\"http://www.logilab.org/card/pylint_tutorial\" title=\"Pylint tutorial\">Leia este tutorial muito bom</a>, direto da documentação do\n<em>Pylint</em>.</p>\n<p>Para entender os códigos das mensagens, <a href=\"http://pylint-messages.wikidot.com/all-codes\" title=\"Todos os códigos retornados pelo Pylint\">confira a listagem nesta <em>wiki</em></a>,\nou utilize o parâmetro <strong>-–help-msg</strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ pylint --help-msg=R0904:\n\nR0904: \\*Too many public methods (%s/%s)\\*\nUsed when class has too many public methods, try to reduce this to get a more\nsimple (and so easier to use) class. This message belongs to the design checker.</code></pre></div>\n<h2>Referências</h2>\n<ul>\n<li><a href=\"http://www.logilab.org/857\" title=\"Obtenha o Pylint gratuitamente\"><em>Pylint: analyzes Python source code looking for bugs and signs of poor quality</em></a></li>\n<li><a href=\"http://www.logilab.org/card/pylint_manual\" title=\"Leia o manual oficial do Pylint\"><em>Logilab.org: Pylint User Manual</em></a></li>\n<li><a href=\"http://www.logilab.org/card/pylint_tutorial\" title=\"Leia agora mesmo este excelente tutorial sobre Pylint\"><em>Logilab.org: Pylint Tutorial</em></a></li>\n<li><a href=\"http://turbogears.org/1.0/docs/UsingPylint.html\" title=\"Leia as recomendações de uso do Pylint com TurboGears\"><em>TurboGears Documentation: Using Pylint to improve the quality of your code</em></a></li>\n</ul>\n<p>Até a próxima…</p>","excerpt":"Se você precisa de uma ferramenta mais poderosa que o pep8, talvez você\nprecise do Pylint. De forma (bem) resumida, o Pylint analisa de…","frontmatter":{"date":"2011-09-06T17:48:00.000Z","title":"Assegure a qualidade do seu código Python - Pylint","tags":["python","pylint","linter","qualidade"],"thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAFC0lEQVQ4yzWUW2yTdRjGv3DYoV23ru0O7dau7bp2Xbd2561rt25j6xgbK9tK141ua0cZLIBABPGskCEg8RQNhkBIDBj1Am/URBPFE2iMcm1IvDDGGBNjAGM83Pzw/T7ixZuvX77k1+d9/s//UYqKiiguLkav11NqMFBWVobJVI7FYqGqqgqr1YrNVoPdbpdx4HS6tLHXqr+d1NXVUV9fj9/vp7m5GWXDxg1s2rSRgoJNFBUWotcVYTCUYCovx2w2YamwYBNodXUVNTU2KioqCASa2LlzJ/F4nGw2SyKREFgAr7cBZfPmjRQKrLioQIOVGfSYTUZRacRdV0t7wCsgUVirwsz4fA30hXvI7Fpgfj6tPRcW5uns7JBvXhQVpit6oKxEXyzriwViQ0lpGa9m41w5lMIoSutdDiJ9vaJslkaB1lircNhrtHE6HTQ2emlpCaDoigsxCKjUoMNSXkqr3020J8QbJ5b454VWfr6YZCQWEQWdPPboIzhFtbPOjs/r0dQ2+X00iwWhUAvt7a0ohhIdxjI9hlIDfruZ60cnuXt5D/e/mOD+txnu3Fzn3s0zXDp9iIDPg0vU+OXpF0XNAT9trUH5s3Z6e7uJRsIoxrISzKKswlxGudnIgT47H48W8kHawI9nO7h74xR/f5ji/u3nefvMCh63k1AwQHtbkK6Odnq6OzVP+6N9xGL9KCaBWczlVFeaMIvpHfWVXBos4IlAIecaFP69EOfPLy+K2nVunZ+iq72Tns42urtEVU+X5utAf4ShwQFGtgyhqCdaYTFhrZKIVFqIt9o5G9VxoU/Hi916rqU6uHXuae68s49vXs/QH+6mp6tTg6nKBvqjGmzLlmHG4qMoFjnBqkqznFoFVpuV3hY3J8J6jgc28mzMxVsH8nz/3lV+eHed376+zJVzRwiGQgLrJiKexWIDDA8PsTU+xsTEBIqaLWt1pWStmjqJgM1hZ1uzlSO9FZxKhzmdivLSQjfXjgzz1+3r3PvuTaZH++juCTMUizE6MsK28XES2ye1gCuVsqbNVk2tBNfhqKXe7cLl8dLTEeDxTC/rqWbOzjTxyYlZfn1/HW6c5trLh0VdlPGxuMC2MjmxjR2JKVJye5RqTZ0Ks2t3U72XXq8aiUYOToc5lw7xXLKFS3sH+PTkFL9/dJJfPnuN2altxEdH2S5rJqYm2ZmcYT6dRrGJb3a7hNVZh9vtpqGhQTLWiF8ueiTYxP4OG89MiK8zQS6vdPHT1Uf54/PznDm2wmh8KzM7pkjOTjM/N8eu+QWUB+ocuFwuPB6Ppk69/GpzeBp8jLY18uR2HydS7ZxJhri2Z4avXjnM2eO7BTTLXCpJei7FotzpnBSFotbP/8oaRVlTk9oaPkl/F0ePHiMgLTIV8XF0RxuHt3fxVHqIXGKI6ckRVnPLrCwvkl3KkN+9wt7V/AOgOg4ZtedcLjfhcB9LS8vaqRmNRikAK4O9fjpCHjpDskFjPbOJSR5+aD/7BLQqs291lQP711DUdYPBELHBQQYHh4lG+xkbG9NUFxSolabTCriq2kKgSS1XmxbsbGYXawLKZ5fZncsKNK9BNaC6Xj6/h7W1NZLJpKZKbW51dAIsLCzQOrNc3oPNLVpMFsS3XCbDytKirC2rZ3OsCkNRvXO56rV6V+tebWS1+s1mM+XS2iaTSXtXyzMS6WN86zjTiR1k0vPkFhfZk8uxL59nbe9eDh88yH8hHrJpKvzOSgAAAABJRU5ErkJggg==","width":180,"height":180,"src":"/static/232d771f4c57cff7ebc54f1793ad869d/d8216/code-quality.png","srcSet":"/static/232d771f4c57cff7ebc54f1793ad869d/d8216/code-quality.png 1x"}},"publicURL":"/static/232d771f4c57cff7ebc54f1793ad869d/code-quality.png"}},"fields":{"readingTime":{"minutes":3.635},"slug":"/2011/09/06/assegura-a-qualidade-de-codigo-python-pylint.html"}},"site":{"siteMetadata":{"author":{"name":"Klaus Peter Laube","gravatar":"https://en.gravatar.com/userimage/12163112/d3ae0c6239980b01ff1f1730b65c2ebe.jpg"},"siteUrl":"https://klauslaube.com.br"}}},"pageContext":{"slug":"/2011/09/06/assegura-a-qualidade-de-codigo-python-pylint.html"}}}