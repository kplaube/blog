{"componentChunkName":"component---src-templates-blog-post-js","path":"/2011/05/29/afinal-o-que-sao-closures.html","result":{"data":{"markdownRemark":{"html":"<p>Sabem aqueles conceitos, que a gente sempre utiliza e chega alguém com\num nome “pomposo” para a parada (que você nunca ouviu falar)? Isso\naconteceu comigo com <em>closures</em>.</p>\n<h2>What (the hell) are closures?</h2>\n<p>Entendi o conceito de <em>closures</em> enquanto estudava <em>Ruby</em>. Na verdade,\nfica a dica… se você quer aprender <a href=\"/tag/oop.html\" title=\"Leia mais sobre Orientação a Objetos\">Orientação a Objetos</a>, aprenda\nlinguagens dinâmicas como <em>Ruby</em>, <a href=\"/tag/python.html\" title=\"Leia mais sobre Python\"><em>Python</em></a> e até mesmo <a href=\"/tag/php.html\" title=\"Leia mais sobre PHP\"><em>PHP</em></a>.\nDepois parta para linguagens mais “hardcore” como <em>Java</em> e <em>C++</em>.</p>\n<p>Vamos deixar a <a href=\"http://pt.wikipedia.org/wiki/Closure\" title=\"Leia sobre closure no Wikipedia\"><em>Wikipedia</em></a> nos explicar o que é uma <em>closure</em>:</p>\n<blockquote>\n<p>Uma closure ocorre normalmente quando uma função é declarada dentro do\ncorpo de outra, e a função interior referencia variáveis locais da\nfunção exterior. Em tempo de execução, quando a função exterior é\nexecutada, então uma closure é formada, que consiste do código da\nfunção interior e referências para quaisquer variáveis no escopo da\nfunção exterior que a closure necessita.</p>\n</blockquote>\n<p>Ok… sou a favor das pessoas que dizem que é difícil compreender alguns\nconceitos apenas por parágrafos formados por palavras bem escritas.\nVamos ao exemplo:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> <span class=\"token function-variable function\">digaSeuNome</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">nome</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> msg <span class=\"token operator\">=</span> <span class=\"token string\">\"Olá \"</span> <span class=\"token operator\">+</span> nome <span class=\"token operator\">+</span> <span class=\"token string\">\". Seja bem-vindo!\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">exibeMensagem</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">exibeMensagem</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">digaSeuNome</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"João\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Olá João. Seja bem-vindo!</span></code></pre></div>\n<p>Temos uma função definida dentro de outra função. A função interna\nutiliza de parâmetros e variáveis da função externa… basicamente, este é\no conceito de <em>closure</em>.</p>\n<p>Não achou muito útil? Dê uma olhada no exemplo abaixo:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> <span class=\"token function-variable function\">FabricaDeUsuarios</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> id <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">criaUsuario</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">nome</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    id<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n      id<span class=\"token operator\">:</span> id<span class=\"token punctuation\">,</span>\n      nome<span class=\"token operator\">:</span> nome<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> criaUsuario<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> novoUsuario <span class=\"token operator\">=</span> <span class=\"token function\">FabricaDeUsuarios</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> joao <span class=\"token operator\">=</span> <span class=\"token function\">novoUsuario</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"João\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> jose <span class=\"token operator\">=</span> <span class=\"token function\">novoUsuario</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"José\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>joao<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1</span>\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>jose<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 2</span></code></pre></div>\n<p>Utilizamos o conceito de <em>closure</em> no exemplo acima. Abusamos do\ncontexto da linguagem, onde, mesmo que estejamos “chamando” a função\nfora do escopo de <code class=\"language-text\">FabricaDeUsuarios</code>, na verdade <code class=\"language-text\">novoUsuario</code>\ntrata-se de uma referência a função <code class=\"language-text\">criaUsuario</code>. Logo, ainda\nestaremos utilizando os recursos do contexto de <code class=\"language-text\">FabricaDeUsuarios</code>.</p>\n<h2>Referências</h2>\n<ul>\n<li><a href=\"http://www.javascriptkit.com/javatutors/closures.shtml\" title=\"Alguns exemplos de closures com Javascript\"><em>Javascript Closures – They’re not magic</em></a></li>\n<li><a href=\"http://blog.morrisjohns.com/javascript_closures_for_dummies\" title=\"Leia sobre Closures em Javascript\"><em>Morris Johns – Javascript Closures for Dummies</em></a></li>\n<li><a href=\"https://developer.mozilla.org/en/JavaScript/Guide/Closures\" title=\"Leia sobre Closures no guia Javascript da Mozilla\"><em>Mozilla Developer Network – Closures</em></a></li>\n<li><a href=\"http://devlog.waltercruz.com/closures\" title=\"Closures em Ruby\"><em>Walter Cruz – Closures</em></a></li>\n</ul>\n<p>E você… tem algum exemplo bacana sobre <em>closures</em>? Não deixe de\ncomentar.</p>","excerpt":"Sabem aqueles conceitos, que a gente sempre utiliza e chega alguém com\num nome “pomposo” para a parada (que você nunca ouviu falar)? Isso…","frontmatter":{"date":"2011-05-29T13:52:00.000Z","title":"Afinal, o que são Closures?","tags":["closures","oop","javascript"],"thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAUEAgP/xAAVAQEBAAAAAAAAAAAAAAAAAAACAf/aAAwDAQACEAMQAAAB5e0oWqjmaOYCxhT/xAAcEAEAAQQDAAAAAAAAAAAAAAABAwACIjEREiH/2gAIAQEAAQUCkxIpesZNbxe4PqFOkp3/AP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABsQAAEEAwAAAAAAAAAAAAAAABEAAQIQIDKB/9oACAEBAAY/AjFDXlPl/8QAGxABAAMBAAMAAAAAAAAAAAAAAQARITFBYXH/2gAIAQEAAT8hupb6lWyw8cRemmW6+J2Nsuv7NyEIMn//2gAMAwEAAgADAAAAEAffPP/EABcRAAMBAAAAAAAAAAAAAAAAAAAQESH/2gAIAQMBAT8QlMf/xAAXEQEAAwAAAAAAAAAAAAAAAAABABBB/9oACAECAQE/EBTYLf8A/8QAHRABAAMAAwADAAAAAAAAAAAAAQARITFBUXGRof/aAAgBAQABPxBKdKCdhyJZlbrHtw0+4G/spWESPxN7Ixy7CmazQPDLXf3DdwM//9k=","width":180,"height":180,"src":"/static/a05efd3184f2d16928ae3935922af32c/a8ad2/closures.jpg","srcSet":"/static/a05efd3184f2d16928ae3935922af32c/a8ad2/closures.jpg 1x"}},"publicURL":"/static/a05efd3184f2d16928ae3935922af32c/closures.jpg"}},"fields":{"readingTime":{"minutes":2.265},"slug":"/2011/05/29/afinal-o-que-sao-closures.html"}},"site":{"siteMetadata":{"author":{"name":"Klaus Peter Laube","gravatar":"https://en.gravatar.com/userimage/12163112/d3ae0c6239980b01ff1f1730b65c2ebe.jpg"},"siteUrl":"https://klauslaube.com.br"}}},"pageContext":{"slug":"/2011/05/29/afinal-o-que-sao-closures.html"}}}