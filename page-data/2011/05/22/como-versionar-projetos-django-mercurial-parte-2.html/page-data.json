{"componentChunkName":"component---src-templates-blog-post-js","path":"/2011/05/22/como-versionar-projetos-django-mercurial-parte-2.html","result":{"data":{"markdownRemark":{"html":"<p>Dando continuidade ao <em>post</em> <a href=\"/2011/05/10/como-versionar-projetos-django-mercurial-parte.html\" title=\"Leia a primeira parte deste post\">Como versionar\nprojetos <em>Django</em> com o <em>Mercurial</em></a>, e a série <a href=\"/2011/03/03/montando-seu-ambiente-de-desenvolvimento-django.html\" title=\"Tá começando com Django? É usuário Linux? Este post pode te interessar\">Montando seu ambiente\nde desenvolvimento <em>Django</em> no <em>Linux</em></a>, vamos dar uma pincelada nos\nfuncionamentos básicos do <a href=\"/tag/mercurial.html\" title=\"Leia mais sobre Mercurial\"><em>Mercurial</em></a>.</p>\n<h2>hg? Mas não era Mercurial?</h2>\n<p><em>Mercury</em> em português significa mercúrio (nenhuma novidade até aqui),\nque é um elemento químico com o símbolo <code class=\"language-text\">Hg</code> e o número atômico 80\n(assim disse a <a href=\"http://en.wikipedia.org/wiki/Mercury_(element)\" title=\"Leia mais sobre o elemento químico Mercúrio\"><em>Wikipedia</em></a> (: ). É devido a isso que você utilizará\no <em>Mercurial</em> em linha de comando através de comandos iniciados por\n<code class=\"language-text\">hg</code>.</p>\n<p>Antes de iniciarmos, vamos dizer ao <em>Mercurial</em> quem nós somos. Abra o\narquivo <code class=\"language-text\">.hgrc</code> do seu <code class=\"language-text\">home</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ vim ~/.hgrc</code></pre></div>\n<p>É fundamental que nossos <em>commits</em> estejam marcados com nosso nome, e um\ne-mail para contato. Vamos escrever estas duas informações neste\narquivo:</p>\n<div class=\"gatsby-highlight\" data-language=\"ini\"><pre class=\"language-ini\"><code class=\"language-ini\"><span class=\"token header\"><span class=\"token punctuation\">[</span><span class=\"token section-name selector\">ui</span><span class=\"token punctuation\">]</span></span>\n<span class=\"token key attr-name\">username</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">seu nome &lt; seuemail@provedor.com ></span></code></pre></div>\n<p>Salve o arquivo, e estamos prontos para iniciar.</p>\n<h2>Primeiros passos</h2>\n<p>Os passos que vou exemplificar aqui não são muito diferentes dos que\nvocê encontrará na <a href=\"http://mercurial.selenic.com/\" title=\"Visite a página oficial do projeto Mercurial\">página oficial do <em>Mercurial</em></a>. Preguiça minha?\nTalvez… mas você verá que usar o <em>Mercurial</em> é extremamente simples! As\ndificuldades são as exceções do dia a dia.</p>\n<p>Para deixar o exemplo mais interessante, vamos utilizar o <em>virtualenv</em>.\nDúvidas? Confira o <em>post</em> <a href=\"/2011/03/18/python-django-virtualenv.html\" title=\"Construa projetos isolados do seu sistema com virtualenv\"><em>Python</em>, <em>Django</em> e <em>virtualenv</em></a> e\nvisualize aonde pretendemos chegar:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ cd ˜/Projetos/\n$ virtualenv DjangoComHG --no-site-packages\n\n$ cd DjangoComHG</code></pre></div>\n<p>Agora sim, vamos criar um projeto através da seguinte expressão:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ hg init django-com-hg</code></pre></div>\n<p>Projeto criado… vamos partir para as tarefas mais comuns no <em>Mercurial</em>.</p>\n<h2>Altere, adicione e “comite”</h2>\n<p>O <em>Mercurial</em> é <a href=\"http://en.wikipedia.org/wiki/Distributed_revision_control\" title=\"Leia mais sobre Distributed Version Control System\"><em>DVCS</em></a>, isto quer dizer que, quando você clonar um\nrepositório remoto você terá uma cópia exata dele em seu computador.\nLogo, as alterações que você “persistir” estarão disponíveis apenas na\nsua cópia local. Pode parecer um pouco confuso, mas com o tempo faz todo\no sentido.</p>\n<p>Para o primeiro <em>commit</em> (persistir nossas alterações localmente)\nescreva um arquivo <code class=\"language-text\">.hgignore</code> (<a href=\"http://mercurial.selenic.com/wiki/.hgignore\" title=\"Entenda para que serve o arquivo .hgignore\">saiba mais do que se trata</a>) e um\narquivo <code class=\"language-text\">README</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ cd django-com-hg/\n$ ls -a\n\n.hg     .hgignore     README</code></pre></div>\n<p>A pasta <code class=\"language-text\">.hg</code> na verdade é quem vai identificar e armazenar todas as\ninformações do nosso projeto. Sem ela, você deixa de ter o controle\nsobre as versões dos arquivos e subpastas do projeto.</p>\n<p>Execute o comando <code class=\"language-text\">hg status</code> e veja o que aparece… acredito que o\nresultado seja auto-sugestivo. O <em>Mercurial</em> ainda não sabe o que fazer\ncom os arquivos no projeto, portanto diremos a ele que queremos\nversionar estes arquivos:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ hg add .hgignore README</code></pre></div>\n<p>Uma nova execução do <code class=\"language-text\">hg status</code> vai apontar que os arquivos foram\nmarcados para adição, porém, ainda não foram adicionados. Você vai\nconfirmar está operação através do comando <code class=\"language-text\">commit</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ hg commit -m \"Primeiro commit com .hgignore\"</code></pre></div>\n<p>O parâmetro <code class=\"language-text\">-m</code> serve para passarmos uma mensagem de descrição do\n<code class=\"language-text\">commit</code> que estamos fazendo. Isto facilita na leitura do <em>log</em> de\n<em>commits</em> realizados:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ hg log</code></pre></div>\n<p>Estes serão os comandos que provavelmente você usará constantemente\nenquanto desenvolve.</p>\n<h2>Compartilhando as suas produções</h2>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 180px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ce36d314697154285d961d7076a96e53/e9ff0/bitbucket-logo.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADvElEQVQ4y42UaXBOZxTHH1KiXzBj+EJn1L7vIcrQMczwgdagiGwSIdEZ2mYaWzIosS8dHZEgau2oEGKJGVFJUEu9SEorUa+pEDUaFc32Lvc+f+ece++bZAzjnTnvvfd5zvO75/zPOVdpravJfAC8hml6/Ybp5fv3MYN8+QzfM4OsTtkwmKaG86usqsW1Ow+x//RVpGbmYvEP2WKpmWew79QVXP3djZf/1wT8nbPEMhXTTdOU59ulZTps2W7dduw3utmwBN1hwiLdf+Z3OjRqrR5G1m/GSt1+QpIOGhqv24z5Wk9fslO7/vybadpmGMoOGTfvPdLNQxOgOkxF9Iof4fH58bafl/bmrj4A9dE0NB0yjyOWEEkCQ/kNQ4AnCm5r1TMSTUPmodOkpUhYewhbDubhYO413kNOQREOnb2O7386jwUbD6Pb5BQEka/qHoGfz90QILHqI/zDXa5bDJ8PNTAOql8MVOcwqG7hUL2jref+ZH2irTXe6zsbalAcPhgaj1slZVaEJkVIQgqwqqZOtx+fJI4cZVBIPEhHAsVCdZ1lGYF5jffYh5/bjUvEi1fVAjS1toBkUpQRMeuhekWJLk3IVJ/Z+HjiUuw6fgl7ci6j6+fJEiXvs7Hv4PDVdoE1/1lAElMW41btl5Q4DTUgFq0//QqP/nmBX4sf4OKt+3j6byWoAyRq8SHf8JRMOUvp1gN9fkMWN1MROLXg0PlyDU/OxLOKV1AdZ1D1p6H8+UvM4Zd2CUMw691lFtbsyZWzfmIIkLvAb0d4srBY0mzOQCpGSEQq+GVfLM7A5MQ0riJGxm6QVAVIPll5LgtoGFYfcoR2p+vHz/4LRCcpkeiLth1DTZ0XtR4fUnbkSLpBdrrcNu7Hz+E0diBCFpSgQr1c9ADDo9dJpNIe1OjcHmrwXElbdZppR78GBa5SZ/Tqi1IPtMK8fvchaJxw112OjOyLWLjpMKYmpWPKt+nS0OlHC3Hnryc8WTLTFlCIVsoOkESVlXV7z0paDPrlt3sooypX1XhQVetBGUmS7ypB4tYs6oI5WJFxUoCkc2Og3eWycqXYbaVLI+W0UKvRC9GaTBqdJ4X3KO0LN0pgz7DzqXpTw4rKarQctQCqZ5QAmrB2PI4DLR0FSrAPP/lSWqqhhoEqO61u66hPFBTpzp8t0zSGWvWIJIuwLVLWOk5corPOu5zPVoDmAH0NP012oPB4fSi8eR9pWfmi1XKy7UfyScNSaiFvI9+GxznlOmtPs7KGSELfNb6+yxr62GeZ4XsNceW2a34udHAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"&quot;Logotipo do BitBucket&quot;\"\n        title=\"Logotipo do BitBucket\"\n        src=\"/static/ce36d314697154285d961d7076a96e53/e9ff0/bitbucket-logo.png\"\n        srcset=\"/static/ce36d314697154285d961d7076a96e53/e9ff0/bitbucket-logo.png 180w\"\n        sizes=\"(max-width: 180px) 100vw, 180px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Logotipo do BitBucket</figcaption>\n  </figure></p>\n<p>Se você ainda não tem uma conta no\n<a href=\"http://bitbucket.org/\" title=\"Bitbucket, compartilhe o seu código\"><em>Bitbucket</em></a>, essa é uma grande oportunidade para fazer uma.</p>\n<p>Vamos criar um repositório para praticarmos o comando <code class=\"language-text\">push</code>. No\n<em>Bitbucket</em>:</p>\n<ul>\n<li>Eu vou dar o nome de “post-django-com-hg” ao repositório, fique a\nvontade para dar o nome que você desejar;</li>\n<li>Escolha o <a href=\"/tag/python.html\" title=\"Leia mais sobre Python\"><em>Python</em></a> como linguagem;</li>\n<li>Coloque uma pequena descrição;</li>\n<li>Eu vou marcar a opção \"Issue tracking\", caso haja algum problema com\no código e vocês queiram sugerir melhorias.</li>\n</ul>\n<p><a href=\"https://bitbucket.org/kplaube/post-django-com-hg\" title=\"Confira o repositório criado no Bitbucket\">Confira o resultado</a>.</p>\n<p>No repositório local vamos utilizar o comando <code class=\"language-text\">push</code> com o endereço do\nrepositório no <em>Bitbucket</em>. Isso enviará todas as alterações que\npersistidas em nosso repositório local para o repositório remoto,\nmesclando-as com as contribuições de outros usuários envolvidos no\nprojeto:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ hg push https://bitbucket.org/kplaube/post-django-com-hg</code></pre></div>\n<p><strong>Lembre-se</strong> de mudar o endereço acima para o endereço do seu\nrepositório no <em>Bitbucket</em>. Visite a página do seu repositório e veja o\nque aconteceu… bacana, não?</p>\n<p>Mas dessa forma, teremos que sempre executar o comando <code class=\"language-text\">pus</code>h\ninformando o endereço do repositório. Vamos deixar esta tarefa mais\nsimples editando o arquivo <code class=\"language-text\">hgrc</code> dentro da pasta <code class=\"language-text\">.hg</code> do projeto:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ cd ~/Projetos/DjangoComHG/django-com-hg/\n$ vim .hg/hgrc</code></pre></div>\n<p>Coloque o seguinte:</p>\n<div class=\"gatsby-highlight\" data-language=\"ini\"><pre class=\"language-ini\"><code class=\"language-ini\"><span class=\"token header\"><span class=\"token punctuation\">[</span><span class=\"token section-name selector\">paths</span><span class=\"token punctuation\">]</span></span>\n<span class=\"token key attr-name\">default</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">https://kplaube@bitbucket.org/kplaube/post-django-com-hg</span></code></pre></div>\n<p><strong>Lembre-se</strong> de mudar o endereço acima para o endereço do seu\nrepositório no <em>Bitbucket</em>.</p>\n<p>Pronto! Quando você for “pushear” não precisará mais informar o endereço\ndo repositório remoto.</p>\n<p>Altere alguns arquivos… <code class=\"language-text\">commit</code>. Adicione alguns arquivos…\n<code class=\"language-text\">commit</code>. Ao final do dia, dê um <code class=\"language-text\">push</code> e deixe o resto da equipe\nsaber o que você fez ;)</p>\n<h2>Referências</h2>\n<ul>\n<li><a href=\"http://mercurial.selenic.com/\" title=\"Mercurial, work easier, work faster\">Site oficial do projeto <em>Mercurial</em></a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Mercurial\" title=\"Leia mais sobre Mercurial na Wikipedia\">Artigo na <em>Wikipedia</em> sobre <em>Mercurial</em></a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Mercury_(element)\" title=\"Leia mais sobre Mercúrio no Wikipedia\">Artigo na <em>Wikipedia</em> sobre Mercúrio (o elemento químico)</a></li>\n<li><a href=\"http://tocadoelfo.blogspot.com/2011/03/mercurial-hg-controlando-as-versoes-do.html\" title=\"Excelente post sobre Mercurial, TI e gerência de projetos\"><em>Mercurial Hg</em> – Controlando as Versões do seu <em>Software</em></a></li>\n<li><a href=\"http://hgbook.red-bean.com/read/\" title=\"Excelente e-book de Bryan O&#x27;Sullivan sobre Mercurial\"><em>Mercurial</em>: <em>The Definitive Guide</em></a></li>\n</ul>\n<p>No próximo <em>post</em>, vamos concluir a trilogia mostrando uma forma bacana\nde utilizar o <em>Mercurial</em> para versionar seus projetos <em>Django</em>.</p>\n<p>Até a próxima…</p>","excerpt":"Dando continuidade ao post Como versionar\nprojetos Django com o Mercurial, e a série Montando seu ambiente\nde desenvolvimento Django no…","frontmatter":{"date":"2011-05-22 11:04","title":"Como versionar projetos Django com o Mercurial - Parte 2","tags":["desenvolvimento-web","ambiente-de-desenvolvimento","python","django","mercurial","vcs"],"thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACnElEQVQ4y51US0tyURT1r0kzcdAPaOok5+IkGgTaqLSszEx6aCBUpFnQwx6aiCZEBYX2gooeRg+NtOixPtaGc/NxbfBtOJx7z9137bX3XvsY0GA/Pz/arp717Pv7W9fP0ApM2c3NDbLZLDY3N5FKpXB2dqaB6YEa/mKYyWQwOjqKwcFBeDwe2YeHh7G4uIhisdgEqgHWgiiH09NT+Hw+jIyMyK4WAwwNDUmARlABbFWz1dVV+P1+ASSI1+uVxeexsTG43W5MTk7qp1wL9PDwIO9MjSwmJibqwBQ4g/X29uLi4qKOpaEW/fDwEKFQSJoQj8fR3t6O/v5+YUQABUrWZNfV1SWZ0L6+vn4BFXooGEIwGMT4+DhKpZI4d3R0wNpphdPpFGCCsoazs7Po7u5GIBCQfz8/P39TVoCUhMPhQC6X00rwXn3H7u4u+vr6BJDBWD9mYLFYEA6Hmxk21pF2dHSE/f19zfHl5QVTU1MYGBiQ9JPJJIxGo6ihZQ15yLWxsSG1I5P5+Xl8fHygUqlIg+bm5nB1dQWbzQar1dq6y+qAXWZdyILCZgk4LScnJzg4OBAfBmlra0M+n2/WYeOEkAkFTNlEIhFpABnGYjGsrKxIh81mM5aWljSwOoa1L6pe5+fn6OnpkY4+PT3Jmcvlgslkgt1uRzqd1h07XYatrFqtigpUUAX29vZWP8u1DG9vb1EoFPD6+oq7uzs8Pj7Kfn19LWc0MmYGl5eX8i2RSDQDqoNoNIqZmRmZFgqXU7G+vi46pDa3trbEh9fYzs4OpqenRRG6gFS6uvNY+IWFBSwvL8s79bi9vS06ZIC9vT3xYeC1tbXWDCne5+dnWRTs/f29dJ1lYNrHx8cykqwbLwWmXi6X/75t/sdq//8HHCiQFKWZ4J8AAAAASUVORK5CYII=","width":180,"height":180,"src":"/static/6c81d115ddcbece751bda7b08b702f39/d8216/mercurial-logo.png","srcSet":"/static/6c81d115ddcbece751bda7b08b702f39/d8216/mercurial-logo.png 1x"}},"publicURL":"/static/6c81d115ddcbece751bda7b08b702f39/mercurial-logo.png"}},"fields":{"readingTime":{"minutes":5.09},"slug":"/2011/05/22/como-versionar-projetos-django-mercurial-parte-2.html"}},"site":{"siteMetadata":{"author":{"name":"Klaus Peter Laube","gravatar":"https://en.gravatar.com/userimage/12163112/d3ae0c6239980b01ff1f1730b65c2ebe.jpg"},"siteUrl":"https://klauslaube.com.br"}}},"pageContext":{"slug":"/2011/05/22/como-versionar-projetos-django-mercurial-parte-2.html"}},"staticQueryHashes":["2831923220","4114525740"]}