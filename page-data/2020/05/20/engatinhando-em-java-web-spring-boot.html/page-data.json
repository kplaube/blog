{"componentChunkName":"component---src-templates-blog-post-js","path":"/2020/05/20/engatinhando-em-java-web-spring-boot.html","result":{"data":{"markdownRemark":{"html":"<p>No <a href=\"/2019/12/10/engatinhando-em-java-web-parte-3.html\"><em>post</em> anterior</a>, finalizamos a introdução\na alguns aspectos utilizados pelo <em>Java EE</em> para construção de aplicações <em>web</em>. Se você acompanhou\nos artigos até aqui, e achou tudo muito doloroso, você não está sozinho.</p>\n<p>Desenvolvedores, com o passar do tempo, ansiavam por alternativas menos burocráticas para\ndesenvolver suas soluções. E foi em 2003, seguindo essa premissa, que <em>Rob Johnson</em> lançava a versão 1.0 do <em>Spring</em>.</p>\n<h2>Antes do Boot. O que é Spring?</h2>\n<p>Como a maioria das coisas do mundo <em>Java</em>, a resposta para essa pergunta pode ser mais complicada do que parece.</p>\n<p>Uma das definições da <a href=\"https://spring.io/why-spring\">documentação oficial</a> é a seguinte:</p>\n<blockquote>\n<p>Spring makes programming Java quicker, easier, and safer for everybody. Spring’s focus on speed, simplicity, and productivity has made it the world's most popular Java framework.</p>\n</blockquote>\n<p>O <em>Spring</em> começou como uma resposta à complexidade do <em>J2EE</em>. Atualmente ele deve ser compreendido\ncomo um \"complemento\" à mesma, ou seja, a comunidade do <em>Spring</em> de fato adota partes da especificação <em>Java EE</em>,\ne com isso torna possível desenvolver aplicações \"enterprise\" com maior facilidade.</p>\n<p>Flexibilidade, modularização, retrocompatibilidade, uma grande e ativa comunidade, e evolução contínua\n(além da sua famosa <a href=\"/2015/10/24/injecao-de-dependencia.html\" title=\"DI explicada com Angular\"><em>Dependency Injection</em></a>),\nfazem do <em>Spring</em> um dos <em>frameworks</em> <em>Java</em> mais famosos do mercado.</p>\n<p>Logo, como tantos outros <em>frameworks</em> espalhados por aí, o propósito do <em>Spring</em> é facilitar e acelerar o desenvolvimento, provendo\nbibliotecas e ferramentas que te permitam focar no negócio. No entanto, quando falamos em \"Spring\",\nprovavelmente estamos falando de todo o seu ecossistema.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ce9d25f7605c402a2fc1faee4491aad5/3dde1/spring-hierarchy.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACn0lEQVQoz12SaU8USxSG51fpN/WfqDESTdAoidGgxhuvcd8Fd0UQGQSEWaCZhe6Znumtunt6memZHriIC8l1+ROPxRA/6Ie3znuq3lN13pPKjK4E7LmncGC8zL6xP3FoxuDYvODwrM2xBcHQnM3Bdwb7/9Lt1O69rzCS88mclssVrc+4vcUDc3OAhzvR2GQy2OaZkTKmxYzXOry0N5jwvwzOf2NH/8TZ4nwp4Yh8OHO2GPDc32au94Ns8o3Z5PsgznT+Z0by59YGj9SIR/LSV+LjYC/b+SY133e1kn9If3LP2hq4yYzkW4xqG9wWX7lmfuJK8yM37C/cEttcsz5zqZpwoegxmhdcrvUHe9cldrVbg/yOrB0p9Tg655AZXW5RsDvUvDarbpcHazEF3WVhVSNrtHmshhhBl3qryxMtYslOpLZDPexzXfHR/C7NoMes0eG4nHHmn9WQtLeOUVaIgoh50Sd2BXa1hBGl5JyEQFfx9DorrXVqpotWzOObJhN6m8/9lK9pl1b3P4YXZIdnch53Sz7TZo/xtYiReZMXWshUo83VouDcos1bI+FNM5Hc4qbiMin5M9n5cLbJ60ZC1lnn34L8Be9lh5eUACtIWKtUMbyIKVlsWg51VaUi7Uw3Y0xdp6E3mLU6aHI01XIFX7p5Wovx/IBKqUxZdDjxQXZ4rhhTD9bRDQ896DOmtmnIWTatkIK7yctaD0fENKxIWuzLRzalNsAJN7hTiRBhitZwyMnZDs15ZLSuw1ps0exZqHGDUmhLlKhEK+TdPEtiCbW9my86ixS9HNVYoRwqKC2HWtvESB2qkaDSlpbjdBrbWsYQExJv8N0qhdowinkKzb0ocYHl5klUscPPy7ibL2lDRC0N253BaU3hiQphMskvW0m2ITUq0uMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Organograma do ecossistema Spring\"\n        title=\"Conheça a família Spring (pluralsight.com)\"\n        src=\"/static/ce9d25f7605c402a2fc1faee4491aad5/e5715/spring-hierarchy.png\"\n        srcset=\"/static/ce9d25f7605c402a2fc1faee4491aad5/8514f/spring-hierarchy.png 192w,\n/static/ce9d25f7605c402a2fc1faee4491aad5/804b2/spring-hierarchy.png 384w,\n/static/ce9d25f7605c402a2fc1faee4491aad5/e5715/spring-hierarchy.png 768w,\n/static/ce9d25f7605c402a2fc1faee4491aad5/3dde1/spring-hierarchy.png 1018w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Conheça a família Spring (pluralsight.com)</figcaption>\n  </figure></p>\n<p>Chegaremos no <em>Spring Boot</em>, mas antes, vamos por partes, como diria aquele famoso <em>serial killer</em>.</p>\n<h2>O Spring Framework</h2>\n<p>A definição do <em>Spring</em> como plataforma pode ser utilizada para compreender o <em>Spring</em> como <em>framework</em>. Segundo\na <a href=\"https://spring.io/projects/spring-framework\" title=\"Spring Framework documentation\">documentação oficial</a>:</p>\n<blockquote>\n<p>The Spring Framework provides a comprehensive programming and configuration model for modern Java-based enterprise applications - on any kind of deployment platform.</p>\n</blockquote>\n<p>Uma de suas principais características é lidar com aspectos de aplicações <em>enterprise</em>,\npara que desenvolvedores possam focar em lógica de negócio a nível de aplicação. Outros\nbenefícios podem ser resumidos em:</p>\n<ul>\n<li>Promove <em>loose coupling</em>;</li>\n<li>Oferece ferramentas que facilitam a escrita de testes;</li>\n<li>Diminui a quantidade de <em>boilerplate code</em> para <em>singletons</em> e <em>factories</em>;</li>\n<li>Suporta configuração via <em>XML</em> e de forma programática via <em>annotations</em>.</li>\n</ul>\n<p>Há outros fatores cruciais do <em>framework</em>, como o já citado <em>Dependency Injection</em>\n(e <em>Inversion of Control</em>). Com tais características, e com a premissa de abordar diferentes áreas de uma aplicação, é inevitável que o <em>Spring</em> torne-se\nalgo complexo.</p>\n<p>Logo, o <em>framework</em> é separado em seis \"áreas fundamentais\".</p>\n<h3>1: Core</h3>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f1ab33dcd8dbef349722e51782c6697e/9b29b/spring-core-hierarchy.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30.729166666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABvklEQVQY0zWOwUtTARzHH3ToH4gOHaJD0KEWdDAIglHpe2+2YUUmE6II2njqHLGiDLtYXSocdtk8ZaMyWuZK5x5vTyvbXrPaCEGdh4LSxorSUjfRmJ/eHnT48IUf38+Xn7BR+sPG7Hsq+Qx8naK4ssqb+QXG534xu1BmuVxg/mfWYqn8jUJhmemZIjP57ywulvj96QvFj9P8mMyztrSCUNHvU2nawvqZHeCzERh8hXBLZdOdOHv6DGKZC9x9YaNnaC+xtz4uXR6hqTnCsVMRQj06ww3neHCwkb59R8lH4wjEQ+Deyl/FBi27OP9IRbitsTmosq13nIFMG72JGsLqfgYML63tMU6f7eeE+yHdN0d4Xuvm8aFm7u0WmYo8Q1ifiLPqq6HkPwDXGwi+/MD28Cg7wxqNgzkS724QGjpMePgIiYkuuoOvUXxP8LZFifZnGPNf4+lJhehxD5/1FMLVzk7sdjsOWUKWZRz19YiSRK0o4nK5CAQuorQoeLwe/O1+nE4ndXUioiiZXYflyJJsbVzp6EDI5cwvVJWkrqMlk2iahm5m0qSahmFYpFIp0um0df9PtVt1dNNVzY1sNss/BZ9PrhOKLMoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Organograma do Spring Framework mostrando suas seis áreas\"\n        title=\"Spring Core e sua relação com os demais módulos (pluralsight.com)\"\n        src=\"/static/f1ab33dcd8dbef349722e51782c6697e/e5715/spring-core-hierarchy.png\"\n        srcset=\"/static/f1ab33dcd8dbef349722e51782c6697e/8514f/spring-core-hierarchy.png 192w,\n/static/f1ab33dcd8dbef349722e51782c6697e/804b2/spring-core-hierarchy.png 384w,\n/static/f1ab33dcd8dbef349722e51782c6697e/e5715/spring-core-hierarchy.png 768w,\n/static/f1ab33dcd8dbef349722e51782c6697e/4ad3a/spring-core-hierarchy.png 1152w,\n/static/f1ab33dcd8dbef349722e51782c6697e/71c1d/spring-core-hierarchy.png 1536w,\n/static/f1ab33dcd8dbef349722e51782c6697e/9b29b/spring-core-hierarchy.png 3840w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Spring Core e sua relação com os demais módulos (pluralsight.com)</figcaption>\n  </figure></p>\n<p>O curso da <em>Pluralsight</em>, <a href=\"https://www.pluralsight.com/courses/spring-big-picture\" title=\"Curso mais do que recomendado\">\"Spring: The Big Picture\"</a>, define o <em>Spring Core</em> como:</p>\n<blockquote>\n<p>Spring Core is a dependency injection container.</p>\n</blockquote>\n<p>Mais uma vez voltamos a citar <em>Dependency Injection</em>. E se esse <em>pattern</em> ainda soa exotérico para você,\nrecomendo o ótimo <a href=\"https://www.freecodecamp.org/news/a-quick-intro-to-dependency-injection-what-it-is-and-when-to-use-it-7578c84fa88f/\" title=\"Leia o artigo na íntegra\">\"A quick intro to Dependency Injection: what it is, and when to use it\"</a>, do <em>freeCodeCamp</em>.</p>\n<p>Além disso, é o módulo que fornece funcionalidades como <em>i18n</em>, validações, <em>data binding</em>, conversores, etc. De maneira geral, é a\n\"cola\" e o fundamento de todo o <em>framework</em>.</p>\n<h3>2: Web</h3>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e09cae30de5240d9bce6b13f6bf93de4/4cd6f/spring-mvc-request-response.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 39.0625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAACAUlEQVQoz22RTUiTcRzHnzqUHaJDb1DRYYQhEUh2zFMsiRob1CFf6hBEL2CXkiA8dch0OzRYL7pNS6EOleXEMN0G9jLFQ2WguWKWSOqeNXHP0zMXe/7Pp79blEF/+P2/tw+/z++r8M+ziv/HYSz/Jax7V7ECDfDoBksLKklVJWNkmdaW+JrJouWy6Nk5NGNOZhJhmSiGkWNuXiWlptEzGrll4O16OKhgHVuP6VgDNRt5GfBgP1SFuzfKOl8UxR2mdbSPzoH9eHsr6AhXFaDK7Owi4+MJJia+8G0mRfIHCLkdrhI4tQNRvRXO2Bjyuzly1EHTszCrvYMoTQP4hkP4+0ppfmKjtf+ABM6j/FdZAkXNFsT5veRP74KzpbwOeqiuraO5J0JZV4ydbW+4NdLL46Eq2sMOuqIuNKmvWJb1lyfMArIArNuGqK8gf24PXCjjVcBNjQRe6w5T/mAEWyCGN9bDw0glHRGXVD5cBJqmiabphckZRhEYuAzOtXByO+LE5t/KLTgcTq5L5VUrlIPPy3A/3U1bf2VReWZmgbGxT7x9N8nnyWnSPyXwzkWwy2sc34BwylvWbvpTSksoSokvUijlrizl/ot93AyV0z5oL5YixAplqS+WIz6KCDYgOhsR7Veg24OemicxNUVyUedDSue9qvHdyJDW4qiZuMwEpsjzC+SJ9WonyrTJAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Diagrama com requisição e resposta através do Spring MVC\"\n        title=\"Fluxo de requisições e respostas através do Spring MVC (pluralsight.com)\"\n        src=\"/static/e09cae30de5240d9bce6b13f6bf93de4/e5715/spring-mvc-request-response.png\"\n        srcset=\"/static/e09cae30de5240d9bce6b13f6bf93de4/8514f/spring-mvc-request-response.png 192w,\n/static/e09cae30de5240d9bce6b13f6bf93de4/804b2/spring-mvc-request-response.png 384w,\n/static/e09cae30de5240d9bce6b13f6bf93de4/e5715/spring-mvc-request-response.png 768w,\n/static/e09cae30de5240d9bce6b13f6bf93de4/4ad3a/spring-mvc-request-response.png 1152w,\n/static/e09cae30de5240d9bce6b13f6bf93de4/71c1d/spring-mvc-request-response.png 1536w,\n/static/e09cae30de5240d9bce6b13f6bf93de4/4cd6f/spring-mvc-request-response.png 2449w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Fluxo de requisições e respostas através do Spring MVC (pluralsight.com)</figcaption>\n  </figure></p>\n<p>O módulo <em>Spring Web</em> é responsável por lidar com requisições <em>web</em>. Isso pode ser feito através de dois <em>frameworks</em>:</p>\n<ul>\n<li><strong>Spring Web MVC</strong>: Que fornece ferramental para atender requisições e prover respostas através de <em>Servlets</em>;</li>\n<li><strong>Spring WebFlux</strong>: A forma de fazer aplicações <em>web</em> reativas (<em>non-blocking</em>) com <em>Java</em> e <em>Spring</em>.</li>\n</ul>\n<p>O primeiro é a forma mais comum de fazer <em>web</em>, já o segundo envolve conceitos de requisições não-bloqueantes, que\npretendo abordar melhor em <em>posts</em> vindouros.</p>\n<h3>3: AOP</h3>\n<p><em>AOP</em> é acrônimo para o pomposo <em>Aspect-Oriented Programming</em>, que tem por finalidade\naumentar a modularidade ao permitir a separação de <em>cross-cutting concerns</em>.</p>\n<p>Ou, como muito bem define a <a href=\"https://pt.wikipedia.org/wiki/Programa%C3%A7%C3%A3o_orientada_a_aspecto\" title=\"Programação Orientada a Aspectos\"><em>Wikipedia</em></a>:</p>\n<blockquote>\n<p>Em Ciência da Computação, programação orientada a aspectos ou POA, é um paradigma de programação de computadores, criado por Gregor Kiczales e equipe na Xerox PARC (divisão de pesquisa da empresa Xerox), que permite aos desenvolvedores de software organizar o código fonte de acordo com a importância de uso na aplicação e separar em módulos (separation of concerns). Em contrapartida aos programas escritos no paradigma orientado a objetos, que possui código alheio a implementação do comportamento do objeto; todo código utilizado para implementar funcionalidades secundárias e que se encontra espalhado por toda a aplicação (crosscutting concern). A POA permite que esse código seja encapsulado e modularizado.</p>\n</blockquote>\n<p>E se ainda está complicado de compreender, imagine a necessidade de aplicar a checagem\nde permissões por operações do usuário. É o tipo de responsabilidade que pode ficar\nespalhada pela aplicação. Com <em>Spring AOP</em> temos algo como abaixo:</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@PreAuthorize</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hasRole('admin')\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">sensitiveOperation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Os detalhes da implementação de segurança não interessam ao <code class=\"language-text\">sensitiveOperation</code>, assim\ncomo o inverso.</p>\n<h3>4: Data</h3>\n<p>Com o <em>Spring Data</em>, interagir com dados fica muita mais simples. Abaixo, um exemplo\nde <code class=\"language-text\">SELECT</code> utilizando <em>JDBC</em> \"na unha\":</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// Exemplo de database query com JDBC</span>\n\n<span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Statement</span> stmnt <span class=\"token operator\">=</span> conn<span class=\"token punctuation\">.</span><span class=\"token function\">createStatement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">ResultSet</span> rs <span class=\"token operator\">=</span> stmnt<span class=\"token punctuation\">.</span><span class=\"token function\">executeQuery</span><span class=\"token punctuation\">(</span>\n            <span class=\"token string\">\"SELECT COUNT(*) FROM foo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            rs<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">int</span> cnt <span class=\"token operator\">=</span> rs<span class=\"token punctuation\">.</span><span class=\"token function\">getInt</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">finally</span> <span class=\"token punctuation\">{</span>\n            rs<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">finally</span> <span class=\"token punctuation\">{</span>\n        stmnt<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SQLException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// handle error</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">finally</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        conn<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SQLException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// handle error</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Agora o mesmo ensaio, só que com <em>Spring Data</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">int</span> cnt <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JdbcTemplate</span><span class=\"token punctuation\">(</span>ds<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">queryForInt</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SELECT COUNT(*) FROM foo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Nem preciso mencionar que gerenciar transações também fica muito mais simples:</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Transactional</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">operation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 1 ou mais queries</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Para finalizar, controle de erros e inclusive ferramental para testes automatizados,\nsão garantias fornecidas pelo <em>Spring Data</em>.</p>\n<h3>5: Integration</h3>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1a714cf6158bcc94b2ef1a6ac10d34df/72923/spring-integration.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.3125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABBUlEQVQoz41RW46DMBDjTAtJELulhQba8gYB4v4XcceRWFFKV/thZeTJ2PPwwjCEMQZ8V5jQCCQW3nyfoH9i6NPZxY5zf8KXmhXen4JaQ18sgqxEcO+g0ptw6v+Ce2EW6+sD6nqHPqdQ9uG4F/Ndza/gVlQpBcXuAh9f0pUvCJIcfnITLpC85CR/1Mhbh1EUwVqLLMscrOCSJIjjGGmauhyRCMe/e1Fvv4M8zzEMA+Z5Rtd1WJYFfd+jrmt5OzRNg2maHEdDdvo28nYfFGRB27ZOmAIsZlwUBcqydEar4McdbkfmR45XVRXGcXRiqwl5mnLso4N+PoqA47CY49KEMbk1f3SUJ3weNIQ0lBI/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Imagem com a afirmação: Integração é sobre fazer diferentes sistemas e aplicações funcionarem juntos\"\n        title=\"Integração é sobre fazer diferentes sistemas e aplicações funcionarem juntos (pluralsight.com)\"\n        src=\"/static/1a714cf6158bcc94b2ef1a6ac10d34df/e5715/spring-integration.png\"\n        srcset=\"/static/1a714cf6158bcc94b2ef1a6ac10d34df/8514f/spring-integration.png 192w,\n/static/1a714cf6158bcc94b2ef1a6ac10d34df/804b2/spring-integration.png 384w,\n/static/1a714cf6158bcc94b2ef1a6ac10d34df/e5715/spring-integration.png 768w,\n/static/1a714cf6158bcc94b2ef1a6ac10d34df/4ad3a/spring-integration.png 1152w,\n/static/1a714cf6158bcc94b2ef1a6ac10d34df/71c1d/spring-integration.png 1536w,\n/static/1a714cf6158bcc94b2ef1a6ac10d34df/72923/spring-integration.png 3114w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Integração é sobre fazer diferentes sistemas e aplicações funcionarem juntos (pluralsight.com)</figcaption>\n  </figure></p>\n<p>A intenção do <em>Spring Integration</em> é fazer com que sistemas se conversem. Não é só sobre expor suas soluções, mas também sobre consumir outros serviços.</p>\n<p>Por exemplo, para criar um <em>endpoint</em> <em>REST</em>, anotações como <code class=\"language-text\">RestController</code>\ne <code class=\"language-text\">GetMapping</code> são ferramentas essenciais, fornecidas por esse módulo:</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RestController</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AccountController</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/account/{id}\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Account</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@PathVariable</span> <span class=\"token keyword\">int</span> id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Outro companheiro fiel é o <code class=\"language-text\">RestTemplate</code>, que você pode\n<a href=\"https://www.baeldung.com/rest-template\" title=\"The Guide to RestTemplate\">ler mais aqui</a>.</p>\n<h3>6: Testing</h3>\n<p>O <em>Dependency Injection</em> é uma excelente ideia para garantir modularização e\ndiminuir as amarras do acoplamento.</p>\n<p>Com o <em>Spring Testing</em>, utilizar <a href=\"/2014/08/07/os-testes-e-os-dubles-parte-1.html\" title=\"Os testes e os dublês\"><em>mocks</em>, <em>stubs</em> e <em>spies</em></a>, como dependências\ninjetáveis, fica muito mais fácil. Testar unitariamente (ou até mesmo de forma integrada) a sua aplicação é algo\nprático e factível.</p>\n<h2>O Spring Boot</h2>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/068a89a9df9ed09f4d388e7a09c9e81d/82f58/spring-boot-starter-dependencies.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.14583333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgklEQVQoz41S226rMBDk///tqD0hTQMESICYgC9rbAy+AOlG6kOlplKs8WpexjO76+j+8tETFbruVUVVhcRYiF5UrutdanKD9MT2BfvoINOmf0m8bRuKmaobkbRwQtT8KMfut3jD65zpVdkOxW14VK5r50ML55TGBTsgjv1/Pt6eOK/bfZzUFZKcfZT8M+eHThbWe9CkE1kPeQ8FEm3on2JQFz5cqCyxgqqXZSWy/KRvKdtlLN53/5gmUVgc002va4pV1ch98MoMdMjRNmVxAylXl3VdnDeTHWanEEh8mCPvp5zGCX0/0V1GdyXbWzdP1ghVgWqkatAW9BXFvzNGOEgfpvADy7opI28yQ9sj3RX8gA+FYAfT8fEqRoKQIwno/LRnM2s05N+ohrG1biIixYBJ/57Qt/MjoI6eLfUuR8hwMDTO2B79K5E4Z53XzimEd3q2w7L453vGRoQm8IjXwtgq0892Ivg3IK0gvYgEp+j89Or39MERWTQS9dlZpFd5QvEXMvjlWT7pFT4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Imagem com as dependências do spring-boot-starter-web\"\n        title=\"Árvore de dependências do Spring Boot (journaldev.com)\"\n        src=\"/static/068a89a9df9ed09f4d388e7a09c9e81d/e5715/spring-boot-starter-dependencies.png\"\n        srcset=\"/static/068a89a9df9ed09f4d388e7a09c9e81d/8514f/spring-boot-starter-dependencies.png 192w,\n/static/068a89a9df9ed09f4d388e7a09c9e81d/804b2/spring-boot-starter-dependencies.png 384w,\n/static/068a89a9df9ed09f4d388e7a09c9e81d/e5715/spring-boot-starter-dependencies.png 768w,\n/static/068a89a9df9ed09f4d388e7a09c9e81d/4ad3a/spring-boot-starter-dependencies.png 1152w,\n/static/068a89a9df9ed09f4d388e7a09c9e81d/82f58/spring-boot-starter-dependencies.png 1387w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Árvore de dependências do Spring Boot (journaldev.com)</figcaption>\n  </figure></p>\n<p>Ok. Finalmente! O que é o <em>Spring Boot</em>?</p>\n<p>A documentação oficial <a href=\"https://spring.io/projects/spring-boot\" title=\"Spring Boot documentation\">define da seguinte forma</a>:</p>\n<blockquote>\n<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p>\n<p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p>\n</blockquote>\n<p>Imagine que para utilizar o <em>Spring</em>, cada módulo descrito acima é uma dependência\nque precisa ser instalada e configurada. E com isso, você vai ter uma porção de código\n<em>boilerplate</em> para executar o seu projeto.</p>\n<p>Com <em>Spring Boot</em>, a biblioteca toma algumas decisões por você, configurando e declarando\nquais dependências seu projeto utilizará. Assim, com o mínimo de esforço você consegue\nter a sua aplicação <em>web</em> funcionando em tempo recorde. Com alguns outros agrados, como métricas,\n<em>health check</em>, utilitários para <em>deployment</em>, etc.</p>\n<p>Além do \"auto-configuration\", outro aspecto marcante do <em>Spring Boot</em> é que\nele é <em>standalone</em>. Ou seja, toda aquela dança que tivemos com o <em>Tomcat</em>\nnos <em>posts</em> anteriores não é necessária aqui. O <em>Spring Boot</em> \"embeda\"\no servidor <em>web</em>, e se encarrega disso para você.</p>\n<p>É instalar e sair escrevendo código para o negócio, aos invés de\nescrever código para o <em>framework</em>.</p>\n<h2>Considerações finais</h2>\n<p>Esse <em>post</em> foi completamente baseado no curso <a href=\"https://www.pluralsight.com/courses/spring-big-picture\"><em>Spring: The Big Picture</em></a>, da plataforma de ensino <a href=\"https://www.pluralsight.com/\"><em>Pluralsight</em></a>. Se você quiser dar os seus primeiros passos com <em>Java</em>\npara <em>web</em>, utilizando <em>Spring</em>, esse curso é mais do que recomendado.</p>\n<p><em>Spring Boot</em> é sem dúvida a maneira mais indolor de começar a desenvolver para a <em>web</em>\nutilizando <em>Java</em>. Comece por ele, e vá customizando o conjunto de dependências e\nconfigurações sempre que necessário.</p>\n<p><a href=\"https://spring.io/guides/gs/spring-boot/\">Escreva a sua primeira aplicação em <em>Spring Boot</em> agora</a>.</p>\n<p>Até a próxima.</p>\n<h2>Referências</h2>\n<ul>\n<li><a href=\"https://www.baeldung.com/spring-vs-spring-boot\">Baeldung - A Comparison Between Spring and Spring Boot</a></li>\n<li><a href=\"https://dzone.com/articles/understanding-the-basics-of-spring-vs-spring-boot\">DZone - Understanding the Basics of Spring vs. Spring Boot</a></li>\n<li><a href=\"https://www.pluralsight.com/courses/spring-big-picture\">Pluralsight - Spring: The Big Picture</a></li>\n<li><a href=\"https://pt.wikipedia.org/wiki/Programa%C3%A7%C3%A3o_orientada_a_aspecto\">Wikipedia - Programação orientada a aspecto</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Spring_Framework\">Wikipedia - Spring Framework</a></li>\n<li><a href=\"https://www.zoltanraffai.com/blog/what-is-spring-framework-in-java/\">Zoltán Raffai - Getting started with Java Spring</a></li>\n</ul>","excerpt":"No post anterior, finalizamos a introdução\na alguns aspectos utilizados pelo Java EE para construção de aplicações web. Se você acompanhou…","frontmatter":{"date":"2020-05-20T05:25:00.000Z","title":"Engatinhando em Java para a web: Spring Boot","tags":["desenvolvimento-web","java","spring","spring-boot"],"thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACtklEQVQ4y61U+0tTYRjeH1J/QHYDzexiKUFB0dUgIpwpZrqZBaWYKZKY9UtFSFaS0oUk0Km7mbl0iray1NXSVmKyVrktaloNLXQ7T9/37ux0dst+6IOH853vvOc5z/u873kV+M9LIb8RBEG6BgT/XyGPjUkoD4gMirXkcfJ4IhQgSAGCEKAHNvcAdPZ6GN82MDSKaKCzkameMNJoQvHAH/CLZP040paEo+1rCdmaVTisWSnepyBHsxpPnB1h74Q4FJHyFwLzqDZnQqXbgALteuS1J6OmNwvn+7JpX6Bdh0J9KspN+zA374tKX/FH3QJdH000MXVrkM9evDVShXO9SlicBqbISB+6Y60mUp6B1n49SiUpDIi+zfz8gtKHO5Hbmoi6p6eomtVmJZFxnO05SB5fGywhwpMdW+HxOSHnUIRahK/7tosUqNJthGPajtaxq9jftBTDn7qpEBlNS6AZrcWHb+NkSR7LpHG4UiIkhSFm1w8HjhvSoWZkJZ074J11o6rnELJalsM6ZcYLVx+ULQmo7D7AnnlQ1rWHYgv1m/DOa5NIJULnzBv66jEWwFP5OuvChb4c5LYl4tKACpcfq9k+iXz0znlQ/GA7i91Mfr7+PCgS+oMphwpT/7xMbI1klqKZ0lQ2J1CbcGQ2L8PQRxNeuvqp4vnaFFyxFIVVOqwoU98nccK4hdrlTNdeptKNUY8FdYPFBN6f00xduSmDsuHpTnpfSeoi2iZ4oBmrpbZR61JZxXfB8l5P/nLwZj7dtZu84wW5a60JI5MUyn85368ZMpz7U2RIoxeL9GnSPnieznzeRj7LMwwjlKvsd7Sz6q4gnzh4YTj4nvvLfe0cv734ryf/yU0T93DjWSluDlUwlIuooDM+JOREUcMhcnz964o7vmIO2ED84crVLTpg4w3aeIiXzW85v2vJ4HyXkAAAAABJRU5ErkJggg==","width":180,"height":180,"src":"/static/53761801e751a743e9d088f6a0383f9a/d8216/spring-boot-project-logo.png","srcSet":"/static/53761801e751a743e9d088f6a0383f9a/d8216/spring-boot-project-logo.png 1x"}},"publicURL":"/static/53761801e751a743e9d088f6a0383f9a/spring-boot-project-logo.png"}},"fields":{"readingTime":{"minutes":7.62},"slug":"/2020/05/20/engatinhando-em-java-web-spring-boot.html"}},"site":{"siteMetadata":{"author":{"name":"Klaus Peter Laube","gravatar":"https://en.gravatar.com/userimage/12163112/d3ae0c6239980b01ff1f1730b65c2ebe.jpg"},"siteUrl":"https://klauslaube.com.br"}}},"pageContext":{"slug":"/2020/05/20/engatinhando-em-java-web-spring-boot.html"}}}