{"componentChunkName":"component---src-templates-blog-post-js","path":"/2020/02/13/construindo-apis-em-django-com-django-rest-framework.html","result":{"data":{"markdownRemark":{"html":"<p>No <a href=\"/2020/02/06/eu-me-rendo-django-rest-framework.html\" title=\"Leia o meu depoimento sobre a rendição ao DRF\"><em>post</em> anterior</a>\ntive a oportunidade de \"destilar\" a minha simpatia pelo <a href=\"/tag/drf.html\" title=\"Leia mais sobre o Django REST Framework\"><em>Django REST Framework</em></a>,\ne de salientar alguns aspectos positivos da ferramenta. A praticidade\né sem dúvida um de seus pontos mais altos, e nesse <em>post</em> vamos explorá-la através\nde código escrito (que vale mais do que mil palavras).</p>\n<h2>Instalando</h2>\n<p>Sem mais delongas, o <em>REST Framework</em> é facilmente instalado através dos comandos <code class=\"language-text\">pip</code> ou <code class=\"language-text\">pipenv</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ pipenv install djangorestframework</code></pre></div>\n<p>Não esqueça de adicionar a <em>app</em> ao seu <code class=\"language-text\">INSTALLED_APPS</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># settings.py</span>\n\nINSTALLED_APPS <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span>\n    <span class=\"token string\">'rest_framework'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>Estamos prontos para mergulhar nos conceitos de <em>routers</em>, serializadores e <em>views</em>.</p>\n<h2>Antes de ir: O problema</h2>\n<p>Embora o \"iMDB-clone\" seja o meu tipo de exemplo favorito, dessa vez vamos imaginar que estamos desenvolvendo\num \"Feedly-clone\". O <a href=\"https://feedly.com/\" title=\"Visite o Feedly\"><em>Feedly</em></a> é uma espécie de leitor <a href=\"/2010/11/12/o-que-e-rss.html\" title=\"O que é RSS?\"><em>RSS</em></a>\n(com esteroides) muito popular.</p>\n<p>Vamos focar em dois tipos específicos: <code class=\"language-text\">Channel</code> e <code class=\"language-text\">Item</code>; <em>Channel</em> é de fato o <em>website</em> ou <em>blog</em> que queremos registrar em\nnossa plataforma. Esse é o mesmo nome utilizado pelo formato <em>RSS</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>rss</span> <span class=\"token attr-name\">version</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>2.0<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>channel</span><span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>RSS Title<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>description</span><span class=\"token punctuation\">></span></span>This is an example of an RSS feed<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>description</span><span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span><span class=\"token punctuation\">></span></span>http://www.example.com/main.html<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>link</span><span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>lastBuildDate</span><span class=\"token punctuation\">></span></span>Mon, 06 Sep 2010 00:01:00 +0000 <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>lastBuildDate</span><span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>pubDate</span><span class=\"token punctuation\">></span></span>Sun, 06 Sep 2009 16:20:00 +0000<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>pubDate</span><span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ttl</span><span class=\"token punctuation\">></span></span>1800<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ttl</span><span class=\"token punctuation\">></span></span>\n\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>item</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Example entry<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>description</span><span class=\"token punctuation\">></span></span>Here is some text containing an interesting description.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>description</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span><span class=\"token punctuation\">></span></span>http://www.example.com/blog/post/1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>link</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>guid</span> <span class=\"token attr-name\">isPermaLink</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>7bd204c6-1655-4c27-aeee-53f933c5395f<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>guid</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>pubDate</span><span class=\"token punctuation\">></span></span>Sun, 06 Sep 2009 16:20:00 +0000<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>pubDate</span><span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>item</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>channel</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>rss</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Já item, como ilustrado no exemplo acima, é de fato a notícia/artigo/música/podcast que aquele canal está publicando.</p>\n<p>Então, partiremos do princípio que os seguintes modelos já estão estabelecidos:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># channels/models.py</span>\n\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>db <span class=\"token keyword\">import</span> models\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Channel</span><span class=\"token punctuation\">(</span>models<span class=\"token punctuation\">.</span>Model<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    title <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>CharField<span class=\"token punctuation\">(</span>max_length<span class=\"token operator\">=</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span>\n    description <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>TextField<span class=\"token punctuation\">(</span>blank<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> null<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n    link <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>URLField<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__str__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>title\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Item</span><span class=\"token punctuation\">(</span>models<span class=\"token punctuation\">.</span>Model<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    channel <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>ForeignKey<span class=\"token punctuation\">(</span>Channel<span class=\"token punctuation\">,</span> on_delete<span class=\"token operator\">=</span>models<span class=\"token punctuation\">.</span>CASCADE<span class=\"token punctuation\">)</span>\n    title <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>CharField<span class=\"token punctuation\">(</span>max_length<span class=\"token operator\">=</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span>\n    description <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>TextField<span class=\"token punctuation\">(</span>blank<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> null<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n    link <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>URLField<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    pub_date <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>DateTimeField<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__str__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>title</code></pre></div>\n<p>O próximo passo será definir a <em>API</em> para que um possível cliente <em>mobile</em> (por exemplo) a consuma.</p>\n<h2>Os serializadores</h2>\n<p>Segundo a <a href=\"https://www.django-rest-framework.org/api-guide/serializers/\" title=\"Serializers\">documentação oficial</a>:</p>\n<blockquote>\n<p>Serializers allow complex data such as querysets and model instances to be converted to native Python datatypes that can then be easily rendered into JSON, XML or other content types. Serializers also provide deserialization, allowing parsed data to be converted back into complex types, after first validating the incoming data.</p>\n</blockquote>\n<p>Eles funcionam como um espécie de <code class=\"language-text\">Form</code>, proporcionando ferramental para o <em>parsing</em> e validação das requisições, bem como controlando o que será mandado como <em>output</em> para o usuário. Dentro dessa analogia, o <code class=\"language-text\">ModelSerializer</code> faz mais ou menos o que o <code class=\"language-text\">ModelForm</code> faz. Logo, um bom candidato para começarmos a escrever o <em>endpoint</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># channels/serializers.py</span>\n\n<span class=\"token keyword\">from</span> rest_framework <span class=\"token keyword\">import</span> serializers\n\n<span class=\"token keyword\">from</span> channels<span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Channel\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ChannelSerializer</span><span class=\"token punctuation\">(</span>serializers<span class=\"token punctuation\">.</span>ModelSerializer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">class</span> <span class=\"token class-name\">Meta</span><span class=\"token punctuation\">:</span>\n        model <span class=\"token operator\">=</span> Channel\n        fields <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token string\">\"description\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"link\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"title\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span></code></pre></div>\n<p>Uma vez que estamos expondo todos os campos do modelo, é possível trocar a lista em <code class=\"language-text\">fields</code>, pela <em>string</em> <code class=\"language-text\">__all__</code>.</p>\n<h2>Viewsets</h2>\n<p>Continuando com as analogias, um <em>viewset</em> seria mais ou menos o que são as <em>class-based views</em> no <em>Django</em>. Elas abstraem uma\nporção de lógica repetitiva (como <em>CRUD</em>) através de uma estrutura muito familiar aos que já possuem certa vivência com o <em>framework</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># channels/api.py</span>\n\n<span class=\"token keyword\">from</span> rest_framework <span class=\"token keyword\">import</span> viewsets\n\n<span class=\"token keyword\">from</span> channels<span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Channel\n<span class=\"token keyword\">from</span> channels<span class=\"token punctuation\">.</span>serializers <span class=\"token keyword\">import</span> ChannelSerializer\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ChannelViewSet</span><span class=\"token punctuation\">(</span>viewsets<span class=\"token punctuation\">.</span>ModelViewSet<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    queryset <span class=\"token operator\">=</span> Channel<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    serializer_class <span class=\"token operator\">=</span> ChannelSerializer</code></pre></div>\n<p>Note que em <code class=\"language-text\">queryset</code> apontamos para o modelo <code class=\"language-text\">Channel</code>, e em <code class=\"language-text\">serializer_class</code> para a classe serializadora criada anteriormente.</p>\n<h2>Fazendo o roteamento</h2>\n<p>Como último passo para termos algo de fato visual, vamos mapear as rotas para o novo recurso criado.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 740px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/767c61c3f85f83779b4b72b19b2e65d7/07f3a/hyperdrive.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.1875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAMF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABw6BIH//EABcQAAMBAAAAAAAAAAAAAAAAAAACMQH/2gAIAQEAAQUCXSDX/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQAGPwJ//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAERMWH/2gAIAQEAAT8hgN0ump//2gAMAwEAAgADAAAAEIAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Qp//EAB0QAAIBBAMAAAAAAAAAAAAAAAERACExQVFhoeH/2gAIAQEAAT8QCjQLQOuZVSLP3qDaLBzP/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Falcon em hyperdrive\"\n        title=\"Usar DRF é como entrar em hyperdrive (pinpointe.com)\"\n        src=\"/static/767c61c3f85f83779b4b72b19b2e65d7/07f3a/hyperdrive.jpg\"\n        srcset=\"/static/767c61c3f85f83779b4b72b19b2e65d7/7809d/hyperdrive.jpg 192w,\n/static/767c61c3f85f83779b4b72b19b2e65d7/4ecad/hyperdrive.jpg 384w,\n/static/767c61c3f85f83779b4b72b19b2e65d7/07f3a/hyperdrive.jpg 740w\"\n        sizes=\"(max-width: 740px) 100vw, 740px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Usar DRF é como entrar em hyperdrive (pinpointe.com)</figcaption>\n  </figure></p>\n<p>Uma das vantagens de utilizar um <em>viewset</em> é que ele também se encarrega de fazer o mapeamento das <em>URLs</em>. Por exemplo, o <code class=\"language-text\">ChannelViewSet</code> uma vez que mapeado,\nresponderá para rotas terminando em <code class=\"language-text\">/</code> e <code class=\"language-text\">/&lt;id-do-channel&gt;</code>. Além disso compreenderá que um <code class=\"language-text\">POST</code> em <code class=\"language-text\">/</code> é relacionado à criação de um novo elemento, bem como <code class=\"language-text\">DELETE</code> em <code class=\"language-text\">/&lt;id-do-channel&gt;</code> está relação à remoção:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># urls.py</span>\n\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>urls <span class=\"token keyword\">import</span> include<span class=\"token punctuation\">,</span> path\n\n<span class=\"token keyword\">from</span> rest_framework <span class=\"token keyword\">import</span> routers\n<span class=\"token keyword\">from</span> channels<span class=\"token punctuation\">.</span>api <span class=\"token keyword\">import</span> ChannelViewSet\n\napi_router <span class=\"token operator\">=</span> routers<span class=\"token punctuation\">.</span>DefaultRouter<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\napi_router<span class=\"token punctuation\">.</span>register<span class=\"token punctuation\">(</span><span class=\"token string\">r\"channels\"</span><span class=\"token punctuation\">,</span> ChannelViewSet<span class=\"token punctuation\">)</span>\n\nurlpatterns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">\"api/\"</span><span class=\"token punctuation\">,</span> include<span class=\"token punctuation\">(</span>api_router<span class=\"token punctuation\">.</span>urls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>Nesse momento já é possível presenciar um resultado mais sólido ao acessar <code class=\"language-text\">http://localhost:8000/api</code>:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 740px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0a797ad2b8417bd9a2e5f88cd3c3a1b0/50383/django-rest-framework-example.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.6875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAABYlAAAWJQFJUiTwAAABj0lEQVQoz32R2UrDUBCG+yYa8UahthVv1Noaalu3otblxmcS8RkEn8HaNHF5ABFEhEosiCbaJmma5WxZnKR1K9LDx89wmG/mwElslPfy2fVyYYfPra8sV9aK1VJhu5DfzC2ufrO0UC7kKyW+srtR4osHayvVIr8FPYn02Pj81DSfzuRT6WwymZtJzU1OZriJ2b9kOC6+hOQGN+NcQpQkQRTP63VBEqEALgShVq/XhGEaYkOSGmKckiQ2Li8TYRgGQUApDXw/HHlMEr47fpeGCiSOmiNZVVVZlpvNpqIovu8zRhljUAQwL04vnnty0zo8uzu6kvdPb4+v5YFsmr23N6Xd7miarutGJzoapeCHnhfpfQIgCKJ3+nH2ZcdxwXFdzAijmBJMESIjgE4YPdgMe+7vH55ary9ts/VudC0XI/IDHgahX7LW0R6fWs9KWzVstWvrlosIHfDfK2AzIV8yoQybDjFs0rWpYRG9hz6MiI6JDAvhkTJlHrYR6TnYwcRyoSBmDBQOgr4hMIbf8ED8BMauEY/dCRS/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Exemplo ao acessar o endereço no browser\"\n        title=\"Exemplo ao acessar o endereço no browser\"\n        src=\"/static/0a797ad2b8417bd9a2e5f88cd3c3a1b0/50383/django-rest-framework-example.png\"\n        srcset=\"/static/0a797ad2b8417bd9a2e5f88cd3c3a1b0/8514f/django-rest-framework-example.png 192w,\n/static/0a797ad2b8417bd9a2e5f88cd3c3a1b0/804b2/django-rest-framework-example.png 384w,\n/static/0a797ad2b8417bd9a2e5f88cd3c3a1b0/50383/django-rest-framework-example.png 740w\"\n        sizes=\"(max-width: 740px) 100vw, 740px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Exemplo ao acessar o endereço no browser</figcaption>\n  </figure></p>\n<p>Não ligue para a porta <code class=\"language-text\">:5000</code> no exemplo acima...</p>\n<p>Se você não é fã do <em>browsable api</em>, e não quer ter essa visão do <code class=\"language-text\">API Root</code> (como da imagem acima), troque o <code class=\"language-text\">DefaultRouter</code> por <code class=\"language-text\">SimpleRouter</code>.</p>\n<h2>CRUD em ação</h2>\n<p>Considerando tudo o que foi dito até então, podemos esperar que temos o recurso mapeado no endereço <code class=\"language-text\">http://localhost:8000/api/channels</code>,\ne que a partir desse, poderemos desempenhar a listagem, adição, edição e exclusão de dados desse recurso.</p>\n<p>Começamos então adicionando um elemento, ao enviar o método <code class=\"language-text\">POST</code> para o endereço com final <code class=\"language-text\">channels/</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">curl -XPOST http://localhost:8000/api/channels/ --data &#39;{\n    &quot;id&quot;: 1,\n    &quot;title&quot;: &quot;Klaus Laube&quot;,\n    &quot;description&quot;: &quot;Python, Django e desenvolvimento Web&quot;,\n    &quot;link&quot;: &quot;https://klauslaube.com.br&quot;\n}&#39; --header &quot;Content-Type: application/json&quot;\n\n{&quot;id&quot;:1,&quot;title&quot;:&quot;Klaus Laube&quot;,&quot;description&quot;:&quot;Python, Django e desenvolvimento Web&quot;,&quot;link&quot;:&quot;https://klauslaube.com.br&quot;}</code></pre></div>\n<p>Como o serializador espelha as propriedades do modelo <code class=\"language-text\">Channel</code>, caso um campo obrigatório não seja enviado\nno <em>payload</em>, o próprio serializador se encarregará de fazer essa validação e de retornar detalhes do erro ao usuário:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">curl -i -XPOST http://localhost:8000/api/channels/ --data &#39;{\n    &quot;title&quot;: &quot;Klaus Laube&quot;,\n    &quot;description&quot;: &quot;Python, Django, APIs, e desenvolvimento Web&quot;\n}&#39; --header &quot;Content-Type: application/json&quot;\n\nHTTP/1.1 400 Bad Request\nDate: Tue, 11 Feb 2020 18:00:44 GMT\nServer: WSGIServer/0.2 CPython/3.7.2\nContent-Type: application/json\nVary: Accept, Cookie\nAllow: GET, POST, HEAD, OPTIONS\nX-Frame-Options: DENY\nContent-Length: 36\nX-Content-Type-Options: nosniff\n\n{&quot;link&quot;:[&quot;This field is required.&quot;]}</code></pre></div>\n<p>Como estamos falando de uma <em>API</em> <em>REST</em>, é normal esperarmos que um <code class=\"language-text\">GET</code> no mesmo endereço traga uma lista de <em>channels</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">curl http://localhost:8000/api/channels/\n\n[{&quot;id&quot;:1,&quot;title&quot;:&quot;Klaus Laube&quot;,&quot;description&quot;:&quot;Python, Django e desenvolvimento Web&quot;,&quot;link&quot;:&quot;https://klauslaube.com.br&quot;}]</code></pre></div>\n<p>E normalmente, um <code class=\"language-text\">GET</code> em <code class=\"language-text\">channels/1</code> deve trazer detalhes daquele recurso:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">curl http://localhost:8000/api/channels/1/\n\n{&quot;id&quot;:1,&quot;title&quot;:&quot;Klaus Laube&quot;,&quot;description&quot;:&quot;Python, Django e desenvolvimento Web&quot;,&quot;link&quot;:&quot;https://klauslaube.com.br&quot;}</code></pre></div>\n<p>Para atualizar o registro, enviamos o método <code class=\"language-text\">PUT</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">curl -XPUT http://localhost:8000/api/channels/1/ --data &#39;{\n    &quot;title&quot;: &quot;Klaus Laube&quot;,\n    &quot;description&quot;: &quot;Python, Django, APIs, e desenvolvimento Web&quot;,\n    &quot;link&quot;: &quot;https://klauslaube.com.br&quot;\n}&#39; --header &quot;Content-Type: application/json&quot;\n\n{&quot;id&quot;:1,&quot;title&quot;:&quot;Klaus Laube&quot;,&quot;description&quot;:&quot;Python, Django, APIs, e desenvolvimento Web&quot;,&quot;link&quot;:&quot;https://klauslaube.com.br&quot;}</code></pre></div>\n<p>E para finalizar, com <code class=\"language-text\">DELETE</code> é possível remover o recurso:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">curl -XDELETE http://localhost:8000/api/channels/2/</code></pre></div>\n<p>Mágico, não?!</p>\n<h2>Serializando relacionamentos</h2>\n<p>Passaremos a abordar agora a construção do <em>endpoint</em> para o recurso <code class=\"language-text\">Item</code>.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/71dd224a33c9c79420baf43984fa2225/c08c5/vim-jedi.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUCAwT/xAAWAQEBAQAAAAAAAAAAAAAAAAACAQP/2gAMAwEAAhADEAAAAVzVJo0VJAo//8QAGhAAAgMBAQAAAAAAAAAAAAAAAAMBAhESE//aAAgBAQABBQJGejGdVKjJnD//xAAXEQADAQAAAAAAAAAAAAAAAAABAhAR/9oACAEDAQE/AQ2T/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhAAAgIDAAAAAAAAAAAAAAAAAAEQESFBQv/aAAgBAQAGPwLJfK1CFH//xAAYEAADAQEAAAAAAAAAAAAAAAAAARExIf/aAAgBAQABPyFmQRbUJWtm6KuhpF4I/9oADAMBAAIAAwAAABBY7//EABYRAQEBAAAAAAAAAAAAAAAAAAEREP/aAAgBAwEBPxARJn//xAAWEQEBAQAAAAAAAAAAAAAAAAARAAH/2gAIAQIBAT8Q10m//8QAHBABAQACAgMAAAAAAAAAAAAAAREAITFhQVGB/9oACAEBAAE/ELpIjVKHeBMI1/AHveaSja5xjbu/ccHsgBcTOc//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Kylo vs Rey\"\n        title=\"Nem o DRF consegue serializar o relacionamento entre Rey e Kylo (jovemnerd.com.br)\"\n        src=\"/static/71dd224a33c9c79420baf43984fa2225/c08c5/vim-jedi.jpg\"\n        srcset=\"/static/71dd224a33c9c79420baf43984fa2225/7809d/vim-jedi.jpg 192w,\n/static/71dd224a33c9c79420baf43984fa2225/4ecad/vim-jedi.jpg 384w,\n/static/71dd224a33c9c79420baf43984fa2225/c08c5/vim-jedi.jpg 640w\"\n        sizes=\"(max-width: 640px) 100vw, 640px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Nem o DRF consegue serializar o relacionamento entre Rey e Kylo (jovemnerd.com.br)</figcaption>\n  </figure></p>\n<p>Começamos pelo <em>serializer</em>, que não é muito diferente do construído anteriormente para o modelo <code class=\"language-text\">Channel</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># channels/serializers.py</span>\n\n<span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ItemSerializer</span><span class=\"token punctuation\">(</span>serializers<span class=\"token punctuation\">.</span>ModelSerializer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">class</span> <span class=\"token class-name\">Meta</span><span class=\"token punctuation\">:</span>\n        model <span class=\"token operator\">=</span> Item\n        fields <span class=\"token operator\">=</span> <span class=\"token string\">\"__all__\"</span></code></pre></div>\n<p>O <code class=\"language-text\">ModelSerializer</code> \"automagicamente\" fará o <em>parsing</em> do relacionamento entre <code class=\"language-text\">Item</code> e <code class=\"language-text\">Channel</code>. O resultado da serialização de uma instância\nde <code class=\"language-text\">Item</code> terá uma propriedade <code class=\"language-text\">channel</code>, com a chave primária do elemento relacionado como valor:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">(...)\n\n&gt;&gt;&gt; item = Item.objects.first()\n&gt;&gt;&gt; serializer = ItemSerializer(item)\n&gt;&gt;&gt; data = serializer.data\n\n&gt;&gt;&gt; print(data[&quot;channel&quot;])\n1</code></pre></div>\n<p>Antes de passarmos para o <em>viewset</em>, vamos discutir como ficará a <em>URL</em> desse recurso. Se seguirmos a mesma receita utilizada para <code class=\"language-text\">Channel</code>,\nteremos um endereço semelhante com o abaixo:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">http://localhost:8000/api/items/&lt;id&gt;</code></pre></div>\n<p>Mas que tal se <code class=\"language-text\">channels</code> fosse parte da <em>URL</em> de <code class=\"language-text\">items</code>? É possível atingir tal resultado com o conceito de recurso aninhado.</p>\n<h2>Nested resources</h2>\n<p>O que queremos, na prática, é o seguinte:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">http://localhost:8000/api/channels/&lt;id-do-channel&gt;/items/&lt;id-do-item&gt;</code></pre></div>\n<p>Com isso, ao acessar <code class=\"language-text\">channels/1/items</code> (por exemplo), teremos uma listagem de todos os itens relacionados\ncom o canal <code class=\"language-text\">1</code>.</p>\n<p>Infelizmente o <em>DRF</em> não possui nenhuma \"classe mágica\" que faça isso acontecer com poucas linhas de código. Estratégias\npara atingir o mesmo resultado podem variar. Existe uma biblioteca que integra-se com o <em>DRF</em> e produz um resultado\nsimilar ao que queremos. Estou falando da <a href=\"https://github.com/alanjds/drf-nested-routers\" title=\"Veja o repositório do projeto\"><em>drf-nested-routers</em></a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ pipenv install drf-nested-routers</code></pre></div>\n<p><strong>Fica o <em>disclaimer</em>:</strong> Como o próprio autor da biblioteca salienta na documentação, essa é uma ferramenta em estado experimental, portanto,\ncogite alternativas quando estiver fazendo o <em>deploy</em> do código para produção. Para provar o conceito apresentado nesse <em>post</em>, ela serve\nperfeitamente.</p>\n<p>Agora sim podemos continuar com o desenvolvimento do recurso <code class=\"language-text\">Item</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># channels/api.py</span>\n\n<span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ItemViewSet</span><span class=\"token punctuation\">(</span>viewsets<span class=\"token punctuation\">.</span>ModelViewSet<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    serializer_class <span class=\"token operator\">=</span> ItemSerializer\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_queryset</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> Item<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>\n            channel<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>kwargs<span class=\"token punctuation\">[</span><span class=\"token string\">\"channel_pk\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Note a sobrescrita do método <code class=\"language-text\">get_queryset</code>. O parâmetro <code class=\"language-text\">channel_pk</code> será passado para o <code class=\"language-text\">ItemViewSet</code> no momento\nem que registrarmos a classe no <code class=\"language-text\">Router</code>. Com isso, de forma \"lazy\", estamos dizendo que os items pesquisados\ndevem ser relacionados com o <code class=\"language-text\">channel</code> mencionado no <em>path</em> do endereço acessado.</p>\n<p>De volta ao <code class=\"language-text\">urls.py</code>, atualizaremos o roteamento para ficar semelhante com o exemplo abaixo:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># urls.py</span>\n\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>urls <span class=\"token keyword\">import</span> include<span class=\"token punctuation\">,</span> path\n<span class=\"token keyword\">from</span> rest_framework_nested <span class=\"token keyword\">import</span> routers\n\n<span class=\"token keyword\">from</span> channels<span class=\"token punctuation\">.</span>api <span class=\"token keyword\">import</span> ChannelViewSet<span class=\"token punctuation\">,</span> ItemViewSet\n\napi_router <span class=\"token operator\">=</span> routers<span class=\"token punctuation\">.</span>DefaultRouter<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\napi_router<span class=\"token punctuation\">.</span>register<span class=\"token punctuation\">(</span><span class=\"token string\">r\"channels\"</span><span class=\"token punctuation\">,</span> ChannelViewSet<span class=\"token punctuation\">)</span>\n\nchannels_router <span class=\"token operator\">=</span> routers<span class=\"token punctuation\">.</span>NestedDefaultRouter<span class=\"token punctuation\">(</span>\n    api_router<span class=\"token punctuation\">,</span> <span class=\"token string\">r\"channels\"</span><span class=\"token punctuation\">,</span> lookup<span class=\"token operator\">=</span><span class=\"token string\">\"channel\"</span><span class=\"token punctuation\">)</span>\nchannels_router<span class=\"token punctuation\">.</span>register<span class=\"token punctuation\">(</span><span class=\"token string\">r\"items\"</span><span class=\"token punctuation\">,</span> ItemViewSet<span class=\"token punctuation\">,</span>\n    basename<span class=\"token operator\">=</span><span class=\"token string\">\"channel-items\"</span><span class=\"token punctuation\">)</span>\n\nurlpatterns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">\"api/\"</span><span class=\"token punctuation\">,</span> include<span class=\"token punctuation\">(</span>api_router<span class=\"token punctuation\">.</span>urls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">\"api/\"</span><span class=\"token punctuation\">,</span> include<span class=\"token punctuation\">(</span>channels_router<span class=\"token punctuation\">.</span>urls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>Vamos aos pontos de atenção:</p>\n<ul>\n<li>Importamos <code class=\"language-text\">routers</code> de <code class=\"language-text\">rest_framework_nested</code>, e não mais de <code class=\"language-text\">rest_framework</code>;</li>\n<li>Agora lidamos com duas instâncias de <code class=\"language-text\">Router</code>, a primeiro vindo de <code class=\"language-text\">api_router = routers.DefaultRouter()</code>,\ne a segunda vindo de <code class=\"language-text\">channels_router = routers.NestedDefaultRouter(api_router, r&quot;channels&quot;, lookup=&quot;channel&quot;)</code>;</li>\n<li><code class=\"language-text\">DefaultRouter</code> continua com o mesmo comportamento do exemplo anterior;</li>\n<li>Precisamos adicionar ao <code class=\"language-text\">urlpatterns</code> a instância de <code class=\"language-text\">DefaultRouter</code> e as instâncias de <code class=\"language-text\">NestedDefaultRouter</code>.</li>\n</ul>\n<p><code class=\"language-text\">NestedDefaultRouter</code> espera três parâmetros:</p>\n<ul>\n<li><code class=\"language-text\">parent_router</code>: O <code class=\"language-text\">Router</code> \"pai\", podendo ser um <code class=\"language-text\">DefaultRouter</code> ou até mesmo outro <code class=\"language-text\">NestedDefaultRouter</code>;</li>\n<li><code class=\"language-text\">parent_prefix</code>: O prefixo de <em>URL</em> no qual os recursos registrados passarão a ser articulados como sub recursos;</li>\n<li><code class=\"language-text\">lookup</code>: É a partir dessa informação que a chave <code class=\"language-text\">channel_pk</code> é criada e passada para o <em>viewset</em>.</li>\n</ul>\n<p>Aqui também, se você não quiser ter a visão de <em>browsable api</em> habilitada, troque para o <code class=\"language-text\">SimpleRouter</code>.</p>\n<p>Pronto! O recurso <code class=\"language-text\">Item</code> está disponível para as operações exibidas anteriormente:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">curl http://localhost:8000/api/channels/1/items/\n\n[{&quot;id&quot;:1,&quot;title&quot;:&quot;Eu me rendo: Django REST Framework&quot;,&quot;description&quot;:&quot;Confesso que nunca fui muito simpático ao Django REST Framework...&quot;,&quot;link&quot;:&quot;https://klauslaube.com.br/2020/02/06/eu-me-rendo-django-rest-framework.html&quot;,&quot;pub_date&quot;:&quot;2020-02-06T09:40:00Z&quot;,&quot;channel&quot;:1}]</code></pre></div>\n<p>O <em>payload</em> retorna uma chave <code class=\"language-text\">channel</code> para cada item. Uma vez que estamos falando de um <em>nested resource</em>, não faz muito sentido retornarmos essa informação. A maneira mais prática de corrigirmos isso é alterando a classe serializadora:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># channels/serializers.py</span>\n\n<span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ItemSerializer</span><span class=\"token punctuation\">(</span>serializers<span class=\"token punctuation\">.</span>ModelSerializer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">class</span> <span class=\"token class-name\">Meta</span><span class=\"token punctuation\">:</span>\n        model <span class=\"token operator\">=</span> Item\n        exclude <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"channel\"</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>Como queremos tudo, menos o <code class=\"language-text\">channel</code>, utilizamos a propriedade <code class=\"language-text\">exclude</code> ao invés de <code class=\"language-text\">fields</code>, e determinamos o que queremos excluir da resposta.</p>\n<h2>Considerações finais</h2>\n<p>Há muito o que ser discutido ainda, como customização, autenticação, segurança, <em>HATEOAS</em>, etc. Assuntos esses que pretendo abordar em <em>posts</em> vindouros.</p>\n<p>Com o mínimo coberto no <em>getting started</em> da documentação do <em>DRF</em>, já é\npossível termos algo <em>up &#x26; running</em>. Provar conceitos e discutir contratos\npassou a ser muito menos custoso graças à biblioteca.</p>\n<p>Essa \"proximidade\" de conceitos como serializadores e <em>viewsets</em>, com conceitos bem estabelecidos do <em>Django</em> (como <em>forms</em> e <em>class-based views</em>) faz com que o atrito seja menor, e a curva de aprendizagem mais baixa. É quase natural compreender tais artefatos à primeira vista.</p>\n<p>Se o seu projeto é feito em <em>Django</em>, e você necessita escrever <em>APIs</em> <em>REST</em>, não perca tempo e caia de cabeça no <em>REST Framework</em>.</p>\n<p>Até a próxima.</p>\n<h2>Referências</h2>\n<ul>\n<li><a href=\"https://www.django-rest-framework.org/tutorial/quickstart/\">Django REST Framework - Quickstart</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/RSS\">Wikipedia - RSS</a></li>\n</ul>","excerpt":"No post anterior\ntive a oportunidade de \"destilar\" a minha simpatia pelo Django REST Framework,\ne de salientar alguns aspectos positivos da…","frontmatter":{"date":"2020-02-13T06:15:00.000Z","title":"Construindo APIs em Django com Django REST Framework","tags":["desenvolvimento-web","api","python","django","rest","drf"],"thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACe0lEQVQ4y6WV/UtTYRTH/Rv6A4qgLNN02Wb5vqlbNF0mZTW3dG1uWsu0DFeUxCiIQdEvkRQlGb35i4FpSKnJ7BW1sQqi8odICi0pMpe4t2/Pc9a9qHgvky483Hue+5zP/Z7nOefchI2OIkiNdHsh4nk/d11CPA7KGi0NYV7FbYd2aUBh0YbqAqyrykEyG3wu1ZqPpMosrN+Xt2gUkkCugDuVnqiE1/8cj31PkFtnQFOLG0PvfDjf3kIf4splFQovM2q3ELDqbB2ES92wHXd6O+j51YfXWGXKYOt00kBxz5i6FEsulu9SoOykBdFoFLPBWeiOlsN5wYWel/1wXz+HZLZGUiGfVLJ7mk1Dykxn9uPwxWYW2iVSFAwFUXLMhLxD21Bxuhb6JiMUbH8XPRRhQlGtQZZTj4dDA1h4hSNhaFjIV7tukT3ge4rV5k1QSYWsqtFhLTu9u333yGF6JsCcb4q2ALzSeYPsvhEvEs2bpYFcXc7BEnz7OUkO/BSXGRJR1mwRgep4gZQiLL/0LiOmAr/Jweqpx0qjku4xYCQGvB+3wgJkO4sx8eM7ObT1tGPF7nTscTvIDoVDC4CD8kBhD1sf3BYPwj/6Fr6Pb0S78MgOXOuOHUrvsIxCsczsLA3sRbjc2Yavk+OIsDARBX5NT+HT+Bjy60vR4e0mYNezR/IK5xb6mr2ZyDywFYbjZiq9YlcF1TDf67GJLwTkGSAAJWtZgPLweVNIYQnOk5xXhLaxHIP+F2L4fG9lK0WqbXEFqVY1bJ4GvP88isDMH5xq9bDGkC3CltQPYyWpRRIDcNXaxp0Ek2rAssB5df5PTZpNTQ32v4DzO5H87+Ev3E2COGrAjDwAAAAASUVORK5CYII=","width":180,"height":180,"src":"/static/46012f1b5a5e44b0747baafa90e04f8a/d8216/django-logo.png","srcSet":"/static/46012f1b5a5e44b0747baafa90e04f8a/d8216/django-logo.png 1x"}},"publicURL":"/static/46012f1b5a5e44b0747baafa90e04f8a/django-logo.png"}},"fields":{"readingTime":{"minutes":9.22},"slug":"/2020/02/13/construindo-apis-em-django-com-django-rest-framework.html"}},"site":{"siteMetadata":{"author":{"name":"Klaus Peter Laube","gravatar":"https://en.gravatar.com/userimage/12163112/d3ae0c6239980b01ff1f1730b65c2ebe.jpg"},"siteUrl":"https://klauslaube.com.br"}}},"pageContext":{"slug":"/2020/02/13/construindo-apis-em-django-com-django-rest-framework.html"}}}