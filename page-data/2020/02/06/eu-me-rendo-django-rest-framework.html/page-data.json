{"componentChunkName":"component---src-templates-blog-post-js","path":"/2020/02/06/eu-me-rendo-django-rest-framework.html","result":{"data":{"markdownRemark":{"html":"<p>Confesso que nunca fui muito simpático ao <a href=\"https://www.django-rest-framework.org/\" title=\"Visite a página oficial do projeto\"><em>Django REST Framework</em></a>. Antes de adotá-lo tive a oportunidade de explorar outras opções, como o <a href=\"/2017/01/06/construindo-apis-em-django-com-restless.html\" title=\"Leia mais sobre o Restless\"><em>Restless</em></a>, e admito que sempre havia algo faltando, ou algum esforço extra necessário para obter alguma funcionalidade que já vinha embutida no <a href=\"/tag/drf.html\" title=\"Leia mais sobre Django REST Framework\"><em>DRF</em></a>.</p>\n<p>Comecei a aceitar a sua natureza \"baterias inclusas\" após me distanciar do desenvolvimento <a href=\"/tag/python.html\" title=\"Leia mais sobre Python\"><em>Python</em></a>. Sob uma ótica diferente, compreendi o papel do <em>DRF</em>, e fiz as pazes com esse sentimento de confiar em uma biblioteca (supostamente) complexa para construir <a href=\"/tag/api.html\" title=\"Leia mais sobre APIs\"><em>APIs</em></a> (teoricamente) simples. Afinal, se \"ser bloated\" for um argumento decisivo, não escolheríamos <a href=\"/tag/django.html\" title=\"Leia mais sobre Django\"><em>Django</em></a> para escrever <em>APIs</em> (principalmente em um contexto de microserviços).</p>\n<h2>Motivação</h2>\n<p>É claro que a minha atual simpatia pela ferramenta não se deve apenas ao fato de eu tê-la \"aceitado\". Pura ignorância da minha parte não ter compreendido antes todos os aspectos positivos que o projeto possui, e todas as facilidades que ele proporciona aos seus usuários.</p>\n<h3>Patrocinado</h3>\n<p>O que faz do <em>REST Framework</em> um projeto interessante é, para começo de conversa, que ele é financiado colaborativamente, com empresas do calibre de <a href=\"https://getsentry.com/welcome/\" title=\"Conheça o Sentry\"><em>Sentry</em></a> e <a href=\"https://www.digitalocean.com/\" title=\"Cloud sem complicação\"><em>DigitalOcean</em></a> fazendo parte da lista de patrocinadores. Essa característica faz com que a biblioteca tenha um <em>long-term</em> mais provável, uma vez que os esforços de desenvolvimento são financiados. Além disso, <em>releases</em> são mais substanciais e frequentes.</p>\n<p><a href=\"https://fund.django-rest-framework.org/topics/funding/\" title=\"Veja mais em Funding\">Leia mais sobre como patrocinar o projeto</a>.</p>\n<h3>Autenticação</h3>\n<p>Lidar com autenticação \"from scratch\" é no mínimo <em>error prone</em>. O <em>framework</em> já possui uma série de mecanismos de autenticação <em>built-in</em> (como <code class=\"language-text\">BasicAuthentication</code>, <code class=\"language-text\">SessionAuthentication</code> e <code class=\"language-text\">TokenAuthentication</code>), e uma infinidade de integrações com <em>third parties</em> (como <a href=\"https://github.com/jazzband/django-oauth-toolkit\" title=\"Veja a página do projeto no GitHub\">django-oauth-toolkit</a>, <a href=\"https://github.com/davesque/django-rest-framework-simplejwt\" title=\"Biblioteca para adoção de JWT\">django-rest-framework-simplejwt</a> e <a href=\"https://github.com/sunscrapers/djoser\" title=\"Excelente opção de auth para APIs em Django\">djoser</a>).</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/49eeb3ceeb9248a95cd70ff9b2748f77/1c72d/never-give-up.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.39583333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDAQT/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABRJdCaQK//8QAGhABAAIDAQAAAAAAAAAAAAAAAQADAhESIv/aAAgBAQABBQLfIPmV4NkKIM//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPwEn/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8BZ//EABgQAAIDAAAAAAAAAAAAAAAAAAARARAx/9oACAEBAAY/Ahupl4bX/8QAGhAAAwEAAwAAAAAAAAAAAAAAAAERMSFRcf/aAAgBAQABPyGdJ4cGtu1iwdoRUNaz2TUP/9oADAMBAAIAAwAAABD/AB//xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQMBAT8QeQ3/xAAVEQEBAAAAAAAAAAAAAAAAAAAAIf/aAAgBAgEBPxClf//EABoQAQEBAQEBAQAAAAAAAAAAAAERIQAxUWH/2gAIAQEAAT8QRGx+t4ZJtLTdJ0RHOHxEIjtL3gygAs37y5vFO//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Never give up, never surrender\"\n        title=\"Não há nada de errado em render-se de vez em quando (publishedtodeath.blogspot.com)\"\n        src=\"/static/49eeb3ceeb9248a95cd70ff9b2748f77/1c72d/never-give-up.jpg\"\n        srcset=\"/static/49eeb3ceeb9248a95cd70ff9b2748f77/7809d/never-give-up.jpg 192w,\n/static/49eeb3ceeb9248a95cd70ff9b2748f77/4ecad/never-give-up.jpg 384w,\n/static/49eeb3ceeb9248a95cd70ff9b2748f77/1c72d/never-give-up.jpg 590w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Não há nada de errado em render-se de vez em quando (publishedtodeath.blogspot.com)</figcaption>\n  </figure></p>\n<p>A possibilidade de mesclar mecanismos num mesmo recurso permite que você tenha uma <em>API</em> <em>session based</em> para o seu <em>front-end</em> em <em>React</em> (por exemplo), e o mesmo recurso ser capaz de servir acessos utilizando <em>tokens</em>, para um possível cliente <em>mobile</em>.</p>\n<p><a href=\"https://www.django-rest-framework.org/api-guide/authentication/\" title=\"Veja mais em Authentication\">Leia mais sobre autenticação</a>.</p>\n<h3>SQL &#x26; NoSQL</h3>\n<p>Os serializadores são um aspecto muito interessante da biblioteca. Além do trabalho de <em>marshalling</em>, eles também servem como validadores. Com o <code class=\"language-text\">ModelSerializer</code> todos os aspectos do seu modelo são \"traduzidos\" para a <em>API</em>, no melhor estilo <em>Django Admin</em>.</p>\n<p>Mas existe também a possibilidade de escrita de seu própria classe serializadora ao herdar de <code class=\"language-text\">serializers.Serializer</code>. Isso traz flexibilidade para trabalhar com artefatos não relacionados com a <em>ORM</em> do <em>Django</em>.</p>\n<p>E se <em>HATEOAS</em> for a sua praia, o <code class=\"language-text\">HyperlinkedModelSerializer</code> promove <em>hyperlinks</em> entre tais classes.</p>\n<p><a href=\"https://www.django-rest-framework.org/api-guide/serializers/\" title=\"Veja mais em Serializers\">Leia mais sobre serialização</a>.</p>\n<h3>Developer eXperience</h3>\n<p><em>APIs</em> escritas com o <em>REST Framework</em> ainda ganham a funcionalidade de \"web browsable API\". Com isso é possível navegar pelas definições da sua <em>API</em> (como <em>endpoints</em>, formatos e métodos) e interagir com a mesma através de uma interface amigável, pronta para ser compartilhada com outros desenvolvedores interessados em consumir a sua solução.</p>\n<p>Uma outra opção é a geração de <a href=\"/tag/swagger.html\" title=\"Leia mais sobre Swagger\"><em>Swagger</em></a> através do <a href=\"https://django-rest-swagger.readthedocs.io/en/latest/\" title=\"Leia a documentação do projeto\"><em>Django REST Swagger</em></a>.</p>\n<p><a href=\"https://restframework.herokuapp.com/\" title=\"Visite a aplicação de exemplo da documentação oficial\">Veja a <em>browsable API</em> em ação</a>.</p>\n<h3>Praticidade</h3>\n<p>E meu argumento final é em torno de sua praticidade. Ter uma <em>API</em> <a href=\"/tag/rest.html\" title=\"Leia mais sobre REST\"><em>REST</em></a> em <em>Django</em>, com o <em>DRF</em>, leva minutos...</p>\n<p>Algumas customizações poderão exigir um pouco mais de conhecimento da biblioteca, bem como um pouquinho de criatividade, mas nada que te impeça de proporcionar um serviço estável, bem escrito, e em baixíssimo tempo de desenvolvimento.</p>\n<p><a href=\"https://www.django-rest-framework.org/api-guide/generic-views/#customizing-the-generic-views\" title=\"Veja mais em Customizing the generic views\">Leia mais sobre como customizar <em>views</em></a>.</p>\n<h2>Considerações finais</h2>\n<p>Talvez seja só devaneio, mas depois de trabalhar com <em>Spring Boot</em> para construção de <em>APIs</em> <a href=\"/tag/java.html\" title=\"(não) leia mais sobre Java\"><em>Java</em></a> em um contexto de microserviços, foi que entendi o propósito do <em>REST Framework</em>. Deixar de lado essa \"birra\" com ele (supostamente) ser grande serviu para poder enxergar as qualidades da ferramenta.</p>\n<p>Os pontos negativos ainda estão lá, e provavelmente você também vai achá-los quando estiver \"entrincheirado\" escrevendo a sua solução. Ainda assim, o <em>DRF</em> deve ser considerado como possível escolha para escrita de suas <em>APIs</em> em <em>Python</em>.</p>\n<p>No próximo artigo falaremos de uma maneira prática sobre o <em>framework</em>.</p>\n<p>Até lá.</p>\n<h2>Referências</h2>\n<ul>\n<li><a href=\"https://www.django-rest-framework.org/\">Django REST Framework</a></li>\n</ul>","excerpt":"Confesso que nunca fui muito simpático ao Django REST Framework. Antes de adotá-lo tive a oportunidade de explorar outras opções, como o…","frontmatter":{"date":"2020-02-06T09:40:00.000Z","title":"Eu me rendo: Django REST Framework","tags":["desenvolvimento-web","api","python","django","rest","drf","eu-me-rendo"],"thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAABq0lEQVQ4y+VU207CQBDl/7/FmBB5QRAfNJHwICjGiAi2hN4olrZQrrbHM5tgKFaKiQ8mbjKZ3e3MmTOzMy3gl1fh7wMmSQIRWdv9vmy//YjhIYfdb3nAKYaObcPzPIRhiNlshin1ZrMRlG/Z72eRAjwrlXByeorqxQWKxSLOKxX4BFXGOaluMQqfKVDbmobu3R2iIIBpmtCenuANhwhGI6yXS0wM41N8ZhPyXvZfGMqKmZrRbmNCAOflBavpVJ3fBgMErotRv6/E1XVlYzKY+fioAmYCvq/XMGgQjMcwaCxaJ1vruQOz00Gv0YBDwIiBZHmWpQIoMnGcAUiGw4cH6K2Wcox5P7i/V+xEIt+H7zgYMuiCD/bGVJ1eD/EhwAHBVvM5LDKS6FqzqWoUkq1HPWb6wn69WKizTTsFlAUol+Is0aZsHff1FT7T0sjakj0fwe52FVvxEMbCcs7H2h2KQl6z3pL1Tb2O2uUlqrWa0uVyWbVUnXW9vrpKAx4aO2mlFRlErJlqeLaTSEAZswxRFCFiiVKvvNuY+3N77PymGjvPIDli7DIZ/p8f7AeD2BR/1MQDngAAAABJRU5ErkJggg==","width":180,"height":180,"src":"/static/4ff9b044c4ab9ace735892bea0ab70a1/d8216/django-rest-framework-logo.png","srcSet":"/static/4ff9b044c4ab9ace735892bea0ab70a1/d8216/django-rest-framework-logo.png 1x"}},"publicURL":"/static/4ff9b044c4ab9ace735892bea0ab70a1/django-rest-framework-logo.png"}},"fields":{"readingTime":{"minutes":3.805},"slug":"/2020/02/06/eu-me-rendo-django-rest-framework.html"}},"site":{"siteMetadata":{"author":{"name":"Klaus Peter Laube","gravatar":"https://en.gravatar.com/userimage/12163112/d3ae0c6239980b01ff1f1730b65c2ebe.jpg"},"siteUrl":"https://klauslaube.com.br"}}},"pageContext":{"slug":"/2020/02/06/eu-me-rendo-django-rest-framework.html"}},"staticQueryHashes":["2831923220","4114525740"]}