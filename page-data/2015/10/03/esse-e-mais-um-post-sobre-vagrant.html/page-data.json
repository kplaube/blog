{"componentChunkName":"component---src-templates-blog-post-js","path":"/2015/10/03/esse-e-mais-um-post-sobre-vagrant.html","result":{"data":{"markdownRemark":{"html":"<p>Sim! Esse é mais um <em>post</em> sobre <em>Vagrant</em>, entre tantos outros espalhados pela\n<a href=\"/tag/desenvolvimento-web.html\" title=\"Leia mais sobre Web\"><em>web</em></a>. Sim! Se você já conhece a ferramenta,\nprovavelmente não terá nada de novo para você nesse artigo.</p>\n<p>Já falamos um pouco sobre <a href=\"/tag/virtualizacao.html\" title=\"Leia mais sobre Virtualização\">ambientes virtuais</a>,\ne as vantagens são numerosas. A \"atomicidade\" de poder construir e destruir um\nambiente inteiro, sem acarretar efeitos colaterais ao seu ambiente de trabalho,\ntraz agilidade sem perder segurança e sanidade.</p>\n<p>Sem dúvida o que levou \"virtualização\" de um <em>buzzword</em> para uma necessidade\nreal na vida dos profissionais foi a diminuição do <em>overhead</em> na criação de\nambientes virtuais. Hoje, uma porção de ferramentas é capaz de realizar essa\noperação de maneira muito fácil.</p>\n<p>Entre essas ferramentas está o <em>Vagrant</em>.</p>\n<h2>Quanto mais perto de produção, melhor</h2>\n<p>Por quê? Por que usar <em>Vagrant</em>? Por que adicionar essa complexidade na minha\n<em>stack</em> de desenvolvimento?</p>\n<p>Quem utiliza <a href=\"/2011/03/07/diferentes-ambientes.html\">mais de um ambiente</a>\n(como <em>dev</em>, <em>qa</em>, <em>staging</em>, etc) defende que\neles servem como \"peneiras\" para pegarmos eventuais <em>bugs</em> e problemas de\nintegração de código.</p>\n<p>Você já deve ter se deparado com o famoso problema \"works on my machine\":\nInstalou aquela dependência que resolve a sua vida, mas quando sobe para algum\nambiente ela simplesmente não funciona.</p>\n<p>Ter um ambiente muito próximo de produção disponível para você em tempo de\ndesenvolvimento pode ser uma excelente ideia para economizar tempo, otimizar\nprocessos, e lhe dar segurança para fazer aquela subida de código em plena\nsexta-feira.</p>\n<h2>Vagrant FTW</h2>\n<p>Segundo o <a href=\"https://en.wikipedia.org/wiki/Vagrant_%28software%29\" title=\"Leia sobre Vagrant\"><em>Wikipedia</em></a>:</p>\n<blockquote>\n<p>Vagrant is computer software that creates and configures virtual development environments. It can be seen as a higher-level wrapper around virtualization software such as VirtualBox, VMware, KVM and Linux Containers (LXC), and around configuration management software such as Ansible, Chef, Salt, and Puppet.</p>\n</blockquote>\n<p>É isso mesmo o que você leu! O <em>Vagrant</em> é uma ferramenta que serve como uma\n\"cola\" entre a sua máquina <em>VirtualBox</em> e o seu provisionamento por <em>Puppet</em>.</p>\n<p>Nesse <em>blog</em>, eu uso o <em>Vagrant</em> para simular o meu ambiente de produção da\n<em>Digital Ocean</em>, composto por uma máquina <em>Ubuntu Linux</em> com <a href=\"/tag/nginx.html\" title=\"Leia mais sobre NGINX\"><em>Nginx</em></a>,\nprovisionada através de <em>Salt Stack</em>. O meu <code class=\"language-text\">Vagrantfile</code> ficou <a href=\"https://raw.githubusercontent.com/kplaube/blog/master/Vagrantfile\" title=\"Veja no GitHub\">assim</a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token comment\"># Vagrantfile API/syntax version. Don't touch unless you know what you're doing!</span>\n<span class=\"token constant\">VAGRANTFILE_API_VERSION</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"2\"</span>\n\n<span class=\"token constant\">Vagrant</span><span class=\"token punctuation\">.</span>configure<span class=\"token punctuation\">(</span><span class=\"token constant\">VAGRANTFILE_API_VERSION</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>config<span class=\"token operator\">|</span>\n  config<span class=\"token punctuation\">.</span>vm<span class=\"token punctuation\">.</span>box <span class=\"token operator\">=</span> <span class=\"token string\">\"ubuntu1210-64\"</span>\n  config<span class=\"token punctuation\">.</span>vm<span class=\"token punctuation\">.</span>box_url <span class=\"token operator\">=</span> <span class=\"token string\">\"https://github.com/downloads/roderik/VagrantQuantal64Box/quantal64.box\"</span>\n\n  config<span class=\"token punctuation\">.</span>vm<span class=\"token punctuation\">.</span>network <span class=\"token symbol\">:forwarded_port</span><span class=\"token punctuation\">,</span> guest<span class=\"token punctuation\">:</span> <span class=\"token number\">80</span><span class=\"token punctuation\">,</span> host<span class=\"token punctuation\">:</span> <span class=\"token number\">8080</span>\n  config<span class=\"token punctuation\">.</span>vm<span class=\"token punctuation\">.</span>synced_folder <span class=\"token string\">\"salt/roots/\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/srv/salt/\"</span>\n\n  config<span class=\"token punctuation\">.</span>vm<span class=\"token punctuation\">.</span>provision <span class=\"token symbol\">:salt</span> <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>salt<span class=\"token operator\">|</span>\n\n    salt<span class=\"token punctuation\">.</span>minion_config <span class=\"token operator\">=</span> <span class=\"token string\">\"salt/minion\"</span>\n    salt<span class=\"token punctuation\">.</span>run_highstate <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    salt<span class=\"token punctuation\">.</span>verbose <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<p>Quer entender o que está acontecendo no exemplo acima? A documentação de <a href=\"https://docs.vagrantup.com/v2/getting-started/index.html\" title=\"Leia a documentação do Vagrant\"><em>Getting started</em> do <em>Vagrant</em></a>\né uma excelente dica para começar. Engloba desde a instalação até o provisionamento.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 600px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7010f93865b5b510f43f79b126ff8a6c/b4294/the-vagrant.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgX/xAAWAQEBAQAAAAAAAAAAAAAAAAACAQP/2gAMAwEAAhADEAAAAcqkNLQBc//EABsQAAIBBQAAAAAAAAAAAAAAAAABEQIDEDFB/9oACAEBAAEFArbg4U7bnH//xAAWEQADAAAAAAAAAAAAAAAAAAABEDH/2gAIAQMBAT8BEX//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAABEAARITH/2gAIAQEABj8CO1OIP//EABwQAAICAgMAAAAAAAAAAAAAAAABESEQUTFhof/aAAgBAQABPyHTD9IUMLK7Il7Hyf/aAAwDAQACAAMAAAAQSz//xAAWEQEBAQAAAAAAAAAAAAAAAAAAATH/2gAIAQMBAT8Qkuv/xAAWEQADAAAAAAAAAAAAAAAAAAABEDH/2gAIAQIBAT8QNX//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMVFxgZGh/9oACAEBAAE/EDBajOL0SvsoThu6zLfUIhpFxLNhU+Isu5//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"&quot;Não é desse Vagrant que estamos falando... (deathsdoormatt.com)&quot;\"\n        title=\"Não é desse Vagrant que estamos falando... (deathsdoormatt.com)\"\n        src=\"/static/7010f93865b5b510f43f79b126ff8a6c/b4294/the-vagrant.jpg\"\n        srcset=\"/static/7010f93865b5b510f43f79b126ff8a6c/7809d/the-vagrant.jpg 192w,\n/static/7010f93865b5b510f43f79b126ff8a6c/4ecad/the-vagrant.jpg 384w,\n/static/7010f93865b5b510f43f79b126ff8a6c/b4294/the-vagrant.jpg 600w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Não é desse Vagrant que estamos falando... (deathsdoormatt.com)</figcaption>\n  </figure></p>\n<p>O <a href=\"http://saltstack.com/\" title=\"Conheça o SaltStack\"><em>Salt Stack</em></a> é uma excelente\nferramenta de provisionamento escrita em <a href=\"/tag/python.html\" title=\"Leia mais sobre Python\"><em>Python</em></a>. Vale muito a pena conhecer.</p>\n<h2>Considerações finais</h2>\n<p>Além da vantagem de ter um ambiente próximo de produção disponível para você em\ntempo de desenvolvimento, com o <em>Vagrant</em> temos uma segunda vantagem: Quando um\nnovo integrante fazer parte do seu time, basta ele clonar o projeto e dar\num <code class=\"language-text\">vagrant up</code>. Pronto! O ambiente levanta-se em uma máquina virtual, e é\nprovisionado sem necessidade de intervenção humana.</p>\n<p>Existem toneladas de artigos na <em>Web</em> sobre o <em>Vagrant</em>. O <a href=\"http://simplesideias.com.br/usando-o-vagrant-como-ambiente-de-desenvolvimento-no-windows\" title=\"Leia o artigo no SimplesIdeias\">Usando o Vagrant como ambiente de desenvolvimento no Windows</a>, do <strong>Simples Ideias</strong> e <a href=\"http://flaviosilveira.com/2012/vagrant-facil-e-util/\" title=\"Leia no blog do Flavio\">Vagrant: Fácil E útil</a> do <strong>Flávio Silveira</strong> são duas boas referências para quem está iniciando.</p>\n<p>Nos próximos <em>posts</em> pretendo dar uma pincelada no <em>Salt Stack</em> e <em>Ansible</em>.</p>\n<p>Até a próxima.</p>\n<h2>Referências</h2>\n<ul>\n<li><em><a href=\"http://saltstack.com/\" title=\"Conheça o Salt Stack\">SaltStack - Automation for CloudOps</a></em></li>\n<li><em><a href=\"https://www.vagrantup.com/\" title=\"Conheça o Vagrant\">Vagrant - Development environments made easy</a></em></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Vagrant_%28software%29\" title=\"Leia mais no Wikipedia\"><em>Wikipedia - Vagrant (software)</em></a></li>\n</ul>","excerpt":"Sim! Esse é mais um post sobre Vagrant, entre tantos outros espalhados pela\nweb. Sim! Se você já conhece a ferramenta,\nprovavelmente não…","frontmatter":{"date":"2015-10-03T14:00:00.000Z","title":"Esse é mais um post sobre Vagrant","tags":["infraestrutura","virtualizacao","provisionamento","vagrant"],"thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsSAAALEgHS3X78AAADJUlEQVQ4y31TWU9TQRjtL/DNFzWiSEI0IVFi4qsGXtQXVIKiBDVq9MkNw4NCBDVRWS1aXEGUtQoFRLayBYgtLbbQgpS2tr33tpTeLrf7ejennVKwgpNJZj1zzvd9ZzjsWmNYlmYY9r8tEKEDJJ1YcuBA0TQV9BEOu8fnYzZ7gqIZlgxP6x1inQ0Q0bErHMjWpsCfj2kJu91HWN1OB0OGmA2KWDricRFewobj+DuRoU/ljO4zLIeKgQc1zhOfFp+N6RrFeq3R8n5mBXFGINjsCZcLf5eNGkqHtY/HjUeb1GN6LxuLkQMZgIy89qW91dLdldKb/UiBAJ1CfBA8a/Kk1crSufNptfICAXZv2OwN01BRNGZI3jpv3VMlTauZLRpCz31Rl4yaIPjROLqrQsKd1JaN6M/wDS0Kgl1LbTxhdCwDRYP6HRUzR94qLnQhV3pQi5ckaSa7cSGlUprP/1U8bCrsRg3OMAx4HUzGwFzRyvankp2V0jy+7nwn+l3tdgfJw6/nMl7JT3XocjsM1T+s8RRuLBWUIcLchV/V5ULNsYbFQgH2cGL1zoAOaD5QJ7/ai2U1qcSYn91gB856PaL8bIlQf7t3KbNeXtCFXO5G93NlmTxZPn85vxMpFpqhQ5KZ4zYAaVNYtz0Rp7+YPdmsvtSDpdb8PMtX8SS20x0GwZIL1oX9Fwy1eEJU9kdlSpXkIG/+/ogpp3nheLPmosB4o8+46iUT15LBCfKKaWNmvQIILupTvREZr33DctvVdTO2JNpkMDzT2gMZL+X7amZBkg/VK271Y6VCZG41sCWY+RvPk6yk1kiv92qyGhdy2nStShdQy7DxvmnM0XCil2LnqDN0d0D/YNSoI0Jbfdi4t31hCpQBdPANgGG0jqAjQFr9Ebs/EqZoe4AkAqQrSNr8kUXc7w5RcW/D53BfZMLgmjF62pTWKcQ1jboNzuAHmaVP7ZCYPD0qO5i0KnGZ2StYsrsS4ISGFiXeryE+z+MADyZDWkIQw/QsOxrklkEt0aLAJxGX0uIn6Q0Og1NnkAQdHHjCFOYOQf1AIdwEmr1hCiyDkfXY/wBffRF0zKSKjQAAAABJRU5ErkJggg==","width":180,"height":180,"src":"/static/ca50a9ba318ddbe64794f9a56121ca79/d8216/vagrant-logo.png","srcSet":"/static/ca50a9ba318ddbe64794f9a56121ca79/d8216/vagrant-logo.png 1x"}},"publicURL":"/static/ca50a9ba318ddbe64794f9a56121ca79/vagrant-logo.png"}},"fields":{"readingTime":{"minutes":3.23},"slug":"/2015/10/03/esse-e-mais-um-post-sobre-vagrant.html"}},"site":{"siteMetadata":{"author":{"name":"Klaus Peter Laube","gravatar":"https://en.gravatar.com/userimage/12163112/d3ae0c6239980b01ff1f1730b65c2ebe.jpg"},"siteUrl":"https://klauslaube.com.br"}}},"pageContext":{"slug":"/2015/10/03/esse-e-mais-um-post-sobre-vagrant.html"}}}