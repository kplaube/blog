{"componentChunkName":"component---src-templates-blog-post-js","path":"/2015/10/24/injecao-de-dependencia.html","result":{"data":{"markdownRemark":{"html":"<p>Se você já teve contato com <a href=\"http://laravel.com/\" title=\"PHP framework for web artisans\"><em>Laravel</em></a>\nou <a href=\"https://angularjs.org/\" title=\"HTML enhanced for web apps\"><em>AngularJS</em></a>, sabe muito bem que\num dos maiores motivos de orgulho desses (e de tantos outros) <em>frameworks</em>\né a \"Injeção de Dependência\", ou do inglês, <em>Dependency Injection</em>.\nImagine-se em uma reunião, o seu <em>Product Owner</em> pede soluções para problemas\ncomplexos, e você manda logo um \"precisamos usar injeções de dependências\"...\nÉ aumento salarial na hora!</p>\n<p>Brincadeiras à parte, estou fazendo um curso de\n<a href=\"https://www.udemy.com/learn-angularjs/\" title=\"Aprenda AngularJS\"><em>AngularJS</em> no <em>Udemy</em></a>,\ne toda vez que o professor se depara com uma palavra \"pomposa\", ele para a\naula para fazer um \"big word alert\".</p>\n<p>Resolvi copiar essa ideia e mostrar como esse conceito na verdade é relativamente simples.</p>\n<h2>Dependency Injection é um Design Pattern</h2>\n<p>Assim como <a href=\"/2011/05/29/afinal-o-que-sao-closures.html\" title=\"Leia mais sobre Closures\"><em>Closures</em></a>\ne <a href=\"/2011/08/02/decorators-em-python.html\" title=\"Leia mais sobre Decorators\"><em>Decorators</em></a>,\no nome pode até causar certo calafrio... <em>Don't panic</em>! Segundo a documentação da <em>AngularJS</em>:</p>\n<blockquote>\n<p>Dependency Injection (DI) is a software design pattern that deals with how components\nget hold of their dependencies.</p>\n</blockquote>\n<p>Ou seja, ao invés de permitir que o seu componente de <em>software</em> manuseie dependências,\nvocê explicitamente passará as dependências que ele necessita.</p>\n<p>No <em>Stackoverflow</em> temos o\n<a href=\"http://stackoverflow.com/questions/130794/what-is-dependency-injection\" title=\"What&#x27;s dependency injection?\">melhor exemplo da face da terra</a>\npara ilustrar uma injeção de dependência. Abaixo um código sem o <em>DI</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">SomeClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    myObject <span class=\"token operator\">=</span> <span class=\"token class-name\">Factory</span><span class=\"token punctuation\">.</span><span class=\"token function\">getObject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Agora, com <em>DI</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">SomeClass</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MyClass</span> myObject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>myObject <span class=\"token operator\">=</span> myObject<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Simples, não?! As dependências do seu componente ficam explícitas, fáceis de gerenciar, e\nseu código fica mais fácil de manter.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5bbe84ebf276f7accfae7f1fe6271c2e/b4294/dependency-injection-hulk.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.729166666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFA//EABUBAQEAAAAAAAAAAAAAAAAAAAIA/9oADAMBAAIQAxAAAAFYX2FVIYx//8QAGBAAAwEBAAAAAAAAAAAAAAAAAgMxMgD/2gAIAQEAAQUC5mkOAFwSyd//xAAXEQEAAwAAAAAAAAAAAAAAAAABAhAR/9oACAEDAQE/ASOFf//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/Aar/xAAWEAEBAQAAAAAAAAAAAAAAAAAQEQL/2gAIAQEABj8CJq0yf//EABwQAQACAgMBAAAAAAAAAAAAAAEAESFBMVFxwf/aAAgBAQABPyGqzq4BVemIDqbFReDr7Hn3USCl47n/2gAMAwEAAgADAAAAEBTf/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/ENhI/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAh/9oACAECAQE/EHRH/8QAGhABAAIDAQAAAAAAAAAAAAAAAQARITFBsf/aAAgBAQABPxAIFoL7UaVdKZ1cN8KoaRAHRd8eRM7Kq9cQeMVaFP/Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"&quot;Injenções podem te dar super poderes... Ou não. (hanhchampion.blogspot.com.br)&quot;\"\n        title=\"Injenções podem te dar super poderes... Ou não. (hanhchampion.blogspot.com.br)\"\n        src=\"/static/5bbe84ebf276f7accfae7f1fe6271c2e/b4294/dependency-injection-hulk.jpg\"\n        srcset=\"/static/5bbe84ebf276f7accfae7f1fe6271c2e/7809d/dependency-injection-hulk.jpg 192w,\n/static/5bbe84ebf276f7accfae7f1fe6271c2e/4ecad/dependency-injection-hulk.jpg 384w,\n/static/5bbe84ebf276f7accfae7f1fe6271c2e/b4294/dependency-injection-hulk.jpg 600w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Injenções podem te dar super poderes... Ou não. (hanhchampion.blogspot.com.br)</figcaption>\n  </figure></p>\n<p>A <em>Angular</em> utiliza esse conceito para que seja possível passar para o seu <em>controller</em>,\numa série de <em>services</em> necessários para a resolução de um problema:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> myApp <span class=\"token operator\">=</span> angular<span class=\"token punctuation\">.</span><span class=\"token function\">module</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"myApp\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmyApp<span class=\"token punctuation\">.</span><span class=\"token function\">controller</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"mainController\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token string\">\"$scope\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"$log\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">$scope<span class=\"token punctuation\">,</span> $log</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    $scope<span class=\"token punctuation\">.</span>foo <span class=\"token operator\">=</span> <span class=\"token string\">\"bar\"</span><span class=\"token punctuation\">;</span>\n    $log<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>$scope<span class=\"token punctuation\">.</span>foo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Imagine o trabalhão que seria em todo <em>controller</em> ter que instanciar o\nserviço de <code class=\"language-text\">$scope</code> ou de <code class=\"language-text\">$log</code>?</p>\n<h2>Considerações finais</h2>\n<p><strong>Testar um código</strong> que utiliza <em>Dependency Injection</em> é <strong>muito mais fácil</strong>, pois\n<a href=\"/2015/06/29/os-testes-e-os-dubles-parte-2.html\" title=\"Os testes e os dublês - Parte 2\"><em>mockar</em></a>\nas dependências e garantir o comportamente esperado pode ser feito com muito menos linhas de código.</p>\n<p>Além disso, se o contrato de uma dependência mudar, com essa prática fica mais fácil de\nalterar o seu código, fazendo com que a integração entre componentes seja mais <em>smooth</em>.</p>\n<p>Se você ainda duvida desse <em>design pattern</em>, fica a constatação: É fácil\nassegurar que a <em>AngularJS</em> não seria o <em>framework</em> que é hoje, sem o uso dessa prática.</p>\n<p>Até a próxima.</p>\n<h2>Referências</h2>\n<ul>\n<li><em><a href=\"https://docs.angularjs.org/guide/di\" title=\"Leia mais na documentação da Angular\">AngularJS Developer Guide - Dependency Injection</a></em></li>\n<li><em><a href=\"http://stackoverflow.com/questions/130794/what-is-dependency-injection\" title=\"Leia mais no Stackoverflow\">Stackoverflow - What's dependency injection</a></em></li>\n</ul>","excerpt":"Se você já teve contato com Laravel\nou AngularJS, sabe muito bem que\num dos maiores motivos de orgulho desses (e de tantos outros…","frontmatter":{"date":"2015-10-24T16:30:00.000Z","title":"Injeção de Dependência","tags":["desenvolvimento-web","design-patterns","dependency injection","angularjs"],"thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADK0lEQVQ4y4WU22sTWRzH+x/4IIgP3nqxtvai2yb1srWCUsGKtwdrpRa1ylIfdoUFWURQURHFC/qgKAsLgjdEtm2Sycyo1ajRLrtWcdWVrm1i06RJa6qJ0dbaJh/PjE3INE39wYGZk8znfH+X881gnIjFYmlX8u/jRcZEkGg0Skys5P/oe2kO0oFjT05AkgSERoYJDX1OySIOTxZkUJgcHwXRFfDT1nIH577D2A8ewdnSQofXS2T4ixH+DZCqcGh4GE9/kCcPH9F64gxPNm7DlVuGp/Yn1BVrsRaYad60FfvxU7Q6HLh7ehgYHNRhCYX6w2id2hz3+GtLA6/Ny/FlmwhklRLIMeFztiKfOI0yLQ81uxhZLJupgj8313NPVhIKU4Avbt6mK8dMb+4CvMUVdGeW0Fu3k94PYSSrFXt5JcqcEpTCMtSc+Ui5P+C02b+lPVpPA7D9+XP+Ny3Hn7cQb1E53TPm8f6Wg4DDie3C79j2HUSZWYCsAQXMunAZbY8fG5sS75YWbzweXlasIjBHAEXKPVU1RD4P4qmux766GovNhmxeqqvUFDZXruG/9najwviLFv5gkH/X1RIQjeieUUzw0nXCnW7cCypRRc2sV68h/fobyqxCAZxH04bNuH0+/duoIeXRLgcHPvFsx8/4pxXhq1hNyB8gIvYCXR6kpiYskqRD5dIlqNPzsTT8gj8cSgATN0UHihURz0/3HKBnUiZ9p84R7u+nb/suuuoaUNbVYF9fg7WxEWnnLpQpWUiipu9ESVIGWweKE4Y04KFj+PMXE45ECF65gXfybFxZJfq4KFNzkPbux2qxIOeVoop5/BSLGi6GAaht/XPxMp3lVbzfLZQuXYMvfxEu0XG1oAw534QimiLX7aB5WRXqpSuMJM2gAZioYyjE343NtK2qxpNdSp+YS1fhj6hzzaiZRUhCmaW2ngdioPtEScZ+nzH2wsfvpjv4lkd/XOTFyg24BViZPV/v6t3rN+h+1086D0hRGE9fC81fXnV2cP/oSW6dPU+HGJGRMXaXVuF4NhZ3kLBwl4G4L6axrRSDnRA8GhOB0gL5TkoT2b8WXwHXxmcPRDP2YwAAAABJRU5ErkJggg==","width":180,"height":180,"src":"/static/b5037966fc0692a0f8aa56448e373758/d8216/angular-logo.png","srcSet":"/static/b5037966fc0692a0f8aa56448e373758/d8216/angular-logo.png 1x"}},"publicURL":"/static/b5037966fc0692a0f8aa56448e373758/angular-logo.png"}},"fields":{"readingTime":{"minutes":2.36},"slug":"/2015/10/24/injecao-de-dependencia.html"}},"site":{"siteMetadata":{"author":{"name":"Klaus Peter Laube","gravatar":"https://en.gravatar.com/userimage/12163112/d3ae0c6239980b01ff1f1730b65c2ebe.jpg"},"siteUrl":"https://klauslaube.com.br"}}},"pageContext":{"slug":"/2015/10/24/injecao-de-dependencia.html"}},"staticQueryHashes":["2831923220","4114525740"]}