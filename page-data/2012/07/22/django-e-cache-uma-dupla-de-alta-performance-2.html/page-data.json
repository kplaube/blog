{"componentChunkName":"component---src-templates-blog-post-js","path":"/2012/07/22/django-e-cache-uma-dupla-de-alta-performance-2.html","result":{"data":{"markdownRemark":{"html":"<p>Continuando o <em>post</em> <a href=\"/2012/06/17/django-e-cache-uma-dupla-de-alta-performance-1.html\" title=\"Leia a parte 1 deste artigo\"><em>Django</em> e <em>Cache</em>: Uma dupla de alta performance</a>, vamos\nver na prática como utilizar o <em>framework</em> de <a href=\"/tag/cache.html\" title=\"Leia mais sobre Cache\"><em>cache</em></a> do <a href=\"/tag/django.html\" title=\"Leia mais sobre Django\"><em>Django</em></a>.</p>\n<p>Embora eu esteja utilizando o <a href=\"/tag/memcached.html\" title=\"Leia mais sobre Memcached\"><em>Memcached</em></a> para escrever estes\nartigos, vale ressaltar que a abstração do <em>Django</em> lhe permite utilizar\na <a href=\"https://docs.djangoproject.com/en/dev/topics/cache/#using-a-custom-cache-backend\" title=\"Django Documentation - Custom backends\">ferramenta mais apropriada para você</a>.</p>\n<h2>Diferentes maneiras de “cachear” a aplicação</h2>\n<p>Podemos utilizar a camada de <em>cache</em> em diferentes pontos da aplicação.\nPor exemplo, podemos utilizá-la antes de uma consulta ao banco de dados,\narmazenar resultados de operações complexas, armazenar o <em>parsing</em> de um\n<em>template</em>, etc. Com o esquema de <em>middlewares</em> do <em>Django</em>, podemos ter\nessa camada aplicada diretamente ao fluxo de interpretação do\n<em>framework</em>, o que pode reduzir consideravelmente o uso de recursos de\nnossa hospedagem, sem mesmo termos alterado código das nossas <em>apps</em>.</p>\n<p>Vamos ver a diferença, e casos de usos, dessas formas de utilização do\n<em>cache</em>.</p>\n<h3>Granular</h3>\n<p>Quando você quer ser “incisivo”, utilizar a <em>API</em> de forma “granular” é\numa ótima opção.</p>\n<p>Por exemplo, no <a href=\"http://globoesporte.globo.com\" title=\"A melhor cobertura sobre o Futebol e Outros Esportes, no Brasil e no Mundo\"><em>Globoesporte.com</em></a> nós fazemos algumas consultas a\num <a href=\"http://virtuoso.openlinksw.com/\" title=\"Conheça o Virtuoso\">banco de dados semântico</a> para trazer informações de eventos,\njogos e atletas. Como esta consulta é consideravelmente demorada,\nutilizamos a <em>API</em> de <em>cache</em> para melhorar os tempos de resposta.\nExemplo:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span>cache <span class=\"token keyword\">import</span> cache\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">jogos_por_edicao</span><span class=\"token punctuation\">(</span>edicao_slug<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    jogos <span class=\"token operator\">=</span> cache<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'jogos_%s'</span> <span class=\"token operator\">%</span> edicao_slug<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> jogos<span class=\"token punctuation\">:</span>\n        jogos <span class=\"token operator\">=</span> pega_jogos_da_semantica<span class=\"token punctuation\">(</span>edicao_slug<span class=\"token punctuation\">)</span>\n        cache<span class=\"token punctuation\">.</span><span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'jogos_%s'</span> <span class=\"token operator\">%</span> edicao_slug<span class=\"token punctuation\">,</span> jogos<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<p>Passamos ao <code class=\"language-text\">cache.set</code> uma chave (que deve ser menor que 250\ncaracteres, e não utilizar caracteres especiais) e um valor. Ele também\naceita um terceiro parâmetro, que é o tempo de vida desta informação em\n<em>cache</em>. Quando omitido, o tempo definido nas configurações do <em>backend</em>\né utilizado.</p>\n<p>Para remover esta informação do <em>cache</em>, basta utilizarmos o método\n<code class=\"language-text\">cache.delete</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">cache<span class=\"token punctuation\">.</span>delete<span class=\"token punctuation\">(</span><span class=\"token string\">'jogos_%s'</span> <span class=\"token operator\">%</span> edicao_slug<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Você tem a liberdade de fazer <em>caching</em> de qualquer região da sua\naplicação. Mas é bom tomarmos cuidado para que o gerenciamento desses\npontos não passem a ser um problema. O <em>framework</em> de <em>cache</em> pode ser\naplicado em outras camadas da abstração, dispensando (em muitos casos) a\nnecessidade desse tipo de controle em modelos e <em>views</em>.</p>\n<h3>Template</h3>\n<p>Assim como é possível fazer <em>caching</em> de forma minuciosa com a <em>API</em>\nacima, é possível fazer um controle muito interessante de <em>cache</em> com os\n<em>templates</em> do <em>Django</em>.</p>\n<h4>Prevenindo acesso a disco</h4>\n<p>A cada nova requisição, o <em>Django</em> carrega o arquivo de <em>template</em> do\ndisco, interpreta-o com o contexto, e retorna o seu resultado. Podemos\nmelhorar um pouquinho este fluxo, sem necessitar do <em>Memcached</em>, basta\nadicionarmos o <code class=\"language-text\">django.template.loaders.cached.Loader</code> ao\n<code class=\"language-text\">TEMPLATE_LOADERS</code> do <code class=\"language-text\">settings.py</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">TEMPLATE_LOADERS <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">(</span><span class=\"token string\">'django.template.loaders.cached.Loader'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token string\">'django.template.loaders.filesystem.Loader'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'django.template.loaders.app_directories.Loader'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Esse <em>loader</em> manterá o arquivo de <em>template</em> em memória, evitando com\nque o <em>Django</em> tenha que recorrer ao disco para obter o seu conteúdo. O\n“trade-off” é mais utilização da memória do seu servidor (que,\ndependendo do cenário, nem é um problema tão grande assim) e a\nnecessidade de, quando houver atualizações em <em>templates</em>, efetuar o\n<em>restart</em> do serviço de <em>WSGI</em> que você utiliza.</p>\n<p>Outro ponto a se observar é que as <em>template tags</em> que você utilizar\ndeverão ser <a href=\"https://docs.djangoproject.com/en/dev/howto/custom-template-tags/#template-tag-thread-safety\" title=\"Leia mais na documentação do Django\"><em>thread-safe</em></a>.</p>\n<h4>Prevenindo parsing desnecessário</h4>\n<p>O <em>framework</em> de <em>cache</em> permite “cachear” fragmentos de um <em>template</em>.\nEssa modalidade de <em>cache</em> é bem interessante quando utilizamos filtros\nou <em>tags</em> que executam operações que aumentam consideravelmente o tempo\nde interpretação do <em>template</em>.</p>\n<p>Na <a href=\"https://docs.djangoproject.com/en/1.4/topics/cache/#template-fragment-caching\" title=\"Template fragment caching\">documentação</a> há um exemplo bem interessante, onde é feito o\n<em>cache</em> de um <em>sidebar</em> inteiro:</p>\n<div class=\"gatsby-highlight\" data-language=\"django-html\"><pre class=\"language-django-html\"><code class=\"language-django-html\">{% load cache %}\n\n{% cache 500 sidebar %}\n    &lt;!-- conteúdo do sidebar --&gt;\n{% endcache %}</code></pre></div>\n<p>Passamos para a <em>template tag</em> <code class=\"language-text\">cache</code> o tempo de vida do conteúdo\n(500 segundos), e o identificador deste conteúdo (<code class=\"language-text\">sidebar</code>). Se a\nchave não existir, o <em>Django</em> interpretará as instruções dentro do bloco\ne armazenará o seu resultado no <em>Memcached</em> para que, num próximo\nacesso, esse resultado seja recuperado sem necessitar interpretar todo o\nbloco novamente.</p>\n<h3>Views</h3>\n<p>Uma das maneiras mais práticas de utilizarmos o <em>cache</em> em nossos\n<em>websites</em> e aplicações <em>Web</em> escritos em <em>Django</em>, é através do método\nchamado <a href=\"https://docs.djangoproject.com/en/1.4/topics/cache/#the-per-site-cache\" title=\"Leia mais sobre na documentação do Django\"><em>per-site cache</em></a>.</p>\n<p>Basicamente, o <em>Django</em> analisará requisições realizadas através dos\nmétodos <code class=\"language-text\">GET</code> e <code class=\"language-text\">HEAD</code>, e utilizará a sua <em>URL</em> como chave para a\nverificação em <em>cache</em>. Caso ele encontre a ocorrência, retornará ao\nusuário o resultado “cacheado”, senão, interpretará a <em>view</em> e ao final\narmazenará o seu resultado.</p>\n<p>Para que isso seja possível, é necessário a utilização dos <em>middlewares</em>\n<code class=\"language-text\">django.middleware.cache.UpdateCacheMiddleware</code> e\n<code class=\"language-text\">django.middleware.cache.FetchFromCacheMiddleware</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">MIDDLEWARE_CLASSES <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'django.middleware.cache.UpdateCacheMiddleware'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token string\">'django.middleware.cache.FetchFromCacheMiddleware'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Além da configuração das seguintes constantes:</p>\n<ul>\n<li><code class=\"language-text\">CACHE_MIDDLEWARE_ALIAS</code> : O identificador da conexão (padrão\n<code class=\"language-text\">default</code>)</li>\n<li><code class=\"language-text\">CACHE_MIDDLEWARE_SECONDS</code> : O tempo de vida (em segundos) das\npáginas em <em>cache</em> (padrão <code class=\"language-text\">600 segundos</code>)</li>\n<li><code class=\"language-text\">CACHE_MIDDLEWARE_KEY_PREFIX</code> : Chave para prevenir problemas\nquando o <em>cache</em> é um serviço compartilhado entre diferentes\ninstâncias <em>Django</em>. Pode-se, por exemplo, colocar o nome do <em>site</em>\ncomo prefixo.</li>\n</ul>\n<p>Ao acessar as <em>views</em>, temos uma agradável surpresa:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ curl -I http://localhost:8000/\n\nHTTP/1.0 200 OK\nDate: Wed, 04 Jul 2012 00:12:17 GMT\nServer: WSGIServer/0.1 Python/2.7.2\nCache-Control: max-age=600\nVary: Cookie\nExpires: Wed, 04 Jul 2012 00:22:17 GMT\nContent-Type: text/html; charset=utf-8\nLast-Modified: Wed, 04 Jul 2012 00:12:17 GMT</code></pre></div>\n<p>Ganhamos <a href=\"/2012/05/14/o-cache-e-o-http.html\" title=\"O cache e o HTTP\">cabeçalhos <em>HTTP</em></a> com os valores correspondentes às nossas\nconfigurações de <em>cache</em>! Por exemplo, <code class=\"language-text\">Last-Modified</code> corresponde a\ndata de acesso, <code class=\"language-text\">Expires</code> é a data de acesso acrescentando os 600\nsegundos de <em>cache</em>, e o <code class=\"language-text\">Expires</code> corresponde ao tempo de\n<code class=\"language-text\">CACHE_MIDDLEWARE_SECONDS</code>.</p>\n<p>Interessante não? Temos um controle de <em>cache</em> na “borda” da nossa\naplicação… não precisamos interferir nas nossas <em>views</em>, modelos ou\nconsultas.</p>\n<h4>O método per-view</h4>\n<p>É natural que certas <em>views</em> necessitem de um tempo de <em>cache</em> diferente\nde outras. Para tanto, podemos utilizar <em>decorators</em> que “sobrescrevem”\nas configurações utilizadas pelo <em>per-site</em>, permitindo assim um\ncontrole mais granular sobre o tempo de <em>cache</em> das <em>views</em>. Exemplo:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>views<span class=\"token punctuation\">.</span>generic<span class=\"token punctuation\">.</span>simple <span class=\"token keyword\">import</span> direct_to_template\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>views<span class=\"token punctuation\">.</span>decorators<span class=\"token punctuation\">.</span>cache <span class=\"token keyword\">import</span> cache_page\n\nurlpatterns <span class=\"token operator\">=</span> patterns<span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    url<span class=\"token punctuation\">(</span><span class=\"token string\">r'^outra-view/$'</span><span class=\"token punctuation\">,</span> cache_page<span class=\"token punctuation\">(</span><span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>direct_to_template<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span><span class=\"token string\">'template'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'outra-view.html'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">=</span><span class=\"token string\">'outra-view'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>No exemplo acima estou usando a <em>generic view</em> <code class=\"language-text\">direct_to_template</code>\npara ilustrar. Através do <em>decorator</em> <code class=\"language-text\">cache_page</code> eu informo o tempo\nde vida desta <em>view</em> em <em>cache</em> (2 minutos, 60 * 2 para ficar mais\nlegível).</p>\n<p>E quando acessamos esta <em>view</em>, é possível reparar que inclusive os\nvalores dos cabeçalhos <em>HTTP</em> são outros:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ curl -I http://localhost:8000/outra-view/\n\nHTTP/1.0 200 OK\nDate: Wed, 04 Jul 2012 00:28:07 GMT\nServer: WSGIServer/0.1 Python/2.7.2\nLast-Modified: Wed, 04 Jul 2012 00:28:07 GMT\nExpires: Wed, 04 Jul 2012 00:30:07 GMT\nContent-Type: text/html; charset=utf-8\nVary: Cookie\nCache-Control: max-age=120</code></pre></div>\n<p>Ainda é possível passar como parâmetro para o <code class=\"language-text\">cache_page</code>, o\n<code class=\"language-text\">cache</code> que você deseja utilizar (por padrão <code class=\"language-text\">default</code>), e um\n<code class=\"language-text\">key_prefix</code>.</p>\n<h2>Caching de queries com o Johnny Cache</h2>\n<p>É normal que algumas rotas da sua aplicação não possam fazer utilização\ndesse tipo de <em>cache</em>. Por exemplo, <em>views</em> para usuários autenticados,\nque necessitam transitar informações de sessão e <em>cookies</em>, ou até mesmo\n<em>views</em> que precisam receber informações através de <code class=\"language-text\">POST</code>.</p>\n<p>Vamos imaginar que, dentro desse cenário, a sua <em>app</em> faça uma consulta\n“custosa” ao banco de dados. Logo, concluímos que adicionar um controle\nde <em>cache</em> a esta consulta seria extremamente interessante para a\nvelocidade de resposta da <em>view</em>. A primeira opção é utilizar o\n<em>framework</em> de <em>cache</em> do <em>Django</em> de forma granular, através de sua\n<em>API</em>. A outra opção é fazer <em>caching</em> “dentro” do <em>ORM</em>.</p>\n<p>É apoiado nessa última proposta que o <a href=\"http://packages.python.org/johnny-cache/\" title=\"Conheça a ferramenta de caching, Johnny Cache\"><em>Johnny Cache</em></a> se baseia:\n“cachear” dados transitados através do <em>ORM</em> do <em>Django</em>, não\ninterferindo no código das <em>apps</em>.</p>\n<p>O <em>Johnny Cache</em> está no <a href=\"http://pypi.python.org/pypi\" title=\"the Python Package Index\"><em>PyPi</em></a>, então basta um <code class=\"language-text\">pip install johnny-cache</code> para realizarmos a instalação. Para configurar,\nprecisamos adicionar algumas informações ao <code class=\"language-text\">settings.py</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">MIDDLEWARE_CLASSES <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'johnny.middleware.LocalStoreClearMiddleware'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'johnny.middleware.QueryCacheMiddleware'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">)</span>\n\nCACHES <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">'default'</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'BACKEND'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'johnny.backends.memcached.MemcachedCache'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'LOCATION'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'127.0.0.1:11211'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'JOHNNY_CACHE'</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Onde:</p>\n<ul>\n<li><code class=\"language-text\">johnny.middleware.LocalStoreClearMiddleware:</code> O <em>Johnny</em> utiliza\neste <em>middleware</em> para gerenciar o <em>cache</em> de uma <a href=\"https://github.com/jmoiron/johnny-cache/blob/master/johnny/transaction.py\" title=\"Veja o uso dessa modalidade no módulo transaction.py\">maneira \"thread-safe\"</a>.\nEle basicamente limpa este objeto ao final de cada\nrequisição.</li>\n<li><code class=\"language-text\">johnny.middleware.QueryCacheMiddleware:</code> É o <em>middleware</em>\nresponsável pela “mágica” de <em>caching</em> no <em>ORM</em>.</li>\n</ul>\n<p>O <em>backend</em> <code class=\"language-text\">johnny.backends.memcached.MemcachedCache</code> é basicamente\numa <a href=\"https://github.com/jmoiron/johnny-cache/blob/master/johnny/backends/memcached.py\" title=\"Veja o código-fonte\">subclasse do <em>backend built-in</em> do <em>Django</em> para o <em>Memcached</em></a>,\ncom a adição do seguinte comportamento: Se o <em>timeout</em> for setado como 0\n(zero), o <em>cache</em> fica “infinito”.</p>\n<p>Com a opção <code class=\"language-text\">JOHNNY_CACHE</code> como <code class=\"language-text\">True</code>, estamos informando ao\n<em>Johnny</em> que este é o <em>pool</em> de <em>cache</em> que ele deve usar para <em>caching</em>\ndas <em>queries</em>. É possível ter uma configuração diferenciada, como\nencontrada no <a href=\"https://github.com/nelas/cifonauta/blob/master/dummy_settings_server.py#L33\" title=\"Veja o código-fonte do projeto no GitHub\">projeto Cifonauta</a>.</p>\n<p>Com a ajuda do <a href=\"http://pypi.python.org/pypi/django-debug-toolbar/\" title=\"Excelente lib para debugging de projetos Django\">django-debug-toolbar</a>, podemos ver o número de\n<em>queries</em> diminuírem consideravelmente (fatalmente ocasionando um tempo\nde resposta menor). Quando um registro for adicionado, editado ou\nremovido, o <em>Johnny Cache</em> remove as <em>queries</em> envolvendo determinada\ntabela do <em>cache</em>, permitindo assim uma nova “batida” no banco de dados\n(e um novo armazenamento dos resultados).</p>\n<h2>Considerações finais</h2>\n<p>Como <a href=\"/2011/12/19/nginx-poderoso-rapido-facil.html\" title=\"Nginx: Poderoso, rápido e fácil\">já mencionei</a>, gosto muito dos ensinamentos e experiências\ncompartilhadas pelo pessoal da <a href=\"http://37signals.com/\" title=\"Making collaboration productive and enjoyable for people every day\"><em>37Signals</em></a>. Um deles é para nos\npreocuparmos com performance quando isto for realmente um problema.</p>\n<p>Logo, (<em>IMO</em>) não construa uma mega\n<a href=\"/tag/infraestrutura.html\" title=\"Leia mais sobre infra\">infraestrutura</a> para uma aplicação que atende 50 usuários por dia.\nVocê está desperdiçando o seu tempo e linhas de código. Em\ncontrapartida, qualquer esforço para melhorar a experiência do usuário,\ne para economizar recursos, <strong>é sempre bem-vinda</strong>.</p>\n<p>Vale sempre ressaltar que problemas de performance podem estar\nrelacionados a qualidade do código produzido, e não necessariamente com\no consumo da aplicação. Então, se a demanda está baixa e mesmo assim\nvocê tem tempos de resposta absurdamente altos, talvez seja a hora de\n“refatorar” o seu código.</p>\n<h2>Referências</h2>\n<ul>\n<li><a href=\"https://docs.djangoproject.com/en/1.4/topics/cache/\" title=\"Leia tudo sobre o framework de cache do Django\"><em>Django Documentation – Cache Framework</em></a></li>\n<li><a href=\"https://docs.djangoproject.com/en/dev/ref/templates/api/#loader-types\" title=\"Mais informações sobre os template loaders do Django\"><em>Django Documentation – The Django template language: Loader types</em></a></li>\n<li><a href=\"http://packages.python.org/johnny-cache/\" title=\"Mais informações sobre o uso do Johnny Cache\"><em>Johnny Cache Documentation</em></a></li>\n<li><a href=\"http://www.jongales.com/blog/2012/02/16/make-django-keep-templates-in-memory/\" title=\"Leia mais sobre o cached.Loader\"><em>Jongales.com – Make Django keep templates in memory</em></a></li>\n</ul>","excerpt":"Continuando o post Django e Cache: Uma dupla de alta performance, vamos\nver na prática como utilizar o framework de cache do Django. Embora…","frontmatter":{"date":"2012-07-22T14:33:58.000Z","title":"Django e Cache: Uma dupla de alta performance - Parte 2","tags":["desenvolvimento-web","python","django","memcached","johnny-cache","cache"],"thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAIFAQT/xAAXAQADAQAAAAAAAAAAAAAAAAAAAgMB/9oADAMBAAIQAxAAAAHajxWstFBqOgWDf//EABwQAQABBAMAAAAAAAAAAAAAAAECAAMREhATI//aAAgBAQABBQKVwi9xQ5Lj7OpUDEWEV0jx/8QAFhEBAQEAAAAAAAAAAAAAAAAAEBES/9oACAEDAQE/AdEP/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHBAAAgICAwAAAAAAAAAAAAAAAAERIQIxEBIi/9oACAEBAAY/AoNMkZlvyUT1UjpXx//EABsQAQACAwEBAAAAAAAAAAAAAAEAIRExYVEQ/9oACAEBAAE/IdgLz4BENMrew6lQ73CG2G7mWk9YilvZ2BgwT//aAAwDAQACAAMAAAAQHNBA/8QAGhEAAgIDAAAAAAAAAAAAAAAAAREAECExUf/aAAgBAwEBPxAmyoNZicr/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPxCkP//EAB0QAQACAgIDAAAAAAAAAAAAAAEAESExQWFRsdH/2gAIAQEAAT8QugBvwmUHN2fYtNwc6P0SnKLuO3Gsbh6lg8i8xY8Nqyi6VQLmhq4AAAFAcT//2Q==","width":180,"height":180,"src":"/static/743fcaaa4ca09591cca73743e1f2f2b2/a8ad2/memcached-logo.jpg","srcSet":"/static/743fcaaa4ca09591cca73743e1f2f2b2/a8ad2/memcached-logo.jpg 1x"}},"publicURL":"/static/743fcaaa4ca09591cca73743e1f2f2b2/memcached-logo.jpg"}},"fields":{"readingTime":{"minutes":9.12},"slug":"/2012/07/22/django-e-cache-uma-dupla-de-alta-performance-2.html"}},"site":{"siteMetadata":{"author":{"name":"Klaus Peter Laube","gravatar":"https://en.gravatar.com/userimage/12163112/d3ae0c6239980b01ff1f1730b65c2ebe.jpg"},"siteUrl":"https://klauslaube.com.br"}}},"pageContext":{"slug":"/2012/07/22/django-e-cache-uma-dupla-de-alta-performance-2.html"}}}