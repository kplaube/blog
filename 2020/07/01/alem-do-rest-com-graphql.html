<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.d58a854661ffccf3756e.css">code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 2.23.14"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><style data-styled="" data-styled-version="5.1.0">.dQgIel{display:inline-block;vertical-align:middle;overflow:hidden;}/*!sc*/
data-styled.g1[id="sc-AxjAm"]{content:"dQgIel,"}/*!sc*/
.bfwjqj{margin:0 auto;max-width:640px;padding:0 24px;}/*!sc*/
data-styled.g2[id="container-sc-1o2is99-0"]{content:"bfwjqj,"}/*!sc*/
.iyjQQp{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#c4170c;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-family:Arial,Helvetica,sans-serif;height:36px;width:36px;}/*!sc*/
data-styled.g3[id="page-header-brand__Brand-ofbkek-0"]{content:"iyjQQp,"}/*!sc*/
.hPHtvI{display:none;}/*!sc*/
@media (min-width:768px){.hPHtvI{display:block;}}/*!sc*/
data-styled.g4[id="page-header-brand__BrandFragment-ofbkek-1"]{content:"hPHtvI,"}/*!sc*/
.exgtKg{color:#333;display:inline-block;margin-left:4px;}/*!sc*/
.exgtKg:first-child{margin-left:0;margin-right:4px;}/*!sc*/
data-styled.g5[id="page-header-brand__Bracket-ofbkek-2"]{content:"exgtKg,"}/*!sc*/
.fUa-dQJ{color:#333;width:22px;}/*!sc*/
data-styled.g6[id="page-header__GreyMail-sc-1ef23a-0"]{content:"fUa-dQJ,"}/*!sc*/
.GBaPr{box-shadow:0 -8px 16px 0 rgba(0,0,0,0.54);font-size:1.1rem;margin-bottom:24px;}/*!sc*/
@media (min-width:768px){.GBaPr{margin-bottom:64px;}}/*!sc*/
data-styled.g7[id="page-header__Header-sc-1ef23a-1"]{content:"GBaPr,"}/*!sc*/
.ktLFvT{margin:0 auto;max-width:640px;padding:0 24px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:56px;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;max-width:974px;}/*!sc*/
data-styled.g8[id="page-header__HeaderContainer-sc-1ef23a-2"]{content:"ktLFvT,"}/*!sc*/
.gbnbN{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g9[id="page-header__StyledLink-sc-1ef23a-3"]{content:"gbnbN,"}/*!sc*/
.hJnaIf{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g10[id="page-header__StyledA-sc-1ef23a-4"]{content:"hJnaIf,"}/*!sc*/
.eZHcyp{border-top:1px solid #f4f4f4;color:rgba(0,0,0,0.54);font-size:14px;padding:24px 0;text-align:center;}/*!sc*/
@media (min-width:768px){.eZHcyp{text-align:right;}}/*!sc*/
data-styled.g11[id="page-footer__Footer-sc-1jesc4c-0"]{content:"eZHcyp,"}/*!sc*/
.hCZhVV{color:rgba(0,0,0,0.84);-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.hCZhVV:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
data-styled.g12[id="page-footer__Link-sc-1jesc4c-1"]{content:"hCZhVV,"}/*!sc*/
.dLmtYS{color:rgba(0,0,0,0.84);height:24px;width:24px;}/*!sc*/
data-styled.g35[id="article-share__FacebookStyled-sc-1s9obkn-0"]{content:"dLmtYS,"}/*!sc*/
.cXEKcd{color:rgba(0,0,0,0.84);height:24px;width:24px;}/*!sc*/
data-styled.g36[id="article-share__LinkedinStyled-sc-1s9obkn-1"]{content:"cXEKcd,"}/*!sc*/
.kBgYvV{color:rgba(0,0,0,0.84);height:24px;width:24px;}/*!sc*/
data-styled.g37[id="article-share__TwitterStyled-sc-1s9obkn-2"]{content:"kBgYvV,"}/*!sc*/
.jVnceN{color:rgba(0,0,0,0.84);height:24px;width:24px;}/*!sc*/
data-styled.g38[id="article-share__WhatsappStyled-sc-1s9obkn-3"]{content:"jVnceN,"}/*!sc*/
.hUktyW{display:inline-block;margin-right:8px;}/*!sc*/
data-styled.g39[id="article-share__SocialLink-sc-1s9obkn-4"]{content:"hUktyW,"}/*!sc*/
.hKQQPE{clear:both;margin-bottom:32px;}/*!sc*/
@media (min-width:768px){.hKQQPE{clear:none;float:right;line-height:48px;}}/*!sc*/
data-styled.g40[id="article-share__SocialWrapper-sc-1s9obkn-5"]{content:"hKQQPE,"}/*!sc*/
.gKRNvs{margin-bottom:24px;}/*!sc*/
data-styled.g41[id="article-tags__Tags-lfitfk-0"]{content:"gKRNvs,"}/*!sc*/
.kdcwKK{background-color:#f4f4f4;color:rgba(0,0,0,0.54);display:inline-block;font-size:14px;margin:0 8px 8px 0;padding:8px 16px;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g42[id="article-tags__Tag-lfitfk-1"]{content:"kdcwKK,"}/*!sc*/
.gfJCPa{color:rgba(0,0,0,0.84);margin-bottom:4px;}/*!sc*/
data-styled.g43[id="article__AuthorName-sc-1bof3w4-0"]{content:"gfJCPa,"}/*!sc*/
.cZgAvk{clear:both;font-family:Georgia,"Times New Roman",Times,serif;font-size:18px;font-weight:300;-webkit-letter-spacing:-0.054px;-moz-letter-spacing:-0.054px;-ms-letter-spacing:-0.054px;letter-spacing:-0.054px;line-height:28px;margin-bottom:48px;}/*!sc*/
@media (min-width:768px){.cZgAvk{font-size:20px;}}/*!sc*/
.cZgAvk *{margin:0;margin-block-end:0;margin-block-start:0;padding:0;}/*!sc*/
.cZgAvk h2,.cZgAvk h3,.cZgAvk h4{font-family:"Lucida Sans","Lucida Sans Regular","Lucida Grande","Lucida Sans Unicode",Geneva,Verdana,sans-serif;-webkit-letter-spacing:-0.66px;-moz-letter-spacing:-0.66px;-ms-letter-spacing:-0.66px;letter-spacing:-0.66px;margin-top:8px;margin-bottom:28px;}/*!sc*/
@media (min-width:768px){.cZgAvk h2,.cZgAvk h3,.cZgAvk h4{margin-bottom:16px;}}/*!sc*/
.cZgAvk figure,.cZgAvk iframe,.cZgAvk .gatsby-highlight{left:-24px;position:relative;width:100vw;}/*!sc*/
@media (min-width:768px){.cZgAvk figure,.cZgAvk iframe,.cZgAvk .gatsby-highlight{left:0;width:auto;}}/*!sc*/
.cZgAvk a{color:#c4170c;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.cZgAvk a:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.cZgAvk blockquote{color:rgba(0,0,0,0.54);font-style:italic;}/*!sc*/
.cZgAvk code{font-size:16px;}/*!sc*/
.cZgAvk figcaption{color:rgba(0,0,0,0.54);font-size:16px;line-height:20px;padding:16px 24px 0;text-align:center;}/*!sc*/
.cZgAvk h2{font-size:26px;font-weight:600;line-height:32px;margin-bottom:28px;}/*!sc*/
.cZgAvk h3{color:#333;font-size:22px;font-weight:300;line-height:28px;}/*!sc*/
.cZgAvk h4{color:rgba(0,0,0,0.54);font-size:16;font-weight:300;line-height:24px;}/*!sc*/
.cZgAvk iframe{display:block;margin:0 auto 28px auto;height:260px;}/*!sc*/
@media (min-width:768px){.cZgAvk iframe{margin-bottom:42px;height:315px;width:560px;}}/*!sc*/
.cZgAvk img{display:block;margin:0 auto;}/*!sc*/
.cZgAvk p{margin-bottom:28px;}/*!sc*/
@media (min-width:768px){.cZgAvk p{margin-bottom:42px;}}/*!sc*/
.cZgAvk pre{font-size:16px;margin-bottom:28px;padding:24px 16px;}/*!sc*/
@media (min-width:768px){.cZgAvk pre{margin-bottom:42px;}}/*!sc*/
.cZgAvk ol,.cZgAvk ul{margin-left:28px;}/*!sc*/
@media (min-width:768px){.cZgAvk ol,.cZgAvk ul{margin-bottom:42px;}}/*!sc*/
.cZgAvk li{margin-bottom:8px;}/*!sc*/
@media (min-width:768px){.cZgAvk li{margin-bottom:16px;}}/*!sc*/
data-styled.g44[id="article__Content-sc-1bof3w4-1"]{content:"cZgAvk,"}/*!sc*/
.lhlkLZ{border-top:1px solid #f4f4f4;margin-bottom:24px;padding-top:24px;}/*!sc*/
data-styled.g45[id="article__DiscussionWrapper-sc-1bof3w4-2"]{content:"lhlkLZ,"}/*!sc*/
.hnJNBS{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.54);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;float:left;font-size:14px;margin-bottom:32px;}/*!sc*/
data-styled.g46[id="article__Meta-sc-1bof3w4-3"]{content:"hnJNBS,"}/*!sc*/
.cTbbvU{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
data-styled.g47[id="article__MetaText-sc-1bof3w4-4"]{content:"cTbbvU,"}/*!sc*/
.lhqEXT{border-radius:60px;margin-right:16px;}/*!sc*/
data-styled.g48[id="article__StyledAvatar-sc-1bof3w4-5"]{content:"lhqEXT,"}/*!sc*/
.dtcUmd{color:rgba(0,0,0,0.84);font-weight:600;-webkit-letter-spacing:-0.93px;-moz-letter-spacing:-0.93px;-ms-letter-spacing:-0.93px;letter-spacing:-0.93px;margin:0 0 4px 0;font-size:30px;font-weight:400;margin-bottom:32px;}/*!sc*/
@media (min-width:768px){.dtcUmd{font-size:40px;}}/*!sc*/
data-styled.g49[id="article__StyledTitle-sc-1bof3w4-6"]{content:"dtcUmd,"}/*!sc*/
body{color:rgba(0,0,0,0.84);font-family:Arial,Helvetica,sans-serif;margin:0;}/*!sc*/
data-styled.g51[id="sc-global-eLbNMD1"]{content:"sc-global-eLbNMD1,"}/*!sc*/
</style><title data-react-helmet="true">Além do REST com GraphQL | Klaus Laube</title><meta data-react-helmet="true" name="description" content="Construir APIs virou uma das coisas mais comuns no que tange
o desenvolvimento web. Não obstante,
escolher uma biblioteca ou framework com…"/><meta data-react-helmet="true" property="og:title" content="Além do REST com GraphQL"/><meta data-react-helmet="true" property="og:description" content="Construir APIs virou uma das coisas mais comuns no que tange
o desenvolvimento web. Não obstante,
escolher uma biblioteca ou framework com…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Klaus Peter Laube"/><meta data-react-helmet="true" name="twitter:title" content="Além do REST com GraphQL"/><meta data-react-helmet="true" name="twitter:description" content="Construir APIs virou uma das coisas mais comuns no que tange
o desenvolvimento web. Não obstante,
escolher uma biblioteca ou framework com…"/><meta data-react-helmet="true" name="keywords" content="desenvolvimento-web,rest,graphql,api,pokemon"/><meta data-react-helmet="true" property="og:image" content="https://klauslaube.com.br/static/6a882d20cc38c38410c75dc06e5c065a/graphql-logo.png"/><link rel="icon" href="/icons/icon-48x48.png?v=36b7df61fef254bef7f8fee13b1f890b"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=36b7df61fef254bef7f8fee13b1f890b"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=36b7df61fef254bef7f8fee13b1f890b"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=36b7df61fef254bef7f8fee13b1f890b"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=36b7df61fef254bef7f8fee13b1f890b"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=36b7df61fef254bef7f8fee13b1f890b"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=36b7df61fef254bef7f8fee13b1f890b"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=36b7df61fef254bef7f8fee13b1f890b"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=36b7df61fef254bef7f8fee13b1f890b"/><link rel="alternate" type="application/rss+xml" title="Klaus Laube" href="/feed/rss.xml"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link as="script" rel="preload" href="/webpack-runtime-cdc61e919fc82a15e0a5.js"/><link as="script" rel="preload" href="/framework-15c64f04ece7e16d9319.js"/><link as="script" rel="preload" href="/styles-72b9aca6a03bf971c27e.js"/><link as="script" rel="preload" href="/app-ead8f5e13f65229c1adb.js"/><link as="script" rel="preload" href="/commons-8b10f7d90c57ce3aaddf.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-803cf421a93e8ef357d0.js"/><link as="fetch" rel="preload" href="/page-data/2020/07/01/alem-do-rest-com-graphql.html/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="page-header__Header-sc-1ef23a-1 GBaPr"><div class="container-sc-1o2is99-0 page-header__HeaderContainer-sc-1ef23a-2 ktLFvT"><a class="page-header__StyledLink-sc-1ef23a-3 gbnbN" href="/"><div class="page-header-brand__Brand-ofbkek-0 iyjQQp"><span class="page-header-brand__Bracket-ofbkek-2 exgtKg">{</span>k<span class="page-header-brand__BrandFragment-ofbkek-1 hPHtvI">laus</span>l<span class="page-header-brand__BrandFragment-ofbkek-1 hPHtvI">aube</span><span class="page-header-brand__Bracket-ofbkek-2 exgtKg">}</span></div></a><div><a href="https://about.me/klauslaube" title="Contato" class="page-header__StyledA-sc-1ef23a-4 hJnaIf"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="sc-AxjAm dQgIel page-header__GreyMail-sc-1ef23a-0 fUa-dQJ"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></a></div></div></div><div><div class="container-sc-1o2is99-0 bfwjqj"><h1 class="typograph__Title-sc-4kf6ch-1 article__StyledTitle-sc-1bof3w4-6 dtcUmd">Além do REST com GraphQL</h1><div class="article__Meta-sc-1bof3w4-3 hnJNBS"><img src="https://en.gravatar.com/userimage/12163112/d3ae0c6239980b01ff1f1730b65c2ebe.jpg" width="48" height="48" alt="Avatar" class="avatar-sc-46srdf-0 article__StyledAvatar-sc-1bof3w4-5 lhqEXT"/><div class="article__MetaText-sc-1bof3w4-4 cTbbvU"><div class="article__AuthorName-sc-1bof3w4-0 gfJCPa">Klaus Peter Laube</div>1 de julho de 2020<!-- --> - <!-- -->15 minutos<!-- --> de leitura</div></div><div class="article-share__SocialWrapper-sc-1s9obkn-5 hKQQPE"><a href="https://twitter.com/intent/tweet?url=https://klauslaube.com.br/2020/07/01/alem-do-rest-com-graphql.html&amp;text=Além do REST com GraphQL" target="_blank" rel="noreferrer" title="Compartilhe no Twitter" class="article-share__SocialLink-sc-1s9obkn-4 hUktyW"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="sc-AxjAm dQgIel article-share__TwitterStyled-sc-1s9obkn-2 kBgYvV"><path d="M19.633 7.997c.013.175.013.349.013.523 0 5.325-4.053 11.461-11.46 11.461-2.282 0-4.402-.661-6.186-1.809.324.037.636.05.973.05a8.07 8.07 0 005.001-1.721 4.036 4.036 0 01-3.767-2.793c.249.037.499.062.761.062.361 0 .724-.05 1.061-.137a4.027 4.027 0 01-3.23-3.953v-.05c.537.299 1.16.486 1.82.511a4.022 4.022 0 01-1.796-3.354c0-.748.199-1.434.548-2.032a11.457 11.457 0 008.306 4.215c-.062-.3-.1-.611-.1-.923a4.026 4.026 0 014.028-4.028c1.16 0 2.207.486 2.943 1.272a7.957 7.957 0 002.556-.973 4.02 4.02 0 01-1.771 2.22 8.073 8.073 0 002.319-.624 8.645 8.645 0 01-2.019 2.083z"></path></svg></a><a href="https://www.facebook.com/sharer/sharer.php?u=https://klauslaube.com.br/2020/07/01/alem-do-rest-com-graphql.html" target="_blank" rel="noreferrer" title="Compartilhe no Facebook" class="article-share__SocialLink-sc-1s9obkn-4 hUktyW"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="sc-AxjAm dQgIel article-share__FacebookStyled-sc-1s9obkn-0 dLmtYS"><path d="M20 3H4a1 1 0 00-1 1v16a1 1 0 001 1h8.615v-6.96h-2.338v-2.725h2.338v-2c0-2.325 1.42-3.592 3.5-3.592.699-.002 1.399.034 2.095.107v2.42h-1.435c-1.128 0-1.348.538-1.348 1.325v1.735h2.697l-.35 2.725h-2.348V21H20a1 1 0 001-1V4a1 1 0 00-1-1z"></path></svg></a><a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://klauslaube.com.br/2020/07/01/alem-do-rest-com-graphql.html&amp;title=Além do REST com GraphQL" target="_blank" rel="noreferrer" title="Compartilhe no Linkedin" class="article-share__SocialLink-sc-1s9obkn-4 hUktyW"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="sc-AxjAm dQgIel article-share__LinkedinStyled-sc-1s9obkn-1 cXEKcd"><path d="M20 3H4a1 1 0 00-1 1v16a1 1 0 001 1h16a1 1 0 001-1V4a1 1 0 00-1-1zM8.339 18.337H5.667v-8.59h2.672v8.59zM7.003 8.574a1.548 1.548 0 110-3.096 1.548 1.548 0 010 3.096zm11.335 9.763h-2.669V14.16c0-.996-.018-2.277-1.388-2.277-1.39 0-1.601 1.086-1.601 2.207v4.248h-2.667v-8.59h2.56v1.174h.037c.355-.675 1.227-1.387 2.524-1.387 2.704 0 3.203 1.778 3.203 4.092v4.71z"></path></svg></a><a href="https://api.whatsapp.com/send?text=https://klauslaube.com.br/2020/07/01/alem-do-rest-com-graphql.html" target="_blank" rel="noreferrer" title="Compartilhe no Whatsapp" class="article-share__SocialLink-sc-1s9obkn-4 hUktyW"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="sc-AxjAm dQgIel article-share__WhatsappStyled-sc-1s9obkn-3 jVnceN"><path fill-rule="evenodd" d="M18.403 5.633A8.919 8.919 0 0012.053 3c-4.948 0-8.976 4.027-8.978 8.977 0 1.582.413 3.126 1.198 4.488L3 21.116l4.759-1.249a8.981 8.981 0 004.29 1.093h.004c4.947 0 8.975-4.027 8.977-8.977a8.926 8.926 0 00-2.627-6.35m-6.35 13.812h-.003a7.446 7.446 0 01-3.798-1.041l-.272-.162-2.824.741.753-2.753-.177-.282a7.448 7.448 0 01-1.141-3.971c.002-4.114 3.349-7.461 7.465-7.461a7.413 7.413 0 015.275 2.188 7.42 7.42 0 012.183 5.279c-.002 4.114-3.349 7.462-7.461 7.462m4.093-5.589c-.225-.113-1.327-.655-1.533-.73-.205-.075-.354-.112-.504.112s-.58.729-.711.879-.262.168-.486.056-.947-.349-1.804-1.113c-.667-.595-1.117-1.329-1.248-1.554s-.014-.346.099-.458c.101-.1.224-.262.336-.393.112-.131.149-.224.224-.374s.038-.281-.019-.393c-.056-.113-.505-1.217-.692-1.666-.181-.435-.366-.377-.504-.383a9.65 9.65 0 00-.429-.008.826.826 0 00-.599.28c-.206.225-.785.767-.785 1.871s.804 2.171.916 2.321c.112.15 1.582 2.415 3.832 3.387.536.231.954.369 1.279.473.537.171 1.026.146 1.413.089.431-.064 1.327-.542 1.514-1.066.187-.524.187-.973.131-1.067-.056-.094-.207-.151-.43-.263" clip-rule="evenodd"></path></svg></a></div><div class="article__Content-sc-1bof3w4-1 cZgAvk"><p>Construir <a href="/tag/api.html" title="Leia mais sobre API"><em>APIs</em></a> virou uma das coisas mais comuns no que tange
o <a href="/tag/desenvolvimento-web.html" title="Leia mais sobre Desenvolvimento Web">desenvolvimento <em>web</em></a>. Não obstante,
escolher uma biblioteca ou <em>framework</em> com bom suporte a <a href="/tag/rest.html" title="Leia mais sobre REST"><em>REST</em></a>
é parte fundamental da tomada de decisão ao iniciar um projeto.</p>
<p>Em tempos de <a href="/tag/api-first.html" title="Leia mais sobre API-First"><em>API-First</em></a>, debater arquitetura, <em>design</em>, e considerar
opções deve fazer parte da concepção de um produto (por mais "padrãozinho" que ele possa parecer). E nessa etapa,
questionar a adoção do <em>REST</em> pode resultar em impactos positivos, dependendo do contexto e público alvo.</p>
<p><figure class="gatsby-resp-image-figure" style="">
    <span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/dac3490bcce8498d625c88aa1a1cf667/72e01/graph.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 70.83333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe9NQoP/xAAWEAEBAQAAAAAAAAAAAAAAAAARACD/2gAIAQEAAQUCZz//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAXEAEBAQEAAAAAAAAAAAAAAAAAEQFB/9oACAEBAAE/Id6aVER//9oADAMBAAIAAwAAABBQD//EABURAQEAAAAAAAAAAAAAAAAAABBB/9oACAEDAQE/EKf/xAAWEQADAAAAAAAAAAAAAAAAAAABEGH/2gAIAQIBAT8QFX//xAAaEAEAAwEBAQAAAAAAAAAAAAABABEhUTFh/9oACAEBAAE/EABooc2McArWA3Sz2JUbYEV237KcJ//Z'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Grafos, árvores e florestas"
        title="Grafos! Grafos everywhere! (sitepoint.com)"
        src="/static/dac3490bcce8498d625c88aa1a1cf667/212bf/graph.jpg"
        srcset="/static/dac3490bcce8498d625c88aa1a1cf667/7809d/graph.jpg 192w,
/static/dac3490bcce8498d625c88aa1a1cf667/4ecad/graph.jpg 384w,
/static/dac3490bcce8498d625c88aa1a1cf667/212bf/graph.jpg 768w,
/static/dac3490bcce8498d625c88aa1a1cf667/72e01/graph.jpg 1024w"
        sizes="(max-width: 768px) 100vw, 768px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption">Grafos! Grafos everywhere! (sitepoint.com)</figcaption>
  </figure></p>
<p>Uma das alternativas é o <em>GraphQL</em>. E agora, com o <em>hype</em> ao redor da tecnologia um pouco mais frio, dá para falar
sobre ela com menos paixão e mais razão.</p>
<h2>Antes de ir: O que é REST, mesmo?</h2>
<p>Para a comparação ficar mais rica, é fundamental que haja um entendimento sobre o que é <em>REST</em>. Já exploramos
o conceito nos dois artigos abaixo:</p>
<ul>
<li><a href="/2016/01/06/rest-parte-1.html" title="Leia mais sobre o conceito e um comparativo com SOAP">REST - Parte 1</a></li>
<li><a href="/2016/05/20/rest-parte-2.html" title="Veja uma aplicação prática com Python e Hug">REST - Parte 2</a></li>
</ul>
<p>Ou se você preferir, o <a href="https://en.wikipedia.org/wiki/Representational_state_transfer" title="REST na Wikipedia">artigo na <em>Wikipedia</em></a>
é uma referência bem completa.</p>
<h2>O que é GraphQL?</h2>
<p>Bom, definitivamente não é mais um <em>framework</em> <a href="/tag/javascript.html" title="Leia mais sobre Javascript"><em>Javascript</em></a>.
E dizer que é unicamente um <em>query language</em> é uma afirmação incompleta.</p>
<p>Segundo <a href="https://adrianolisboa.com/o-minimo-que-voce-precisa-saber-sobre-graphql-para-nao-passar-vergonha-em-uma-conversa/" title="O mínimo que você precisa saber sobre GraphQL para não passar vergonha em uma conversa"><em>Adriano Lisboa</em></a>:</p>
<blockquote>
<p>Resumidamente, GraphQL é uma especificação open-source de uma linguagem de consulta criada pelo Facebook.</p>
</blockquote>
<p>Hoje mantido pela <a href="https://foundation.graphql.org/" title="An open and neutral home for the GraphQL community"><em>GraphQL Foundation</em></a>, sob a licença <a href="https://github.com/graphql/graphql-spec/blob/master/signed-agreements/Facebook-GraphQL-OWFa1.0.pdf" title="Open Web Foundation License"><em>OWFa 1.0</em></a>, o <em>GraphQL</em> não só é uma linguagem de consulta, como também de manipulação.</p>
<p>É possível fazer uma analogia ao <em>SQL</em> (Linguagem de Consulta Estruturada), que também é uma especificação que
possui diferentes implementações, e que realiza consulta e manipulação de dados. Só que ao contrário (das implementações) do <em>SQL</em>, o <em>GraphQL</em> não é um banco de dados em si,
como ilustra o <a href="https://www.howtographql.com/basics/0-introduction/" title="Basics Tutorial - Introduction"><em>How to GraphQL</em></a>:</p>
<blockquote>
<p>GraphQL is often confused with being a database technology. This is a misconception, GraphQL is a query language for APIs - not databases. In that sense it’s database agnostic and effectively can be used in any context where an API is used.</p>
</blockquote>
<p>E por ser uma linguagem de consulta para <em>APIs</em>, que ela se encaixa como uma alternativa ao <em>REST</em>.</p>
<h2>Qual a sua principal vantagem em relação ao REST?</h2>
<p>Um dos problemas fundamentais do <em>REST</em> é a flexibilidade do dado sendo transmitido. Quando diferentes
clientes, com diferentes necessidades, começam a consumir a sua <em>API</em>, é possível que você enfrente um fenômeno
conhecido por <em>over-fetching</em> e <em>under-fetching</em>:</p>
<ul>
<li><strong>over-fetching:</strong> É quando você está recebendo dados demais, não necessários para o seu propósito, em sua requisição;</li>
<li><strong>under-fetching:</strong> O oposto. Quando você não recebe dados o suficiente, e precisa realizar outras chamadas para cumprir o seu propósito.</li>
</ul>
<p><figure class="gatsby-resp-image-figure" style="">
    <span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/f02fbf1fdad736c5ea5cd5225bac197e/f238d/graphql-rest-calls.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 81.77083333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsSAAALEgHS3X78AAABtklEQVQoz2WTOY7CQBBF+4jEHIAEQY4skXIKlqP4AAgSAggQktlBbGaxGS/MU3/Tg4YfWNXV9Wv5XTYvi9vttlqt+GInSZLneZqmWZblFniiKIrj+Mfi+XwStlgszP1+x5pOp71ebzabcbfb7Yg7HA7n8xnjYRFbkI7g4/HY6XTa7bYZj8fw4fi+r5TUuVwuYRjSiKLpgivV5xgEQalUqlQqBi+NETSfz10oI+z3e/hEq3+y84XPF+d6vR4Oh0Yz52+ILENJMURO3sDGeTqdjFR5fcAxnR/DSQUYnuKMZhSx2WwGgwFSOfIn6EVPIKgyY5rlcskZ3bvdLjaNkJL0SH29XlVHaqsstO1222w2W61WoTYcBNBsDEMoasGRSDj1VFoEKpXL5VqtVghGED07tRGTd2YWnhQOHvjSD3As2v6WilL0TDtU1kM6waS23pyhzLc8qv8vqVNbX81VkOl5NBqxGNhcIwkelHMvryVxx2K3J5MJmdCZdeWsO8gwIwu3YXowAti/arXaaDQMli76/b7EoB8tM0gt1CdfhKA4lHq97nnen9rIy4VWR3+VDNWXSJpcbdPsL2GKiZKn1xBwAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Diagrama com três diferentes chamadas REST para os endpoints de perfil do usuário, artigos, e seguidores"
        title="Imagine uma aplicação com a necessidade de exibir o perfil do usuário, seus artigos e seguidores, em uma mesma visualização (howtographql.com)"
        src="/static/f02fbf1fdad736c5ea5cd5225bac197e/e5715/graphql-rest-calls.png"
        srcset="/static/f02fbf1fdad736c5ea5cd5225bac197e/8514f/graphql-rest-calls.png 192w,
/static/f02fbf1fdad736c5ea5cd5225bac197e/804b2/graphql-rest-calls.png 384w,
/static/f02fbf1fdad736c5ea5cd5225bac197e/e5715/graphql-rest-calls.png 768w,
/static/f02fbf1fdad736c5ea5cd5225bac197e/4ad3a/graphql-rest-calls.png 1152w,
/static/f02fbf1fdad736c5ea5cd5225bac197e/71c1d/graphql-rest-calls.png 1536w,
/static/f02fbf1fdad736c5ea5cd5225bac197e/f238d/graphql-rest-calls.png 2078w"
        sizes="(max-width: 768px) 100vw, 768px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption">Imagine uma aplicação com a necessidade de exibir o perfil do usuário, seus artigos e seguidores, em uma mesma visualização (howtographql.com)</figcaption>
  </figure></p>
<p>Já com a flexibilidade do <em>GraphQL</em>, é possível obter toda a informação necessária através de uma consulta, como ilustrado
no diagrama abaixo:</p>
<p><figure class="gatsby-resp-image-figure" style="">
    <span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/85b85e0b1d2d0b3c85bfdc060c64d58c/e405b/graphql-query.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 60.416666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABVElEQVQoz41Sy27CMBD0D/E15S/4Ci7lwP9w6JEzAiQkoFJPHEpImhg78WP9Std2EY+qFWMpstYzuzOrkP4ewfvP5vTFqVaaUso511r3f4B470MItyXwplJnYy3Wf7/eiX+XrHMU2hakFBIAstg5BxrQBVZsgjGGbDab/X5/9RYCPihvfJzqr3YA0IPz2MSZBLyQ8Xg8nU6FEMgQCcgTneCMxWkAyNMJ8E5DDZTRyetkNBotFguyWq3W6zUqu66rqqppGmSXVVkUBSqllErK6Fdp8XYIH+2xPg1fhoPBYDabkd1ut91ucyqlVNOeY85kOKfNX8zqwfU+oIXlcjmfz8uyJDiqrutIiieUglYd5YxjI3sB6qN5E1eGl5+9Wvu4bZzQWqmMxvAYpE1AHj75C3LHuLCQcCs+iFPRlMWxyJp/8DgZXQmrFWjGWHb47E+SzfRP4xvWJ7GHciyOMwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Diagrama com apenas uma requisição HTTP, utilizando GraphQL, e consultando por perfil do usuário, seus artigos e seguidores"
        title="Através de uma requisição HTTP, o cliente é capaz de obter os dados na medida certa (howtographql.com)"
        src="/static/85b85e0b1d2d0b3c85bfdc060c64d58c/e5715/graphql-query.png"
        srcset="/static/85b85e0b1d2d0b3c85bfdc060c64d58c/8514f/graphql-query.png 192w,
/static/85b85e0b1d2d0b3c85bfdc060c64d58c/804b2/graphql-query.png 384w,
/static/85b85e0b1d2d0b3c85bfdc060c64d58c/e5715/graphql-query.png 768w,
/static/85b85e0b1d2d0b3c85bfdc060c64d58c/4ad3a/graphql-query.png 1152w,
/static/85b85e0b1d2d0b3c85bfdc060c64d58c/71c1d/graphql-query.png 1536w,
/static/85b85e0b1d2d0b3c85bfdc060c64d58c/e405b/graphql-query.png 1566w"
        sizes="(max-width: 768px) 100vw, 768px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption">Através de uma requisição HTTP, o cliente é capaz de obter os dados na medida certa (howtographql.com)</figcaption>
  </figure></p>
<p>Vale lembrar que existe complementos ao <em>REST</em> que possibilitam uma maior flexibilidade do
<em>payload</em> (como por exemplo, passar quais campos você quer coletar através de <em>query string</em>),
ainda assim é necessário salientar a legibilidade e até mesmo elegância da consulta realizada no exemplo acima.</p>
<p><a href="https://dev.to/mshossain110/3-major-rest-api-problem-can-solve-using-graphql-1dg2" title="3 major REST API problem can solve using GraphQL">Leia sobre outras vantagens do <em>GraphQL</em> em comparação ao <em>REST</em></a>.</p>
<h2>Qual a sua principal desvantagem em relação ao REST?</h2>
<p>"Cada escolha uma renúncia", já dizia o poeta.</p>
<p>O <em>GraphQL</em> não é bala de prata, e possui desvantagens quando comparado ao <em>REST</em>. <a href="https://stackoverflow.com/questions/40689858/are-there-any-disadvantages-to-graphql" title="Are there any disadvantages to GraphQL?">Essa <em>thread</em> no <em>Stackoverflow</em> lista algumas delas</a>.</p>
<p>Talvez a mais popular seja a ausência de <em>cache built-in</em>. Com <em>REST</em>, por utilizarmos o protocolo <em>HTTP</em>, os mecanismos
para <em>caching</em> já estão lá. <a href="/2012/05/14/o-cache-e-o-http.html" title="O cache e o HTTP">Dos cabeçalhos utilizados para indicar <em>caching</em> à compreensão dos clientes</a>. Diferentes recursos podem ter estratégias de <em>caching</em> diferentes, uma
vez que eles são servidos em diferentes <em>endpoints</em>.</p>
<p>Com o <em>GraphQL</em> utilizamos apenas um <em>endpoint</em>. Portanto, precisamos implementar uma camada extra de <em>caching</em>. <a href="https://graphql.org/learn/caching/" title="GraphQL: Caching">Nada impossível de ser alcançado</a>,
mas ainda assim, uma complexidade a mais.</p>
<p><a href="https://www.moesif.com/blog/technical/graphql/REST-vs-GraphQL-APIs-the-good-the-bad-the-ugly/" title="REST vs GraphQL APIs, the Good, the Bad, the Ugly">Veja mais desvantagens em relação ao <em>REST</em></a>.</p>
<h2>Falando GraphQL</h2>
<p>Possivelmente a melhor forma de adicionar o <em>GraphQL</em> ao seu projeto é através de plataformas como o <a href="https://www.apollographql.com/" title="Simplify app development by combining APIs, databases, and microservices into a single data graph that you can query with GraphQL"><em>Apollo</em></a>, ou com a utilização de bibliotecas, como é o caso (para <em>servers</em> em <a href="/tag/django.html" title="Leia mais sobre Django"><em>Django</em></a>) da <a href="https://github.com/graphql-python/graphene-django" title="A Django integration for Graphene"><em>graphene-django</em></a> e
(para <em>clients</em> em <em>Javascript</em>) da <a href="https://relay.dev/" title="The production-ready GraphQL client for React"><em>Relay</em></a>.</p>
<p><figure class="gatsby-resp-image-figure" style="">
    <span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/7f843a01006d17649701911547d17fd0/0d1a4/graphql-apollo-serverless-architecture.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.166666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABoUlEQVQoz51TS0oDQRDNGbyG4A3EvRs3bkRcCW70COpCVwqeQPCDEncqgjsR8ZNAJAn5aETURIbESTKDmu6enp6ZnmfPxGg+KmpB0VRV9+PVq+oI/mC+7/fkHJtCMOO9DkSCSy1vf/RdnnMOxigsxsC4g9juPGLrIxC0FtYj3Qw6vBtYOaEUruvC81xIVb9P7eHudEUxbTQBHccBeXmBEOJXbTPS6IjLBkWuaLYYIcIsC9knA+ZrA9LzFLAdMitmDhHfHgepFiBVwlM5PXGA/OIwXq/P4IQKeJhYiGJgegcVkzUZBi1c3JbwVDMgbFtpQ0EtBzeX+4htT6BaSoMLF6RM8LC/hdTsEJ4zR7AUohQWxuY20T+1gbJJm4CByFe5LAghHVpWa3UkkynU6nUElEVch515hl6vQsrPaT9qFSTSeXVHfj+UwKSUMAwzPMNYsfZtV7G1P1YksPOchrXjOxBVCwG71+OrfWuPG0prS+lucaW1yzE4s4q+yQOcFIyvAX/cQ7/JPNgMoTwYylL0DKPLJ9BM3tvyv36K4NAr2kf9DcTDRouucaRUAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Diagrama exibindo uma arquitetura com Serverless e Apollo Platform"
        title="Exemplo de arquitetura GraphQL e Serverless com Apollo-Server-Lambda (serverless.com)"
        src="/static/7f843a01006d17649701911547d17fd0/e5715/graphql-apollo-serverless-architecture.png"
        srcset="/static/7f843a01006d17649701911547d17fd0/8514f/graphql-apollo-serverless-architecture.png 192w,
/static/7f843a01006d17649701911547d17fd0/804b2/graphql-apollo-serverless-architecture.png 384w,
/static/7f843a01006d17649701911547d17fd0/e5715/graphql-apollo-serverless-architecture.png 768w,
/static/7f843a01006d17649701911547d17fd0/0d1a4/graphql-apollo-serverless-architecture.png 1036w"
        sizes="(max-width: 768px) 100vw, 768px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption">Exemplo de arquitetura GraphQL e Serverless com Apollo-Server-Lambda (serverless.com)</figcaption>
  </figure></p>
<p>Por tratar-se de uma especificação, implementações existirão para diferentes linguagens, arquiteturas, e fins (o próprio <a href="https://www.gatsbyjs.org/" title="Fast in every way that matters"><em>Gatsby</em></a> é um bom exemplo).</p>
<p>Não vamos focar em como desenvolver sua <em>API</em> com <em>GraphQL</em>, e sim em como utilizar a <em>query language</em>. <a href="https://github.com/APIs-guru/graphql-apis" title="Public GraphQL APIs">Esse repositório no <em>Github</em></a>
disponibiliza algumas <em>APIs</em> públicas na qual podemos utilizar para exercitar esse <em>skill</em>. A <a href="https://github.com/lucasbento/graphql-pokemon" title="Visite o repositório"><em>GraphQL Pokémon</em></a> parece
uma boa candidata para este momento do artigo.</p>
<h3>Tipos</h3>
<p>Partimos do princípio que queremos definir os tipos que serão servidos pela nossa <em>API</em>. O <em>GraphQL</em> possui uma sintaxe específica para definição de tipos chamada <em>Schema Definition Language</em> (<em>SDL</em>). No caso
do exemplo do <em>Pokémon</em>, temos o seguinte:</p>
<div class="gatsby-highlight" data-language="graphql"><pre class="language-graphql"><code class="language-graphql"><span class="token keyword">type</span> <span class="token class-name">Pokemon</span> <span class="token punctuation">{</span>
  <span class="token attr-name">id</span><span class="token punctuation">:</span> ID<span class="token operator">!</span>
  <span class="token attr-name">number</span><span class="token punctuation">:</span> String
  <span class="token attr-name">name</span><span class="token punctuation">:</span> String
  <span class="token attr-name">weight</span><span class="token punctuation">:</span> PokemonDimension
  <span class="token attr-name">height</span><span class="token punctuation">:</span> PokemonDimension
  <span class="token attr-name">classification</span><span class="token punctuation">:</span> String
  <span class="token attr-name">types</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>String<span class="token punctuation">]</span>
  <span class="token attr-name">resistant</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>String<span class="token punctuation">]</span>
  <span class="token attr-name">attacks</span><span class="token punctuation">:</span> PokemonAttack
  <span class="token attr-name">weaknesses</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>String<span class="token punctuation">]</span>
  <span class="token attr-name">fleeRate</span><span class="token punctuation">:</span> Float
  <span class="token attr-name">maxCP</span><span class="token punctuation">:</span> Int
  <span class="token attr-name">evolutions</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>Pokemon<span class="token punctuation">]</span>
  <span class="token attr-name">evolutionRequirements</span><span class="token punctuation">:</span> PokemonEvolutionRequirement
  <span class="token attr-name">maxHP</span><span class="token punctuation">:</span> Int
  <span class="token attr-name">image</span><span class="token punctuation">:</span> String
<span class="token punctuation">}</span></code></pre></div>
<p><a href="https://github.com/lucasbento/graphql-pokemon/blob/master/schemas/schema.graphql" title="Veja o arquivo no Github">Veja o <em>schema</em> na íntegra</a>.</p>
<p>Para quem já teve o mínimo contato com <a href="/tag/swagger.html" title="Leia mais sobre Swagger"><em>Swagger</em></a>, a sintaxe acima não é estranha. A estrutura consiste em basicamente
<code class="language-text">field: type</code>. Onde em <code class="language-text">field</code> damos o nome do campo, e <code class="language-text">type</code> descrevemos o tipo.</p>
<p>Além dos tipos básicos
(como <code class="language-text">String</code>, <code class="language-text">ID</code>, <code class="language-text">Int</code>), temos estruturas mais complexas, como as listas <code class="language-text">[String]</code> e <code class="language-text">[Pokemon]</code>. <code class="language-text">PokemonDimension</code>, <code class="language-text">PokemonAttack</code> e <code class="language-text">PokemonEvolutionRequirement</code>,
são tipos customizados criados com a mesma sintaxe usada no próprio <code class="language-text">Pokemon</code>. Por exemplo, na linha <code class="language-text">evolutions: [Pokemon]</code>, está expresso o relacionamento
de um <code class="language-text">Pokemon</code> para muitas evoluções (que tratam-se de outras "instâncias" do tipo <code class="language-text">Pokemon</code>).</p>
<p>Por fim, vale notar o <code class="language-text">!</code> em <code class="language-text">ID</code>, que anota o campo como <code class="language-text">required</code>.</p>
<h3>Consulta</h3>
<p>Todas as <em>queries</em> abaixo podem ser reproduzidas na interface <a href="https://graphql-pokemon.now.sh/" title="Execute as queries agora!"><em>Pokémon GraphiQL</em></a>. Ou ainda,
se você preferir, através de <em>API calls</em>.</p>
<p>Para aquecer, vamos visualizar o <em>schema</em>:</p>
<div class="gatsby-highlight" data-language="graphql"><pre class="language-graphql"><code class="language-graphql"><span class="token punctuation">{</span>
  __schema <span class="token punctuation">{</span>
    types <span class="token punctuation">{</span>
      name
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Ou utilizando o <code class="language-text">curl</code>:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">curl &#39;https://graphql-pokemon.now.sh/?&#39; \
  -H &#39;content-type: application/json&#39; \
  --data-binary &#39;{&quot;query&quot;:&quot;{ __schema { types{ name } } }&quot;, &quot;variables&quot;:null, &quot;operationName&quot;:null}&#39;</code></pre></div>
<p>Como resultado teremos o seguinte:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"__schema"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"types"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Query"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Int"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Pokemon"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"ID"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"String"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"PokemonDimension"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"PokemonAttack"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Attack"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Float"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"PokemonEvolutionRequirement"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"__Schema"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"__Type"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"__TypeKind"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Boolean"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"__Field"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"__InputValue"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"__EnumValue"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"__Directive"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"__DirectiveLocation"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Através do <code class="language-text">__schema</code> descobrimos quais tipos são utilizados pelo servidor. Não muito útil para o propósito desse artigo,
mas ainda assim, uma boa forma de olharmos pela primeira vez para uma resposta. Além do fato dela ser em <em>JSON</em>, repare o "envelopamento"
do <em>payload</em> através da chave <code class="language-text">data</code>.</p>
<p>Para compreender os tipos listados acima, podemos utilizar outra ferramenta de introspecção, chamada <code class="language-text">__type</code>:</p>
<div class="gatsby-highlight" data-language="graphql"><pre class="language-graphql"><code class="language-graphql"><span class="token punctuation">{</span>
  __type<span class="token punctuation">(</span><span class="token attr-name">name</span><span class="token punctuation">:</span> <span class="token string">"ID"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    name
    kind
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>E como resposta, temos a descrição do tipo <code class="language-text">ID</code> como <code class="language-text">SCALAR</code>:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"__type"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"ID"</span><span class="token punctuation">,</span>
      <span class="token property">"kind"</span><span class="token operator">:</span> <span class="token string">"SCALAR"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Vamos listar todos os 151 <em>Pokémons</em> originais:</p>
<div class="gatsby-highlight" data-language="graphql"><pre class="language-graphql"><code class="language-graphql"><span class="token punctuation">{</span>
  pokemons<span class="token punctuation">(</span><span class="token attr-name">first</span><span class="token punctuation">:</span> <span class="token number">151</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>A resposta será algo semelhante com o <em>JSON</em> abaixo:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"pokemons"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Bulbasaur"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

      (...)

      <span class="token punctuation">{</span>
        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Mew"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Com o parâmetro <code class="language-text">first</code>, estamos solicitando todos os <code class="language-text">n</code> primeiros resultados. Essa <em>query</em> é declarada na linha <code class="language-text">88</code> do <code class="language-text">schema.graphql</code>:</p>
<div class="gatsby-highlight" data-language="graphql"><pre class="language-graphql"><code class="language-graphql"><span class="token keyword">type</span> <span class="token class-name">Query</span> <span class="token punctuation">{</span>
  <span class="token attr-name">query</span><span class="token punctuation">:</span> Query
  <span class="token attr-name">pokemons</span><span class="token punctuation">(</span><span class="token attr-name">first</span><span class="token punctuation">:</span> Int<span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>Pokemon<span class="token punctuation">]</span>
  <span class="token attr-name">pokemon</span><span class="token punctuation">(</span><span class="token attr-name">id</span><span class="token punctuation">:</span> String<span class="token punctuation">,</span> <span class="token attr-name">name</span><span class="token punctuation">:</span> String<span class="token punctuation">)</span><span class="token punctuation">:</span> Pokemon
<span class="token punctuation">}</span></code></pre></div>
<p>Com o <code class="language-text">type Query</code> estamos expressando quais serão as consultas que poderemos executar. Em <code class="language-text">pokemons</code>, o atributo <code class="language-text">first</code> é do tipo inteiro e obrigatório.
A sua resposta será uma lista de instâncias do tipo <code class="language-text">Pokemon</code>. É possível também requisitar um <em>Pokémon</em> através do seu <code class="language-text">id</code> ou <code class="language-text">name</code>, como
explícito na instrução <code class="language-text">pokemon</code>, dentro do bloco <code class="language-text">Query</code>:</p>
<div class="gatsby-highlight" data-language="graphql"><pre class="language-graphql"><code class="language-graphql"><span class="token punctuation">{</span>
  pokemon<span class="token punctuation">(</span><span class="token attr-name">name</span><span class="token punctuation">:</span> <span class="token string">"Pikachu"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    id
    number
    name
    weight <span class="token punctuation">{</span>
      maximum
      minimum
    <span class="token punctuation">}</span>
    height <span class="token punctuation">{</span>
      maximum
      minimum
    <span class="token punctuation">}</span>
    classification
    types
    resistant
    attacks <span class="token punctuation">{</span>
      fast <span class="token punctuation">{</span>
        name
        <span class="token keyword">type</span>
        <span class="token class-name">damage</span>
      <span class="token punctuation">}</span>
      special <span class="token punctuation">{</span>
        name
        <span class="token keyword">type</span>
        <span class="token class-name">damage</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    weaknesses
    fleeRate
    maxCP
    evolutions <span class="token punctuation">{</span>
      id
      number
      name
    <span class="token punctuation">}</span>
    evolutionRequirements <span class="token punctuation">{</span>
      amount
      name
    <span class="token punctuation">}</span>
    maxHP
    image
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>E como resultado teremos todos os dados do nosso queridíssimo <em>Pikachu</em>.</p>
<h3>Mutações</h3>
<p>Além de requisitar informação, podemos também manusear dados. Isso é realizado através do conceito de <em>Mutations</em>.</p>
<p>Para esse exemplo vamos utilizar a <a href="https://graphql.jobs/docs/api/" title="Veja o projeto rodando"><em>GraphQL Jobs API</em></a>, acessível
através <a href="https://api.graphql.jobs/" title="Veja o Playground do projeto">dessa interface</a>.</p>
<p>Vamos dar <code class="language-text">subscribe</code> na <em>API</em>, para que assim possamos receber propostas de empregos que envolvam <em>GraphQL</em>:</p>
<div class="gatsby-highlight" data-language="graphql"><pre class="language-graphql"><code class="language-graphql"><span class="token keyword">mutation</span> <span class="token punctuation">{</span>
  subscribe<span class="token punctuation">(</span><span class="token attr-name">input</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token attr-name">name</span><span class="token punctuation">:</span> <span class="token string">"&lt;seu-nome>"</span><span class="token punctuation">,</span> <span class="token attr-name">email</span><span class="token punctuation">:</span> <span class="token string">"&lt;seu-email>"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    id
    name
    email
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Como resposta, temos um <em>JSON</em> com <code class="language-text">id</code>, <code class="language-text">name</code> e <code class="language-text">email</code>:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"subscribe"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"ckc3r7uqs004w0725u5sf0g1o"</span><span class="token punctuation">,</span>
      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"John Doe"</span><span class="token punctuation">,</span>
      <span class="token property">"email"</span><span class="token operator">:</span> <span class="token string">"myamazingemail@mail.com"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Ok... Aqui pode ter ficado um pouco confuso. Vamos verificar quais <em>Mutations</em> temos disponíveis:</p>
<div class="gatsby-highlight" data-language="graphql"><pre class="language-graphql"><code class="language-graphql"><span class="token punctuation">{</span>
  __schema <span class="token punctuation">{</span>
    mutationType <span class="token punctuation">{</span>
      fields <span class="token punctuation">{</span>
        name
        args <span class="token punctuation">{</span>
          name
          <span class="token keyword">type</span> <span class="token punctuation">{</span>
            kind
            ofType <span class="token punctuation">{</span>
              name
              kind
              inputFields <span class="token punctuation">{</span>
                name
                <span class="token keyword">type</span> <span class="token punctuation">{</span>
                  ofType <span class="token punctuation">{</span>
                    name
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">type</span> <span class="token punctuation">{</span>
          kind
          ofType <span class="token punctuation">{</span>
            name
            fields <span class="token punctuation">{</span>
              name
              <span class="token keyword">type</span> <span class="token punctuation">{</span>
                kind
                ofType <span class="token punctuation">{</span>
                  name
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>O resultado, de forma resumida, será o seguinte:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"__schema"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"mutationType"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"fields"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"subscribe"</span><span class="token punctuation">,</span>
            <span class="token property">"args"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"input"</span><span class="token punctuation">,</span>
                <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token property">"kind"</span><span class="token operator">:</span> <span class="token string">"NON_NULL"</span><span class="token punctuation">,</span>
                  <span class="token property">"ofType"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"SubscribeInput"</span><span class="token punctuation">,</span>
                    <span class="token property">"kind"</span><span class="token operator">:</span> <span class="token string">"INPUT_OBJECT"</span><span class="token punctuation">,</span>
                    <span class="token property">"inputFields"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                      <span class="token punctuation">{</span>
                        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"name"</span><span class="token punctuation">,</span>
                        <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                          <span class="token property">"ofType"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                            <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"String"</span>
                          <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                      <span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{</span>
                        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"email"</span><span class="token punctuation">,</span>
                        <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                          <span class="token property">"ofType"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                            <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"String"</span>
                          <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">"kind"</span><span class="token operator">:</span> <span class="token string">"NON_NULL"</span><span class="token punctuation">,</span>
              <span class="token property">"ofType"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"User"</span><span class="token punctuation">,</span>
                <span class="token property">"fields"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                  <span class="token punctuation">{</span>
                    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"id"</span><span class="token punctuation">,</span>
                    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                      <span class="token property">"kind"</span><span class="token operator">:</span> <span class="token string">"NON_NULL"</span><span class="token punctuation">,</span>
                      <span class="token property">"ofType"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"ID"</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token punctuation">{</span>
                    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"name"</span><span class="token punctuation">,</span>
                    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                      <span class="token property">"kind"</span><span class="token operator">:</span> <span class="token string">"SCALAR"</span><span class="token punctuation">,</span>
                      <span class="token property">"ofType"</span><span class="token operator">:</span> <span class="token null keyword">null</span>
                    <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token punctuation">{</span>
                    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"email"</span><span class="token punctuation">,</span>
                    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                      <span class="token property">"kind"</span><span class="token operator">:</span> <span class="token string">"NON_NULL"</span><span class="token punctuation">,</span>
                      <span class="token property">"ofType"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"String"</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token punctuation">{</span>
                    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"subscribe"</span><span class="token punctuation">,</span>
                    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                      <span class="token property">"kind"</span><span class="token operator">:</span> <span class="token string">"NON_NULL"</span><span class="token punctuation">,</span>
                      <span class="token property">"ofType"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Boolean"</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token punctuation">{</span>
                    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"createdAt"</span><span class="token punctuation">,</span>
                    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                      <span class="token property">"kind"</span><span class="token operator">:</span> <span class="token string">"NON_NULL"</span><span class="token punctuation">,</span>
                      <span class="token property">"ofType"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"DateTime"</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token punctuation">{</span>
                    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"updatedAt"</span><span class="token punctuation">,</span>
                    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                      <span class="token property">"kind"</span><span class="token operator">:</span> <span class="token string">"NON_NULL"</span><span class="token punctuation">,</span>
                      <span class="token property">"ofType"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"DateTime"</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>A <em>query</em> ficou um pouco mais clara agora. A <em>Mutation</em> <code class="language-text">subscribe</code> aceita um parâmetro com nome <code class="language-text">input</code>, do
tipo <code class="language-text">SubscribeInput</code>. Esse, além de ser obrigatório (<code class="language-text">NON_NULL</code>), possui dois campos: <code class="language-text">name</code> e <code class="language-text">email</code>. Isso
explica a linha <code class="language-text">subscribe(input: { name: &quot;&lt;seu-nome&gt;&quot;, email: &quot;&lt;seu-email&gt;&quot; }) {</code>, na consulta anterior.</p>
<p><code class="language-text">subscribe</code> retorna um tipo <code class="language-text">User</code>, também obrigatório. Esse tipo possui os campos <code class="language-text">id</code>, <code class="language-text">name</code>, <code class="language-text">subscribe</code>,
<code class="language-text">createdAt</code>, e <code class="language-text">updatedAt</code>. Como especificamos dentro do bloco <code class="language-text">subscribe</code> os campos <code class="language-text">id</code>, <code class="language-text">name</code>, e <code class="language-text">email</code>,
esse é o resultado que obtemos no <em>JSON</em> de resposta. Que representa a <em>subscription</em> sendo efetuada, e meus
dados como usuário sendo retornados.</p>
<h3>Por baixo dos panos</h3>
<p>Existem outros conceitos não explorados nesse artigo, como por exemplo as <a href="https://www.digitalocean.com/community/tutorials/graphql-mutations-subscriptions" title="Mutations and Subscriptions in GraphQL"><em>Subscriptions</em></a>. O que
pode estar confuso para você é como que o servidor interpreta o <em>GraphQL</em>, e coleta os dados para formar
a resposta da requisição.</p>
<p><figure class="gatsby-resp-image-figure" style="">
    <span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/4a6836ebc99a7bcc07a68b5400d3863e/e5166/detective-pikachu.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51.041666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQCAwX/xAAWAQEBAQAAAAAAAAAAAAAAAAABAAL/2gAMAwEAAhADEAAAAcdpWWWsBv/EABsQAAIBBQAAAAAAAAAAAAAAAAECAwAQERIh/9oACAEBAAEFAgMvNxHOzLUhJt//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAWEQADAAAAAAAAAAAAAAAAAAAQESH/2gAIAQIBAT8BVH//xAAbEAABBAMAAAAAAAAAAAAAAAARAAEQIUFRgf/aAAgBAQAGPwLqvaIEW+Xj/8QAGhAAAwADAQAAAAAAAAAAAAAAAAExESFRYf/aAAgBAQABPyF6FVyZWZCdV4RpC4Psx0//2gAMAwEAAgADAAAAEHcv/8QAFxEAAwEAAAAAAAAAAAAAAAAAARARIf/aAAgBAwEBPxC4V//EABYRAQEBAAAAAAAAAAAAAAAAAAEQEf/aAAgBAgEBPxB0J//EABsQAQEAAwADAAAAAAAAAAAAAAERACExQVGh/9oACAEBAAE/EBeQhVpqYQxTyprsfeLBSF2H3E9E46xuQwKM2YQ4M//Z'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Imagem do filme Detective Pikachu, mostrando o Pikachu com uma lupa"
        title="Será que conseguimos encontrar um emprego de detetive, para Pokémons, utilizando GraphQL? (www.geekgirlauthority.com/)"
        src="/static/4a6836ebc99a7bcc07a68b5400d3863e/212bf/detective-pikachu.jpg"
        srcset="/static/4a6836ebc99a7bcc07a68b5400d3863e/7809d/detective-pikachu.jpg 192w,
/static/4a6836ebc99a7bcc07a68b5400d3863e/4ecad/detective-pikachu.jpg 384w,
/static/4a6836ebc99a7bcc07a68b5400d3863e/212bf/detective-pikachu.jpg 768w,
/static/4a6836ebc99a7bcc07a68b5400d3863e/5ef17/detective-pikachu.jpg 1152w,
/static/4a6836ebc99a7bcc07a68b5400d3863e/e5166/detective-pikachu.jpg 1200w"
        sizes="(max-width: 768px) 100vw, 768px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption">Será que conseguimos encontrar um emprego de detetive, para Pokémons, utilizando GraphQL? (www.geekgirlauthority.com/)</figcaption>
  </figure></p>
<p>Comigo o "click" aconteceu depois de checar o código dos repositórios abaixo:</p>
<ul>
<li><a href="https://github.com/lucasbento/graphql-pokemon" title="Confira o repositório no Github">lucasbento/graphql-pokemon</a></li>
<li><a href="https://github.com/igorlima/todo-mongo-graphql-server" title="Confira o repositório no Github">igorlima/todo-mongo-graphql-server</a></li>
</ul>
<p>Não é feitiçaria...</p>
<h2>Então devo adotar o GraphQL?</h2>
<p>Possivelmente. E isso não significa necessariamente abandonar o <em>REST</em>.</p>
<p>A retórica do "GraphQL ser o substituto do REST", inclusive, foi um dos motivos do meu ceticismo em relação ao mesmo por muito tempo.</p>
<p>Uma das análises mais sóbrias que encontrei foi da <a href="https://www.thoughtworks.com/radar/languages-and-frameworks/graphql" title="Technology Radar"><em>ThoughtWorks</em></a>, que categoriza o <em>GraphQL</em> como <code class="language-text">ASSESS</code> (ou seja, recomendada a exploração para compreender
como ele impactará o seu <em>business</em>):</p>
<blockquote>
<p>We've seen many successful GraphQL implementations on our projects. We've seen some interesting patterns of use too, including GraphQL for server-side resource aggregation. That said, we've concerns about misuse of this framework and some of the problems that can occur. Examples include performance gotchas around N+1 queries and lots of boilerplate code needed when adding new models, leading to complexity. There are workarounds to these gotchas such as query caching. Even though it's not a silver bullet, we still think it's worth assessing as part of your architecture.</p>
</blockquote>
<p>Se o seu produto compartilha do mesmo contexto do <em>Facebook</em>, de ter controle total do <em>backend</em> e do
<em>client</em> (<em>web</em> e <em>mobile</em>), utilizar o <em>GraphQL</em> faz muito sentido. Ou ainda, se a sua motivação for de reduzir o número de chamadas <em>HTTP</em>, assim como foi a do
<em>Github</em>, é um argumento completamente válido para a adoção da linguagem.</p>
<p>O que talvez precise ficar claro na sua tomada de decisão é que um não substitui o outro completamente, como afirma
<a href="https://www.programmableweb.com/news/just-because-github-has-graphql-api-doesnt-mean-you-should-too/analysis/2016/09/21" title="Just Because Github Has a GraphQL API Doesn’t Mean You Should Too"><em>Mike Stowe, no ProgrammableWeb</em></a>:</p>
<blockquote>
<p>However, that does not mean that in GitHub’s case, pushing out a public GraphQL API was the right choice. In an effort to reduce calls, they are giving up the very layers of flexibility that I believe will drive future APIs. In essence, they chose a solution to one problem they were facing, but in doing so disregarded solutions for the problems REST was designed to solve (...)</p>
</blockquote>
<p>Dependendo da sua <em>stack</em>, disponibilizar os dois formatos não é nenhum sacrifício. Aliás, ter o <em>GraphQL</em> como uma
espécie de <em>API Gateway</em>, agregando o resultado de demais <em>endpoints</em> <em>REST</em> <a href="https://levelup.gitconnected.com/graphql-is-the-new-api-gateway-383edeed4bcd" title="GraphQL is the New API Gateway">parece ser uma tendência</a>.</p>
<p><figure class="gatsby-resp-image-figure" style="">
    <span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/7de39de94c321c5ef5ad1991b63fc1ee/e8950/graphql-api-gateway.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABZklEQVQoz4VRXW8TMRC8//+GEIhfg3hBRaSUBySq43pqm0Caj8udY3s/vONesUlUCfrAarWatWfWq3Fjp0iGbPGAoatJo7G34aZiPhq5Mw574LGST9GctWqPT7a+ypdv5s+v5s03TPf48m4u7XiLfYvLt/Pi9by6yPNTJf8lfo5yIdGUazJlJiSxJNBY6j/cF2LDnxHJEsCdo86JKkXWMhX/FZ8iw6LQ+yV/WC37u+v2um1b7z2AF2KcF64PpupHBWqh96EPIiosRFTA6fxZ0liuvSqgyAT1JgGxuO2QQhaX2WUaITGnAERDsUBRRwBNmjh+3KQhrom7LTko3zj+tIsmt45WTghCF1vpp8G02/FWJO0jFcmRG53YL36lkTYx/ng4hJzoboxXD6Ta78f7YWLV+HUjSzcm+f5ztw0hHaJfrNVxU7b3HBLK+la+JReTVQLHAspyUM3IrFwMyYWqglQ9OVIo9TePzzpP+VoO0QAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Topologia de serviços quando adicionado GraphQL como API Gateway"
        title="Exemplo de uso de GraphQL como API Gateway, à frente de outras APIs GraphQL e REST (labs.getninjas.com.br)"
        src="/static/7de39de94c321c5ef5ad1991b63fc1ee/e5715/graphql-api-gateway.png"
        srcset="/static/7de39de94c321c5ef5ad1991b63fc1ee/8514f/graphql-api-gateway.png 192w,
/static/7de39de94c321c5ef5ad1991b63fc1ee/804b2/graphql-api-gateway.png 384w,
/static/7de39de94c321c5ef5ad1991b63fc1ee/e5715/graphql-api-gateway.png 768w,
/static/7de39de94c321c5ef5ad1991b63fc1ee/4ad3a/graphql-api-gateway.png 1152w,
/static/7de39de94c321c5ef5ad1991b63fc1ee/71c1d/graphql-api-gateway.png 1536w,
/static/7de39de94c321c5ef5ad1991b63fc1ee/e8950/graphql-api-gateway.png 2000w"
        sizes="(max-width: 768px) 100vw, 768px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption">Exemplo de uso de GraphQL como API Gateway, à frente de outras APIs GraphQL e REST (labs.getninjas.com.br)</figcaption>
  </figure></p>
<h2>Considerações finais</h2>
<p>Para mim, a linguagem brilhou quando migrei o <em>blog</em> para <a href="https://www.gatsbyjs.org/" title="GatsbyJS"><em>Gatsby</em></a>. A flexibilidade e assertividade que ela me proporcionou,
mesmo em um ambiente de <a href="/tag/static-site-generators.html" title="Leia mais sobre sites estáticos"><em>static site generator</em></a>, me deixou impressionado e até mesmo apaixonado por toda a ideia por trás da tecnologia.</p>
<p>E esse caso de uso, na minha opinião, é motivação o suficiente para pelo menos compreendermos a linguagem.
Se há ceticismo em relação ao uso dela em uma solução que já existe, talvez ele dê uma abrandada quando
você experimentá-la em um contexto diferente.</p>
<p>Como o livro <a href="https://www.goodreads.com/book/show/40861856-graphql-or-bust" title="Veja no Goodreads">"GraphQL or Bust: To Use It Or Not: That is the Question"</a> dá a entender, não tem almoço grátis:</p>
<blockquote>
<p>GraphQL has often been sold as a perfect solution for every problem, but the reality is that it meets one requirement better than most other, and if that’s not part of your requirements, it may not be the best solution for your implementation.</p>
</blockquote>
<p>A discussão continua nas referências abaixo. Não deixe de conferir!</p>
<p>Até a próxima.</p>
<h2>Referências</h2>
<ul>
<li><a href="https://adrianolisboa.com/o-minimo-que-voce-precisa-saber-sobre-graphql-para-nao-passar-vergonha-em-uma-conversa/">Adriano Lisboa: O mínimo que você precisa saber sobre GraphQL para não passar vergonha em uma conversa</a></li>
<li><a href="http://apievangelist.com/2016/08/30/graphql-seems-like-we-do-not-want-to-do-the-hard-work-of-api-design/">API Evangelist: GraphQL Seems Like We Do Not Want To Do The Hard Work Of API Design</a></li>
<li><a href="https://www.apollographql.com/blog/graphql-the-next-generation-of-api-design-f24b1689756a#.6hh9mb30w">Apollo Blog: GraphQL - The next generation of API design</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/graphql-mutations-subscriptions">Digital Ocean - Mutations and Subscriptions in GraphQL</a></li>
<li><a href="https://dzone.com/articles/graphql-core-features-architecture-pros-and-cons">DZone: GraphQL - Core Features, Architecture, Pros, and Cons</a></li>
<li><a href="https://labs.getninjas.com.br/sharing-data-in-a-microservices-architecture-using-graphql-97db59357602">GetNinjas: Sharing data in a Microservices Architecture using GraphQL</a></li>
<li><a href="https://levelup.gitconnected.com/graphql-is-the-new-api-gateway-383edeed4bcd">Gitconnected: GraphQL is the New API Gateway</a></li>
<li><a href="https://github.com/APIs-guru/graphql-apis">Github: Public GraphQL APIs</a></li>
<li><a href="https://blog.hitchhq.com/graphql-3-reasons-not-to-use-it-7715f60cb934#.j0xhx31xg">Hitch: GraphQL - 3 reasons not to use it</a></li>
<li><a href="https://www.howtographql.com/">How to GraphQL</a></li>
<li><a href="https://medium.com/@paigen11/what-is-graphql-really-76c48e720202">Medium: What is GraphQL, really?</a></li>
<li><a href="https://www.moesif.com/blog/technical/graphql/REST-vs-GraphQL-APIs-the-good-the-bad-the-ugly/">Moesif: REST vs GraphQL APIs, the Good, the Bad, the Ugly</a></li>
<li><a href="https://medium.com/open-graphql/moving-existing-api-from-rest-to-graphql-205bab22c184">OPENGraphQL: Moving existing API from REST to GraphQL</a></li>
<li><a href="https://www.serverless.com/blog/running-scalable-reliable-graphql-endpoint-with-serverless/">Serverless: Running a scalable &#x26; reliable GraphQL endpoint with Serverless</a></li>
<li><a href="https://stablekernel.com/article/advantages-and-disadvantages-of-graphql/">Stable Kernel: Advantages and Disadvantages of GraphQL</a></li>
<li><a href="https://stackoverflow.com/questions/40689858/are-there-any-disadvantages-to-graphql">Stackoverflow: Are there any disadvantages to GraphQL?</a></li>
<li><a href="https://www.thoughtworks.com/radar/languages-and-frameworks/graphql">ThoughyWorks: Technology Radar - GraphQL</a></li>
<li><a href="https://en.wikipedia.org/wiki/GraphQL">Wikipedia: GraphQL</a></li>
</ul></div><div class="article-tags__Tags-lfitfk-0 gKRNvs"><a class="article-tags__Tag-lfitfk-1 kdcwKK" href="/tag/desenvolvimento-web.html">desenvolvimento-web</a><a class="article-tags__Tag-lfitfk-1 kdcwKK" href="/tag/rest.html">rest</a><a class="article-tags__Tag-lfitfk-1 kdcwKK" href="/tag/graphql.html">graphql</a><a class="article-tags__Tag-lfitfk-1 kdcwKK" href="/tag/api.html">api</a><a class="article-tags__Tag-lfitfk-1 kdcwKK" href="/tag/pokemon.html">pokemon</a></div><div class="article__DiscussionWrapper-sc-1bof3w4-2 lhlkLZ"><div shortname="klauslaube" config="[object Object]" id="disqus_thread"></div></div></div></div><footer class="page-footer__Footer-sc-1jesc4c-0 eZHcyp"><div class="container-sc-1o2is99-0 bfwjqj"><p>O conteúdo desse blog está sob a licença<!-- --> <a href="http://creativecommons.org/licenses/by/3.0/deed.pt_BR" class="page-footer__Link-sc-1jesc4c-1 hCZhVV">Creative Commons Attribution</a>.</p><p><a href="https://github.com/kplaube/blog" class="page-footer__Link-sc-1jesc4c-1 hCZhVV">Fork me on Github</a>.</p></div></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-19657400-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2020/07/01/alem-do-rest-com-graphql.html";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-ead8f5e13f65229c1adb.js"],"component---src-pages-404-js":["/component---src-pages-404-js-bf5e10cca5c03eb48f60.js"],"component---src-templates-blog-list-js":["/component---src-templates-blog-list-js-0f94b71c7f70b89f93fd.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-803cf421a93e8ef357d0.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js-a6dc687157e090dc764c.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-803cf421a93e8ef357d0.js" async=""></script><script src="/commons-8b10f7d90c57ce3aaddf.js" async=""></script><script src="/app-ead8f5e13f65229c1adb.js" async=""></script><script src="/styles-72b9aca6a03bf971c27e.js" async=""></script><script src="/framework-15c64f04ece7e16d9319.js" async=""></script><script src="/webpack-runtime-cdc61e919fc82a15e0a5.js" async=""></script></body></html>