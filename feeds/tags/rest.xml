<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Klaus Laube - rest]]></title><description><![CDATA[Python, Django e desenvolvimento Web]]></description><link>https://klauslaube.com.br</link><generator>RSS for Node</generator><lastBuildDate>Mon, 01 Mar 2021 20:46:23 GMT</lastBuildDate><author><![CDATA[Klaus Peter Laube]]></author><item><title><![CDATA[Você precisa de uma API?]]></title><description><![CDATA[Nos últimos anos tenho advogado em prol do API-First. Não apenas
por acreditar nos impactos econômicos que a prática pode apresentar, como também nos benefícios de arquitetura,
organização e integração. Sem falar no "supracitado" Developer eXperience, que vem quase que embutido ao
realizar o design…]]></description><link>https://klauslaube.com.br/2020/10/09/voce-precisa-de-uma-api.html</link><guid isPermaLink="false">https://klauslaube.com.br/2020/10/09/voce-precisa-de-uma-api.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Fri, 09 Oct 2020 06:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Nos últimos anos tenho advogado em prol do &lt;a href=&quot;/tag/api-first.html&quot; title=&quot;Leia mais sobre API-First&quot;&gt;&lt;em&gt;API-First&lt;/em&gt;&lt;/a&gt;. Não apenas
por acreditar nos impactos econômicos que a prática pode apresentar, como também nos benefícios de arquitetura,
organização e integração. Sem falar no &quot;supracitado&quot; &lt;em&gt;Developer eXperience&lt;/em&gt;, que vem quase que embutido ao
realizar o &lt;em&gt;design&lt;/em&gt; de suas &lt;a href=&quot;/tag/api.html&quot; title=&quot;Leia mais sobre APIs&quot;&gt;&lt;em&gt;APIs&lt;/em&gt;&lt;/a&gt; antes mesmo de implementá-las.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2020/02/21/o-api-first.html&quot; title=&quot;Leia o artigo na íntegra&quot;&gt;O API-First&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/2020/03/02/api-first-processo-e-ferramentas.html&quot; title=&quot;Leia o artigo na íntegra&quot;&gt;API-First: Processo e ferramentas&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/2020/04/05/api-blueprint-markdown-e-vida.html&quot; title=&quot;Leia o artigo na íntegra&quot;&gt;API Blueprint: Markdown é vida!&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/2017/11/25/swagger-e-o-open-api-initiative.html&quot; title=&quot;Leia o artigo na íntegra&quot;&gt;Swagger e o Open API Initiative&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/2018/03/15/swagger-na-pratica.html&quot; title=&quot;Leia o artigo na íntegra&quot;&gt;Swagger na prática&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/2017/01/31/ramilificando-as-suas-apis.html&quot; title=&quot;Leia o artigo na íntegra&quot;&gt;Ramilificando as suas APIs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Como nem tudo em desenvolvimento pode ser considerado &quot;bala de prata&quot; (estou olhando para você, &lt;em&gt;microservices&lt;/em&gt;),
o propósito desse artigo é estressar a motivação por trás da construção de uma &lt;em&gt;API&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;O que é uma API?&lt;/h2&gt;
&lt;p&gt;Segundo &lt;a href=&quot;https://medium.com/@TebbaVonMathenstien/what-is-an-api-and-why-should-i-use-one-863c3365726b&quot; title=&quot;What Is an API and Why Should I Use One?&quot;&gt;&lt;em&gt;Tyler Elliot&lt;/em&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In general, APIs define the rules that programmers must follow in order to interact with a programming language, a software library, or any other software tool. Lately though, the term API is most often used to describe a particular kind of web interface. These Web APIs are a set of rules for interacting with a webserver (such as a Salesforce server), with the most common use case being data retrieval.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6111b39bbdd735b487901e9aab0240dc/faddd/what-is-an-api.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAgAF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAgAB/9oADAMBAAIQAxAAAAHbKCKlZf/EABgQAQEBAQEAAAAAAAAAAAAAAAECEQAh/9oACAEBAAEFAt9aAHTmJoDO/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAwADAAAAAAAAAAAAAAAAAAERAhAh/9oACAEBAAY/Aju5kqiI/8QAGhABAAMAAwAAAAAAAAAAAAAAAQARQSExcf/aAAgBAQABPyHDZanRKRNiHc8EBgACg4J//9oADAMBAAIAAwAAABBzP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABURAQEAAAAAAAAAAAAAAAAAABAh/9oACAECAQE/EIf/xAAcEAEBAAICAwAAAAAAAAAAAAABEQAhMUFhcYH/2gAIAQEAAT8QRyHguIC2grN/clIgpvFOm/eSUpaPOQ4OB0Z//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Ilustração sobre o que é uma API&quot;
        title=&quot;Uma máquina normalmente consome uma API. Já uma pessoa, geralmente, uma interface visual (callr.com)&quot;
        src=&quot;/static/6111b39bbdd735b487901e9aab0240dc/212bf/what-is-an-api.jpg&quot;
        srcset=&quot;/static/6111b39bbdd735b487901e9aab0240dc/7809d/what-is-an-api.jpg 192w,
/static/6111b39bbdd735b487901e9aab0240dc/4ecad/what-is-an-api.jpg 384w,
/static/6111b39bbdd735b487901e9aab0240dc/212bf/what-is-an-api.jpg 768w,
/static/6111b39bbdd735b487901e9aab0240dc/faddd/what-is-an-api.jpg 850w&quot;
        sizes=&quot;(max-width: 768px) 100vw, 768px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Uma máquina normalmente consome uma API. Já uma pessoa, geralmente, uma interface visual (callr.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Em outras palavras, você acessa o &lt;em&gt;Gmail&lt;/em&gt; diariamente do seu &lt;em&gt;browser&lt;/em&gt; através da interface &lt;a href=&quot;/tag/web.html&quot; title=&quot;Leia mais sobre web&quot;&gt;&lt;em&gt;web&lt;/em&gt;&lt;/a&gt;. Porém, integrações com outras máquinas são realizadas através de &lt;em&gt;APIs&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Na verdade, mesmo o &lt;em&gt;Gmail&lt;/em&gt; aberto em seu navegador depende de &lt;em&gt;APIs&lt;/em&gt; para funcionar. Possivelmente as mesmas &lt;em&gt;APIs&lt;/em&gt; que alimentam a &lt;em&gt;app mobile&lt;/em&gt; do próprio &lt;em&gt;Google&lt;/em&gt;,
ou clientes terceiros (como o &lt;em&gt;Mail&lt;/em&gt;, da &lt;em&gt;Apple&lt;/em&gt;).&lt;/p&gt;
&lt;h2&gt;Mashup, SaaS, e economia&lt;/h2&gt;
&lt;p&gt;E o primeiro argumento gira em torno dessa oportunidade de integrações e negócios com terceiros.&lt;/p&gt;
&lt;p&gt;O termo &lt;em&gt;Mashup&lt;/em&gt; ganhou popularidade após a &lt;a href=&quot;https://pt.wikipedia.org/wiki/Web_2.0&quot;&gt;&lt;em&gt;Web 2.0&lt;/em&gt;&lt;/a&gt; (entreguei a idade nessa referência) transformar a forma como a &lt;em&gt;web&lt;/em&gt; era desenvolvida. &lt;em&gt;Mashups&lt;/em&gt; são &lt;em&gt;APIs&lt;/em&gt;, &lt;em&gt;websites&lt;/em&gt; ou serviços que misturam diferentes fontes afim de entregar uma solução. Um bom exemplo de &lt;em&gt;mashup&lt;/em&gt; é a interface de busca do &lt;em&gt;Airbnb&lt;/em&gt;, integrada ao &lt;em&gt;Google Maps&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8e8d838f1bd37aabc1a4391ac5322c2b/07b5d/interface-airbnb.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.041666666666664%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACUElEQVQozzWSS0/bQBSF82u7765dVmxYVmVVIVVCPEp5B1oeoUArIGrFq6EpJE7sOLEd23FixwkQ29j+OnHaK41mNDr67p1zJhf5Q8IgIIwi4jgmTRGVMgwTZC9BcgLankfv0cNyDXodHf9xgPvUp/vkZntv4GN4PlXrgZzdsdF1Hcs08X2f6DnOgJKbsFRJWZHg2uih9xUunWuOFItLQ+ZMMylqGmW7wq2psq888bkWkovCiCh6JhaTpUlCLBbESN4YlrJehxM1pGTLHDUtlqpQ1F0Upy3uLO4diZPWkNUarEvP5GZnppmaes3awgx7qzOcHX3hcCfPcanJRgM2akkmXqsJeG0MDzhWHpG6FcpOlZJzy17jge+tkLyckjsvbLK4OEdha4782jy723m2VlY4/DUBrksJG/VUAOHGGKJ0+lmDi7aF6sr8ce44aAQZbKzLPY3CcQoEYSxCSYjiiYfKEJarKZv1yWRjsWr3qBs2PxQP1WhRtnQKjYHQkDXMgMFoRBCMMmg6iTgryU35JE2Am/8mLBk+N60eN1qfouyJyYTPY+/E2qxNNLnlhVnW5t9xWzrn7uon71c2ePHqJcuFU3Y00VmKM+GSSLvYeqRm9vmmRpyK83Y94msj5Ldtcmu0udD8MfADx/t5mnWJRrXC0voq02/fsHtdYUudhHGgPFNUB9zpNoalIRkNmrZEta2iuS2anozWVXF9h1ySTJ45fHhgJD74/1KFhx+FhwV5hNw06IoP3XEsWh2NhnNPuX2FZJZRujJGr42qNzEdk78z5c2ynPxDGQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Interface de busca do Airbnb com o Google Maps&quot;
        title=&quot;Na interface web, no desktop, é possível buscar por proximidade e ter auxílio do Google Maps para encontrar um lugar&quot;
        src=&quot;/static/8e8d838f1bd37aabc1a4391ac5322c2b/e5715/interface-airbnb.png&quot;
        srcset=&quot;/static/8e8d838f1bd37aabc1a4391ac5322c2b/8514f/interface-airbnb.png 192w,
/static/8e8d838f1bd37aabc1a4391ac5322c2b/804b2/interface-airbnb.png 384w,
/static/8e8d838f1bd37aabc1a4391ac5322c2b/e5715/interface-airbnb.png 768w,
/static/8e8d838f1bd37aabc1a4391ac5322c2b/4ad3a/interface-airbnb.png 1152w,
/static/8e8d838f1bd37aabc1a4391ac5322c2b/71c1d/interface-airbnb.png 1536w,
/static/8e8d838f1bd37aabc1a4391ac5322c2b/07b5d/interface-airbnb.png 2551w&quot;
        sizes=&quot;(max-width: 768px) 100vw, 768px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Na interface web, no desktop, é possível buscar por proximidade e ter auxílio do Google Maps para encontrar um lugar&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Integrações com terceiros fazem parte do cotidiano dos desenvolvedores &lt;em&gt;web&lt;/em&gt;, e não é raro tais integrações se materializarem na forma de &lt;em&gt;APIs&lt;/em&gt;. Além disso, o conceito
de &quot;Software Como Serviço&quot; (&lt;a href=&quot;https://www.techradar.com/news/what-is-saas&quot; title=&quot;What is SaaS&quot;&gt;&lt;em&gt;SaaS&lt;/em&gt;&lt;/a&gt;) está amplamente estabelecido no mercado, e há uma certa expectativa que
o seu produto possua algumas de suas características.&lt;/p&gt;
&lt;p&gt;Oras! Você já é um desenvolvedor &lt;em&gt;web&lt;/em&gt;, desenvolvendo para a nuvem. O que te custa fazer disso um serviço e disponibilizar alguns endereços para que um cliente
conecte-se com a sua solução?&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 512px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6f194806efb0212ff924af7e867e2ef7/01e7c/saas-vs-soa.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADBklEQVQ4y41Va1PaQBTt//8JnX5qO+1Mq2XGCoohJDxMEPKCRCWQ0ABCeCigPEIieHpJq7VCbBcWdjd7z5577t6bN/jdHh4eNr/Pxr/aer3eOX7cs/l/vv/Nrg2bFtwHmC4GEIssPnx6i4+f36FsCOHa/f39TpsnwJcPFt4U5fM85AoDUToClzvAt4P3OJOTkMoMTEvGah3sBN1i6PseziQGqcw+kuxXsJkYKpdZ6NQVPQ1N5yFpDM0F+IEfzXDz2XzdoYUz5ZjYpaHqHEpqipidICsc0gF7SGdjYLh9FNUkbibtLR3/cnm5XKDZVaEQWL6QgGZwcDoy8mICRZmh9RRYPkbzY1jNEtquTnoG2y4/TqbzEYxqNmRU0k5gOhKMmgTFKEE1ZVxYCmqODKF4hJwYDw+Zze+iASd3Q2KooO4UYTQqECoqvjMMjnkOe3FyOZ9DtdOCZkqkYyqUZDa7jQacL27RdFXoto50QURaPEWcSyGZ5ZEpFpCXi7Qu0JgOrJfRHRjwSKZIwBXpYTarkGtVMBkeyQyHBMsgwZyAyWWQJoZJLo2CrkGxTFjt2sY4TIcIwBXs3hDJHE9upnHMsiEAm8uCFwXEUyfgieERHcKSB63hZPc9fHLZW6I7WZJGdqifVD0He5rHEcciJeSRU0rQbBOioVGQbLi011v60YC3swU64yX6dwExvYbpXuFUleiS89Q5CKpMQenAGUwwnK/RHXshiVcY+lAuG5D1OiTq7esZGv0RzHYPtbYLu3uNRm+MctVB+aKB81qL0vQVwIA0rDd70KtNSjeH+g+6l020BlMMZiv0iLlGa6fFChrdMdzxfKtQ/Em9cP6A/miKq5sFLu0upV8dzcEd3FsfTm9C+etALtegGhZatGc880KbjW1kcVhRzbNafWLiUDGow3ZHJL4PndzTzVYIJukW2v3xU338j/K1JIMJRdyniDv4EosjdsjA7ozQGXm4oqD4/j/L1wumqxWmXkCadqjCiMiKMmXRNQUu2AKJrNgvQR9fCbta1CvgJ5uR0Wg6fk8tAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Diferenças e similaridades entre SaaS e SOA&quot;
        title=&quot;Diferenças e similaridades entre SaaS e SOA (tecnetit.com.br)&quot;
        src=&quot;/static/6f194806efb0212ff924af7e867e2ef7/01e7c/saas-vs-soa.png&quot;
        srcset=&quot;/static/6f194806efb0212ff924af7e867e2ef7/8514f/saas-vs-soa.png 192w,
/static/6f194806efb0212ff924af7e867e2ef7/804b2/saas-vs-soa.png 384w,
/static/6f194806efb0212ff924af7e867e2ef7/01e7c/saas-vs-soa.png 512w&quot;
        sizes=&quot;(max-width: 512px) 100vw, 512px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Diferenças e similaridades entre SaaS e SOA (tecnetit.com.br)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;E aqui é possível enxergar que além da técnica em relação à integrações, há um fator econômico que precisa ser levado em consideração. &lt;em&gt;Jennifer Riggins&lt;/em&gt;, no &lt;a href=&quot;https://www.programmableweb.com/news/how-to-design-great-apis-api-first-design-and-raml/how-to/2015/07/10&quot; title=&quot;Leia o artigo na íntegra&quot;&gt;&lt;em&gt;How To Design Great APIs With API-First Design&lt;/em&gt;&lt;/a&gt;, explora um pouco mais dessa vertente. &lt;a href=&quot;https://www.mulesoft.com/resources/api/what-is-an-api-economy&quot; title=&quot;What is the API Economy&quot;&gt;Mas uma das melhores definições vem do pessoal da &lt;em&gt;MuleSoft&lt;/em&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The innovative power of APIs has led to the realization that APIs can be a critical component of enterprise solutions that impact the operational bottom line, contributing to efficiencies, growth, and innovation. That, in turn, has created the API economy, which is loosely defined as the way APIs can positively affect an organization&apos;s profitability.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Portanto, se você estiver construindo um produto onde tais integrações podem ser um novo canal de distribuição (ou até mesmo o principal canal de distribuição), ter uma &lt;em&gt;API&lt;/em&gt; faz todo o sentido.&lt;/p&gt;
&lt;h3&gt;Em contrapartida...&lt;/h3&gt;
&lt;p&gt;Embora seja de conhecimento público que a &lt;a href=&quot;https://netflixtechblog.com/tagged/microservices&quot; title=&quot;Leia mais no blog técnico do Netflix&quot;&gt;&lt;em&gt;Netflix&lt;/em&gt; utilize microsserviços&lt;/a&gt;
(e os serviços possuam &lt;em&gt;APIs&lt;/em&gt; para uso interno), a &quot;locadora vermelha&quot; não possui &lt;em&gt;API&lt;/em&gt; pública (até o momento da escrita desse artigo). E esse
exemplo pode servir como argumento para ilustrar que nem tudo precisa ser concebido com uma ideia de integração desde o seu princípio.&lt;/p&gt;
&lt;p&gt;No entanto, assim como no exemplo do &lt;em&gt;Gmail&lt;/em&gt;, para entregar um conteúdo de forma coesa para tantos clientes diferentes (&lt;em&gt;TV&lt;/em&gt;, &lt;em&gt;mobile&lt;/em&gt;, &lt;em&gt;web&lt;/em&gt;, etc), há uma necessidade técnica que fortalece o argumento
do uso de protocolos de comunicação.&lt;/p&gt;
&lt;h2&gt;Front-end x Mobile x Back-end&lt;/h2&gt;
&lt;p&gt;No caso do &lt;em&gt;Gmail&lt;/em&gt;, por exemplo, o protocolo &lt;a href=&quot;https://pt.wikipedia.org/wiki/Post_Office_Protocol&quot; title=&quot;Leia mais no Wikipedia&quot;&gt;&lt;em&gt;POP&lt;/em&gt;&lt;/a&gt;
seria o suficiente para conectar um cliente com o servidor, afim de ler os e-mails. Ao falarmos de soluções &lt;em&gt;web&lt;/em&gt;, e portanto, funcionando sobre a camada &lt;em&gt;HTTP&lt;/em&gt;,
esse tipo de interação é comumente efetuada através de &lt;a href=&quot;/tag/rest.html&quot; title=&quot;Leia mais sobre REST&quot;&gt;&lt;em&gt;APIs REST&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 602px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/873febc6cd552df522d1d5dc20ed2ef0/e49d1/front-back-end.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 85.9375%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAGAABAQADAAAAAAAAAAAAAAAAAAIBAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHvRUG0GQAf/8QAGRAAAQUAAAAAAAAAAAAAAAAAAQAQICEx/9oACAEBAAEFAkLY5H//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAXEAADAQAAAAAAAAAAAAAAAAAAATAx/9oACAEBAAY/AjXD/8QAGxABAAICAwAAAAAAAAAAAAAAAQARIDEhYXH/2gAIAQEAAT8hTtnIwCjdy+kLH3H/2gAMAwEAAgADAAAAEGDAAP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QH//EABsQAQACAgMAAAAAAAAAAAAAAAEAESFhIDFx/9oACAEBAAE/ELba/GIIBWyYi2zGF2YTucuP/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Ilustração separando front-end de back-end&quot;
        title=&quot;Full-stack ou Fool-stack? (quora.com)&quot;
        src=&quot;/static/873febc6cd552df522d1d5dc20ed2ef0/e49d1/front-back-end.jpg&quot;
        srcset=&quot;/static/873febc6cd552df522d1d5dc20ed2ef0/7809d/front-back-end.jpg 192w,
/static/873febc6cd552df522d1d5dc20ed2ef0/4ecad/front-back-end.jpg 384w,
/static/873febc6cd552df522d1d5dc20ed2ef0/e49d1/front-back-end.jpg 602w&quot;
        sizes=&quot;(max-width: 602px) 100vw, 602px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Full-stack ou Fool-stack? (quora.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Há nem tanto tempo atrás, &lt;em&gt;full-stack developers&lt;/em&gt; eram comuns no mercado de desenvolvimento &lt;em&gt;web&lt;/em&gt;. Soluções eram basicamente
&lt;a href=&quot;/tag/html.html&quot; title=&quot;Leia mais sobre HTML&quot;&gt;&lt;em&gt;HTMLs&lt;/em&gt;&lt;/a&gt; sendo entregues com a interface tendo apenas intervenções de &lt;a href=&quot;/tag/javascript.html&quot; title=&quot;Leia mais sobre Javascript&quot;&gt;&lt;em&gt;Javascript&lt;/em&gt;&lt;/a&gt; para enriquecer a experiência.&lt;/p&gt;
&lt;p&gt;Com os navegadores evoluindo cada vez mais, as interfaces &lt;em&gt;web&lt;/em&gt; ficando cada vez mais complexas, e demandas nos domínios de &lt;em&gt;front-end&lt;/em&gt; e &lt;em&gt;back-end&lt;/em&gt; exigindo
maior especialidade; Hoje o padrão de mercado é encontrarmos desenvolvedores especializados em &lt;em&gt;front-end&lt;/em&gt;, ou em &lt;em&gt;back-end&lt;/em&gt;, ou até mesmo &lt;em&gt;mobile&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Full-stack developers&lt;/em&gt;
são considerados &quot;unicórnios&quot;, e por mais que eu tenha passado a maior parte da minha carreira como um, admito que hoje
em dia é muito difícil ficar nessa posição e manter-se atualizado com as novidades e tendências (&lt;a href=&quot;https://medium.com/better-programming/do-not-follow-javascript-trends-ca2f0dc19ec1&quot; title=&quot;Don’t Follow JavaScript Trends&quot;&gt;principalmente no mercado &lt;em&gt;front-end&lt;/em&gt;&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 318px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ed27fc6f5330fe62b08032e4d37f5171/2debd/ria.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 61.45833333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABQAB/8QAFQEBAQAAAAAAAAAAAAAAAAAAAgH/2gAMAwEAAhADEAAAAWYfEFImi//EABsQAAIDAAMAAAAAAAAAAAAAAAECAAMREhMy/9oACAEBAAEFAjij1OD6bnMFrgd7z//EABcRAQEBAQAAAAAAAAAAAAAAAAEAAhP/2gAIAQMBAT8BdDdb/8QAFxEBAAMAAAAAAAAAAAAAAAAAAAESE//aAAgBAgEBPwGss3//xAAZEAACAwEAAAAAAAAAAAAAAAAAARExoZH/2gAIAQEABj8CbkTkvRyy8LXD/8QAGxAAAwEBAAMAAAAAAAAAAAAAAAERITFRYdH/2gAIAQEAAT8hVGibrOJfODok6ESVT9IQEkSk4J/Af//aAAwDAQACAAMAAAAQ/wAf/8QAGREAAgMBAAAAAAAAAAAAAAAAABEBIVGh/9oACAEDAQE/EIS2LnD/xAAXEQEBAQEAAAAAAAAAAAAAAAABABFR/9oACAECAQE/EAm12//EABwQAQACAwADAAAAAAAAAAAAAAEAIRExYUHh8P/aAAgBAQABPxBXFjXwQxrzZU36iFQKeofWkjcYOQUwwHgzrUVIbPqp/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Anúncio de muito tempo atrás mostrando tecnologias ligadas ao Rich Internet Application&quot;
        title=&quot;Deixa eu pegar esse pergaminho aqui que cita tecnologias usadas para construir interfaces ricas para a internet (dotcom-monitor.com)&quot;
        src=&quot;/static/ed27fc6f5330fe62b08032e4d37f5171/2debd/ria.jpg&quot;
        srcset=&quot;/static/ed27fc6f5330fe62b08032e4d37f5171/7809d/ria.jpg 192w,
/static/ed27fc6f5330fe62b08032e4d37f5171/2debd/ria.jpg 318w&quot;
        sizes=&quot;(max-width: 318px) 100vw, 318px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Deixa eu pegar esse pergaminho aqui que cita tecnologias usadas para construir interfaces ricas para a internet (dotcom-monitor.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Portanto, é bem provável que o time de &lt;em&gt;front-end&lt;/em&gt; do seu projeto adote &lt;em&gt;React&lt;/em&gt; ou &lt;em&gt;Vue.js&lt;/em&gt;, e demande
do time de &lt;em&gt;back-end&lt;/em&gt; algumas &lt;em&gt;APIs&lt;/em&gt; (&lt;a href=&quot;/2020/07/01/alem-do-rest-com-graphql.html&quot; title=&quot;Além do REST com GraphQL&quot;&gt;&lt;em&gt;REST&lt;/em&gt; ou não&lt;/a&gt;) para que possam
entregar conteúdo dinâmico ao usuário final. É certo que essa demanda acontecerá se, por exemplo, o seu produto tiver uma versão &lt;em&gt;mobile&lt;/em&gt; nativa.&lt;/p&gt;
&lt;h3&gt;Em contrapartida...&lt;/h3&gt;
&lt;p&gt;Há um debate em torno de especialidades e do papel de um &lt;em&gt;full-stack&lt;/em&gt;. &lt;em&gt;David Humphrey&lt;/em&gt; sugere que nessa condição, &lt;a href=&quot;https://blog.humphd.org/fool-stack-programmer/&quot; title=&quot;How to become a Fool Stack Programmer&quot;&gt;deveríamos
ser capazes de &quot;subir ou descer&quot;, e oferecer ajuda, independente da &lt;em&gt;expertise&lt;/em&gt; em cada nível de uma &lt;em&gt;stack&lt;/em&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;(...) is not about becoming an expert at every level of the stack. Rather, its goal is to erase the boundary between the levels such that you can reach up or down in order to offer help, even if that help is only to offer a kind word of encouragement when the problem is particularly hard: these are our problems, after all.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Outro argumento gira em torno do excesso de complexidade que virou desenvolver (qualquer coisa) para a &lt;em&gt;web&lt;/em&gt;.&lt;/p&gt;
&lt;iframe src=&quot;https://www.youtube.com/embed/SWEts0rlezA&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;Com um time multidisciplinar, é possível que você não precise confiar em uma &lt;em&gt;API&lt;/em&gt; para conectar as duas especialidades, e com
o bom e velho modo de fazer &lt;em&gt;web&lt;/em&gt; (por exemplo, &lt;a href=&quot;/tag/django.html&quot; title=&quot;Leia mais sobre Django&quot;&gt;&lt;em&gt;Django&lt;/em&gt;&lt;/a&gt; entregando &lt;em&gt;HTML&lt;/em&gt;)
seu time seja capaz de entregar um produto (ainda assim) interessante.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 500px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/677faf277ec5a099b9f55044cb4b1308/41099/fool-stack.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 64.58333333333334%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEEAv/EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAABep3imKCP/8QAGhABAQADAQEAAAAAAAAAAAAAAQIAAxMEEv/aAAgBAQABBQIoD7CNm9K5lZykl80Z/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhAAAgMBAQAAAAAAAAAAAAAAAAECESExEv/aAAgBAQAGPwLXR6WmMVt8Jazsj//EABoQAAMBAQEBAAAAAAAAAAAAAAABETFRQWH/2gAIAQEAAT8hwiXwb2K9JR0hdso9INR5RqPw6j//2gAMAwEAAgADAAAAEOAv/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8QAJ//xAAVEQEBAAAAAAAAAAAAAAAAAAABAP/aAAgBAgEBPxBGC//EABwQAQEAAgMBAQAAAAAAAAAAAAERACExYYFB8P/aAAgBAQABPxAWmWHLzEAotzXzIOiJJvBy2iTy+YWsxFFHnrrG03/lrP/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Piada com full-stack e fool-stack&quot;
        title=&quot;Pela graça da piada, deixo esse meme para mexer com o seu brio (devrant.com)&quot;
        src=&quot;/static/677faf277ec5a099b9f55044cb4b1308/41099/fool-stack.jpg&quot;
        srcset=&quot;/static/677faf277ec5a099b9f55044cb4b1308/7809d/fool-stack.jpg 192w,
/static/677faf277ec5a099b9f55044cb4b1308/4ecad/fool-stack.jpg 384w,
/static/677faf277ec5a099b9f55044cb4b1308/41099/fool-stack.jpg 500w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Pela graça da piada, deixo esse meme para mexer com o seu brio (devrant.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Só para não parecer um &lt;em&gt;post&lt;/em&gt; &quot;anti-SPA&quot; ou &quot;anti-React&quot;, &lt;a href=&quot;https://macwright.com/2020/05/10/spa-fatigue.html&quot; title=&quot;Second-guessing the modern web&quot;&gt;faço das palavras de &lt;em&gt;Tom MacWright&lt;/em&gt; as minhas&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I don’t think that everyone’s using the SPA pattern for no reason. For large corporations, it allows teams to work independently: the “frontend engineers” can “consume” “APIs” from teams that probably work in a different language and can only communicate through the hierarchy. For heavily interactive applications, it has real benefits in modularity, performance, and structure. And it’s beneficial for companies to shift computing requirements from their servers to their customers browsers: a real win for reducing their spend on infrastructure.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Se você acha que sua empresa ou produto não se encaixa nos critérios levantados na citação a cima,
&lt;a href=&quot;https://m.signalvnoise.com/stimulus-1-0-a-modest-javascript-framework-for-the-html-you-already-have/&quot; title=&quot;Stimulus 1.0: A modest JavaScript framework for the HTML you already have&quot;&gt;&lt;em&gt;HTML&lt;/em&gt; renderizado no &lt;em&gt;server side&lt;/em&gt;, com pitadas de &lt;em&gt;Javascript&lt;/em&gt;, ainda é uma realidade&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Microservices&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Microservices&lt;/em&gt; foi uma das ondas que sacudiu o mundo do desenvolvimento &lt;em&gt;back-end&lt;/em&gt; recentemente. O conceito de computação distribuída
não é novo, mas com a popularização de ferramentas como &lt;em&gt;Kubernetes&lt;/em&gt; e &lt;a href=&quot;/tag/docker.html&quot; title=&quot;Leia mais sobre Docker&quot;&gt;&lt;em&gt;Docker&lt;/em&gt;&lt;/a&gt;, fica difícil resistir à
tentação de mover toda uma solução para microsserviços.&lt;/p&gt;
&lt;p&gt;O portal da &lt;em&gt;Red Hat&lt;/em&gt; &lt;a href=&quot;https://www.redhat.com/pt-br/topics/microservices/what-are-microservices&quot; title=&quot;O que são os microsserviços?&quot;&gt;define a arquitetura da seguinte forma&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Microsserviços são uma abordagem de arquitetura para a criação de aplicações. O que diferencia a arquitetura de microsserviços das abordagens monolíticas tradicionais é como ela decompõe a aplicação por funções básicas. Cada função é denominada um serviço e pode ser criada e implantada de maneira independente. Isso significa que cada serviço individual pode funcionar ou falhar sem comprometer os demais.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;As vantagens são numerosas, dentre elas:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Habilidade de escalar horizontalmente qualquer um de seus componentes;&lt;/li&gt;
&lt;li&gt;Serviços são independentes. O que significa maior liberdade de desenvolvimento;&lt;/li&gt;
&lt;li&gt;A arquitetura é plugável, permitindo maior flexibilidade no gerenciamento de serviços internos e externos.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Uma arquitetura baseada em microsserviços fatalmente te levará a construir &lt;em&gt;APIs&lt;/em&gt;. Embora haja outras formas
de fazer com que os serviços dentro da mesma se comuniquem, &lt;em&gt;APIs REST&lt;/em&gt; são a forma mais comum para esse tipo de comunicação.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d084a44a068510bf7c7a22d87b45a69c/ce92a/microservice-diagram.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABcRAAAXEQHKJvM/AAACjUlEQVQ4y5VVW08TQRTeP6I/wQd98UJi1OCbxoA2SmJiCBKbiMZo9MUHlfjig0ZMNIrxQU1ARTSAARUiLb1SfLCAFA2SFHoJ7dZuu223l+3nnCGzbWkX8CSTmT1zzjffucyshAZSLpdr5u3ukUgwEeFQKBThGnVgetwNXdc3BTMFJAfh9OBGD3bvsGDPTguedvdyna6X/4+hYBJZCqJ51zmcOHYbp0/eRcveDoSC0RqbOkDBpjo3wliJyWjddx5Hmq7h0P4raD/ahVQyvW6nV/yqh2SWaLGeHLLh1IFOtB20wjPuNbUTs1Qq6XX5KxZL0HJ55LIa8oUSwizMaGgNGluTTtPy3GZjdBSZRFUcfGeHxzXPjTKZHHIMjA7KMmdVzTLQIgMp8PX6XonPmYzGfIrweRbw/o2Nd4SUZ4aXLvTgbd83fopgnOVMCnyQIQ2yJea0J6pN8uzxMG5ef85teQ5XV2JIyCkjbGJCAKIPyZFGPl/gOopEUVQDOJXKIBKWK1UmSSZVTNn8kOOKkZPvvkX8/rVqHLT8JwKv+ycHVtUcZFmB2zHH14KxURSPcx4dZ+8hsBDk3+lUFl2dD9H/esIA7H0ygsvWRzx3JIuBFViO38Kcf7lSFMGGKDvsfiiMKemIBZ0uGJJu9scSZqYDRgTRaAJO+6yRrro+FEVJs5yIfFGihVDuSGgvnc4a3zV92OiGiCpTa8RjSXwZ9eHr2Az+JtK8D0lffU2rMaSNnS4aVYD3vZrAYXbtmpuuYuSjq8amka9k9tZR85IM9E/C2n4fF1mBxj55G7La9LURJwvAly8+40zLHbS1duPDwFQNYKMnbMsHNhyKY2jQiWEWbmwtWfdebhtwq1+AmfwDXGnkfx0eHkYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Diagrama de uma arquitetura orientada a microsserviços&quot;
        title=&quot;Uma visão muito simplista de uma arquitetura baseada em microsserviços (jaxenter.com)&quot;
        src=&quot;/static/d084a44a068510bf7c7a22d87b45a69c/e5715/microservice-diagram.png&quot;
        srcset=&quot;/static/d084a44a068510bf7c7a22d87b45a69c/8514f/microservice-diagram.png 192w,
/static/d084a44a068510bf7c7a22d87b45a69c/804b2/microservice-diagram.png 384w,
/static/d084a44a068510bf7c7a22d87b45a69c/e5715/microservice-diagram.png 768w,
/static/d084a44a068510bf7c7a22d87b45a69c/4ad3a/microservice-diagram.png 1152w,
/static/d084a44a068510bf7c7a22d87b45a69c/ce92a/microservice-diagram.png 1459w&quot;
        sizes=&quot;(max-width: 768px) 100vw, 768px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Uma visão muito simplista de uma arquitetura baseada em microsserviços (jaxenter.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Não importando se as &lt;em&gt;APIs&lt;/em&gt; serão públicas ou privadas (como no exemplo do &lt;em&gt;Netflix&lt;/em&gt;), a sua necessidade é clara. Mais que isso, elas são
partes fundamentais da arquitetura em si, e proporcionam o tipo de interface e abstração que faz com que a arquitetura de microsserviços fique
cada dia mais popular, principalmente em empresas com uma grande quantidade de desenvolvedores e projetos.&lt;/p&gt;
&lt;h3&gt;Em contrapartida...&lt;/h3&gt;
&lt;p&gt;Você não é o &lt;em&gt;Netflix&lt;/em&gt;. Ou o &lt;em&gt;Google&lt;/em&gt;. Ou o &lt;em&gt;Uber&lt;/em&gt;. &lt;a href=&quot;https://m.signalvnoise.com/the-majestic-monolith/&quot;&gt;Nas palavras de &lt;em&gt;David Heinemeier Hansson&lt;/em&gt;&lt;/a&gt;,
&lt;em&gt;microservices&lt;/em&gt; é:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;(...) a great pattern. No, really. Not being sarcastic here. If you’re Amazon or Google or any other software organization with thousands of developers, it’s a wonderful way to parallelize opportunities for improvement. Each service can be its own team with its own timeline, staff, and objectives. It can evolve independently, at least somewhat, of whatever else the rest of the constellation is doing.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Todos os prós de utilizar microsserviços vêm com um preço, e reverter essa decisão não costuma ser uma das experiências mais prazerosas,
como descreve &lt;em&gt;Thomas Betts&lt;/em&gt;, no &lt;a href=&quot;https://www.infoq.com/news/2020/04/microservices-back-again/&quot; title=&quot;Leia na íntegra no InfoQ&quot;&gt;&lt;em&gt;To Microservices and Back Again - Why Segment Went Back to a Monolith&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Tive a oportunidade de trabalhar por dois anos em uma empresa que utiliza esse tipo de arquitetura, e confesso que o isolamento do teu domínio, juntamente com
a flexibilidade e controle sobre o que você está executando e entregando, é incrível. Mas sem um time de &lt;em&gt;DevOps&lt;/em&gt; para dar o devido suporte,
não consigo nem imaginar o quão traumática essa experiência poderia ser.&lt;/p&gt;
&lt;iframe src=&quot;https://www.youtube.com/embed/y8OnoxKotPQ&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;Todo o &lt;em&gt;buzz&lt;/em&gt; em volta de &lt;em&gt;SOA&lt;/em&gt; e &lt;em&gt;microservices&lt;/em&gt; fez com que automaticamente aplicações monolíticas passassem a ser &quot;o que há de pior na sua stack&quot;.
Se ontem lemos um artigo sobre todo o &lt;em&gt;lore&lt;/em&gt; dos microsserviços, &lt;a href=&quot;https://changelog.com/posts/monoliths-are-the-future&quot; title=&quot;Monoliths are the future&quot;&gt;amanhã estamos com um serrote desmembrando um monolito&lt;/a&gt;, e no fim do dia a motivação era porque não aguentamos
mais lidar com conflitos no &lt;em&gt;Git&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Se &lt;em&gt;APIs&lt;/em&gt; for pura e simplesmente um efeito colateral da decisão de &quot;provar&quot; o mundo dos microsserviços, eu volto a citar o &lt;em&gt;DHH&lt;/em&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Run a small team, not a tech behemoth? Embrace the monolith and make it majestic. You Deserve It!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Agora, se &lt;em&gt;microservices&lt;/em&gt; é a resposta para os seus problemas, &lt;em&gt;API FTW&lt;/em&gt;!&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;A motivação para esse artigo veio depois de uma palestra que dei sobre &lt;em&gt;API-First&lt;/em&gt;, no &lt;a href=&quot;https://www.youtube.com/watch?v=cx8JGC_vrM8&amp;#x26;list=PLEpW1LzVyQWhqb_OoWtURF5cfKSGof0It&amp;#x26;index=3&quot; title=&quot;API First Design and Django&quot;&gt;&lt;em&gt;DjangoDay 2020&lt;/em&gt;&lt;/a&gt;. Nos
corredores, conversei com alguns participantes do evento e sob a ótica deles eu pude ter um vislumbre do quão
&quot;desconfortável&quot; pode ser a adoção de um processo mais rígido visando a sua prática.&lt;/p&gt;
&lt;p&gt;Em um dos diálogos, a analogia com &lt;a href=&quot;/tag/tdd.html&quot; title=&quot;Leia mais sobre TDD&quot;&gt;&lt;em&gt;TDD&lt;/em&gt;&lt;/a&gt; e &lt;em&gt;test-first&lt;/em&gt; apareceu. E se por um
lado ela pode ser encarada como algo positivo, por se referir a uma excelente ferramenta de &lt;em&gt;design&lt;/em&gt; e engenharia de &lt;em&gt;software&lt;/em&gt;;
Por outro me fez refletir sobre todo o esforço e frustração que tenho até hoje em praticar &lt;em&gt;test-first&lt;/em&gt; (o que não me impede de ter cobertura de testes, e utilizar testes como ferramenta de &lt;em&gt;design&lt;/em&gt; de código).&lt;/p&gt;
&lt;p&gt;No final, é tudo uma questão de contexto (e do famigerado &quot;depende&quot;). &lt;em&gt;APIs&lt;/em&gt; nem sempre fazem parte da necessidade de projeto em seu início, mas passam a ser depois de alguns &lt;em&gt;sprints&lt;/em&gt;
e descobertas que o time vai fazendo. Portanto, dependendo do ponto específico no tempo em que seu projeto esteja, você não precisa de uma &lt;em&gt;API&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;E está tudo bem! Lembre-se que &lt;a href=&quot;https://www.exceptionnotfound.net/kiss-dry-yagni-good-code-basic-training/&quot; title=&quot;KISS, DRY, YAGNI - Good Code Basic Training&quot;&gt;&lt;em&gt;YAGNI&lt;/em&gt;&lt;/a&gt;
é um bom padrão para se ter embaixo do braço.&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/better-programming/do-not-follow-javascript-trends-ca2f0dc19ec1&quot;&gt;Better Programming - Don&apos;t follow Javascript trends&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://changelog.com/posts/monoliths-are-the-future&quot;&gt;Changelog - Monoliths are the future&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://blog.humphd.org/fool-stack-programmer/&quot;&gt;David Humphrey - How to become a Fool Stack Programmer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.freecodecamp.org/news/how-to-build-your-first-saas/&quot;&gt;FreeCodeCamp - The SaaS Handbook: How to Build Your First Software-as-a-Service Product Step-By-Step&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://hackernoon.com/how-microservices-saved-the-internet-30cd4b9c6230&quot;&gt;Hackernoon - How Microservices Saved the Internet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.infoq.com/news/2020/04/microservices-back-again/&quot;&gt;InfoQ - To Microservices and Back Again - Why Segment Went Back to a Monolith&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.lifewire.com/what-is-a-mashup-3486655&quot;&gt;Lifewire - What is a Web Mashup?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.mulesoft.com/resources/api/what-is-an-api-economy&quot;&gt;MuleSoft - What is the API Economy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.redhat.com/pt-br/topics/microservices/what-are-microservices&quot;&gt;Red Hat - O que são os microsserviços?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://m.signalvnoise.com/stimulus-1-0-a-modest-javascript-framework-for-the-html-you-already-have/&quot;&gt;Signal V. Noise - Stimulus 1.0: A modest JavaScript framework for the HTML you already have&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://m.signalvnoise.com/the-majestic-monolith/&quot;&gt;Signal V. Noise - The Majestic Monolith&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.sitepoint.com/do-you-need-an-api/&quot;&gt;Sitepoint - Do you need an API?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://macwright.com/2020/05/10/spa-fatigue.html&quot;&gt;Tom MacWright - Second-guessing the modern web&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Além do REST com GraphQL]]></title><description><![CDATA[Construir APIs virou uma das coisas mais comuns no que tange
o desenvolvimento web. Não obstante,
escolher uma biblioteca ou framework com bom suporte a REST
é parte fundamental da tomada de decisão ao iniciar um projeto. Em tempos de API-First, debater arquitetura, design, e considerar
opções deve…]]></description><link>https://klauslaube.com.br/2020/07/01/alem-do-rest-com-graphql.html</link><guid isPermaLink="false">https://klauslaube.com.br/2020/07/01/alem-do-rest-com-graphql.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Wed, 01 Jul 2020 17:17:00 GMT</pubDate><content:encoded>&lt;p&gt;Construir &lt;a href=&quot;/tag/api.html&quot; title=&quot;Leia mais sobre API&quot;&gt;&lt;em&gt;APIs&lt;/em&gt;&lt;/a&gt; virou uma das coisas mais comuns no que tange
o &lt;a href=&quot;/tag/desenvolvimento-web.html&quot; title=&quot;Leia mais sobre Desenvolvimento Web&quot;&gt;desenvolvimento &lt;em&gt;web&lt;/em&gt;&lt;/a&gt;. Não obstante,
escolher uma biblioteca ou &lt;em&gt;framework&lt;/em&gt; com bom suporte a &lt;a href=&quot;/tag/rest.html&quot; title=&quot;Leia mais sobre REST&quot;&gt;&lt;em&gt;REST&lt;/em&gt;&lt;/a&gt;
é parte fundamental da tomada de decisão ao iniciar um projeto.&lt;/p&gt;
&lt;p&gt;Em tempos de &lt;a href=&quot;/tag/api-first.html&quot; title=&quot;Leia mais sobre API-First&quot;&gt;&lt;em&gt;API-First&lt;/em&gt;&lt;/a&gt;, debater arquitetura, &lt;em&gt;design&lt;/em&gt;, e considerar
opções deve fazer parte da concepção de um produto (por mais &quot;padrãozinho&quot; que ele possa parecer). E nessa etapa,
questionar a adoção do &lt;em&gt;REST&lt;/em&gt; pode resultar em impactos positivos, dependendo do contexto e público alvo.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/dac3490bcce8498d625c88aa1a1cf667/72e01/graph.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 70.83333333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe9NQoP/xAAWEAEBAQAAAAAAAAAAAAAAAAARACD/2gAIAQEAAQUCZz//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAXEAEBAQEAAAAAAAAAAAAAAAAAEQFB/9oACAEBAAE/Id6aVER//9oADAMBAAIAAwAAABBQD//EABURAQEAAAAAAAAAAAAAAAAAABBB/9oACAEDAQE/EKf/xAAWEQADAAAAAAAAAAAAAAAAAAABEGH/2gAIAQIBAT8QFX//xAAaEAEAAwEBAQAAAAAAAAAAAAABABEhUTFh/9oACAEBAAE/EABooc2McArWA3Sz2JUbYEV237KcJ//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Grafos, árvores e florestas&quot;
        title=&quot;Grafos! Grafos everywhere! (sitepoint.com)&quot;
        src=&quot;/static/dac3490bcce8498d625c88aa1a1cf667/212bf/graph.jpg&quot;
        srcset=&quot;/static/dac3490bcce8498d625c88aa1a1cf667/7809d/graph.jpg 192w,
/static/dac3490bcce8498d625c88aa1a1cf667/4ecad/graph.jpg 384w,
/static/dac3490bcce8498d625c88aa1a1cf667/212bf/graph.jpg 768w,
/static/dac3490bcce8498d625c88aa1a1cf667/72e01/graph.jpg 1024w&quot;
        sizes=&quot;(max-width: 768px) 100vw, 768px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Grafos! Grafos everywhere! (sitepoint.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Uma das alternativas é o &lt;em&gt;GraphQL&lt;/em&gt;. E agora, com o &lt;em&gt;hype&lt;/em&gt; ao redor da tecnologia um pouco mais frio, dá para falar
sobre ela com menos paixão e mais razão.&lt;/p&gt;
&lt;h2&gt;Antes de ir: O que é REST, mesmo?&lt;/h2&gt;
&lt;p&gt;Para a comparação ficar mais rica, é fundamental que haja um entendimento sobre o que é &lt;em&gt;REST&lt;/em&gt;. Já exploramos
o conceito nos dois artigos abaixo:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2016/01/06/rest-parte-1.html&quot; title=&quot;Leia mais sobre o conceito e um comparativo com SOAP&quot;&gt;REST - Parte 1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/2016/05/20/rest-parte-2.html&quot; title=&quot;Veja uma aplicação prática com Python e Hug&quot;&gt;REST - Parte 2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ou se você preferir, o &lt;a href=&quot;https://en.wikipedia.org/wiki/Representational_state_transfer&quot; title=&quot;REST na Wikipedia&quot;&gt;artigo na &lt;em&gt;Wikipedia&lt;/em&gt;&lt;/a&gt;
é uma referência bem completa.&lt;/p&gt;
&lt;h2&gt;O que é GraphQL?&lt;/h2&gt;
&lt;p&gt;Bom, definitivamente não é mais um &lt;em&gt;framework&lt;/em&gt; &lt;a href=&quot;/tag/javascript.html&quot; title=&quot;Leia mais sobre Javascript&quot;&gt;&lt;em&gt;Javascript&lt;/em&gt;&lt;/a&gt;.
E dizer que é unicamente um &lt;em&gt;query language&lt;/em&gt; é uma afirmação incompleta.&lt;/p&gt;
&lt;p&gt;Segundo &lt;a href=&quot;https://adrianolisboa.com/o-minimo-que-voce-precisa-saber-sobre-graphql-para-nao-passar-vergonha-em-uma-conversa/&quot; title=&quot;O mínimo que você precisa saber sobre GraphQL para não passar vergonha em uma conversa&quot;&gt;&lt;em&gt;Adriano Lisboa&lt;/em&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Resumidamente, GraphQL é uma especificação open-source de uma linguagem de consulta criada pelo Facebook.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Hoje mantido pela &lt;a href=&quot;https://foundation.graphql.org/&quot; title=&quot;An open and neutral home for the GraphQL community&quot;&gt;&lt;em&gt;GraphQL Foundation&lt;/em&gt;&lt;/a&gt;, sob a licença &lt;a href=&quot;https://github.com/graphql/graphql-spec/blob/master/signed-agreements/Facebook-GraphQL-OWFa1.0.pdf&quot; title=&quot;Open Web Foundation License&quot;&gt;&lt;em&gt;OWFa 1.0&lt;/em&gt;&lt;/a&gt;, o &lt;em&gt;GraphQL&lt;/em&gt; não só é uma linguagem de consulta, como também de manipulação.&lt;/p&gt;
&lt;p&gt;É possível fazer uma analogia ao &lt;em&gt;SQL&lt;/em&gt; (Linguagem de Consulta Estruturada), que também é uma especificação que
possui diferentes implementações, e que realiza consulta e manipulação de dados. Só que ao contrário (das implementações) do &lt;em&gt;SQL&lt;/em&gt;, o &lt;em&gt;GraphQL&lt;/em&gt; não é um banco de dados em si,
como ilustra o &lt;a href=&quot;https://www.howtographql.com/basics/0-introduction/&quot; title=&quot;Basics Tutorial - Introduction&quot;&gt;&lt;em&gt;How to GraphQL&lt;/em&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;GraphQL is often confused with being a database technology. This is a misconception, GraphQL is a query language for APIs - not databases. In that sense it’s database agnostic and effectively can be used in any context where an API is used.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;E por ser uma linguagem de consulta para &lt;em&gt;APIs&lt;/em&gt;, que ela se encaixa como uma alternativa ao &lt;em&gt;REST&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;Qual a sua principal vantagem em relação ao REST?&lt;/h2&gt;
&lt;p&gt;Um dos problemas fundamentais do &lt;em&gt;REST&lt;/em&gt; é a flexibilidade do dado sendo transmitido. Quando diferentes
clientes, com diferentes necessidades, começam a consumir a sua &lt;em&gt;API&lt;/em&gt;, é possível que você enfrente um fenômeno
conhecido por &lt;em&gt;over-fetching&lt;/em&gt; e &lt;em&gt;under-fetching&lt;/em&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;over-fetching:&lt;/strong&gt; É quando você está recebendo dados demais, não necessários para o seu propósito, em sua requisição;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;under-fetching:&lt;/strong&gt; O oposto. Quando você não recebe dados o suficiente, e precisa realizar outras chamadas para cumprir o seu propósito.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f02fbf1fdad736c5ea5cd5225bac197e/f238d/graphql-rest-calls.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 81.77083333333334%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsSAAALEgHS3X78AAABtklEQVQoz2WTOY7CQBBF+4jEHIAEQY4skXIKlqP4AAgSAggQktlBbGaxGS/MU3/Tg4YfWNXV9Wv5XTYvi9vttlqt+GInSZLneZqmWZblFniiKIrj+Mfi+XwStlgszP1+x5pOp71ebzabcbfb7Yg7HA7n8xnjYRFbkI7g4/HY6XTa7bYZj8fw4fi+r5TUuVwuYRjSiKLpgivV5xgEQalUqlQqBi+NETSfz10oI+z3e/hEq3+y84XPF+d6vR4Oh0Yz52+ILENJMURO3sDGeTqdjFR5fcAxnR/DSQUYnuKMZhSx2WwGgwFSOfIn6EVPIKgyY5rlcskZ3bvdLjaNkJL0SH29XlVHaqsstO1222w2W61WoTYcBNBsDEMoasGRSDj1VFoEKpXL5VqtVghGED07tRGTd2YWnhQOHvjSD3As2v6WilL0TDtU1kM6waS23pyhzLc8qv8vqVNbX81VkOl5NBqxGNhcIwkelHMvryVxx2K3J5MJmdCZdeWsO8gwIwu3YXowAti/arXaaDQMli76/b7EoB8tM0gt1CdfhKA4lHq97nnen9rIy4VWR3+VDNWXSJpcbdPsL2GKiZKn1xBwAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Diagrama com três diferentes chamadas REST para os endpoints de perfil do usuário, artigos, e seguidores&quot;
        title=&quot;Imagine uma aplicação com a necessidade de exibir o perfil do usuário, seus artigos e seguidores, em uma mesma visualização (howtographql.com)&quot;
        src=&quot;/static/f02fbf1fdad736c5ea5cd5225bac197e/e5715/graphql-rest-calls.png&quot;
        srcset=&quot;/static/f02fbf1fdad736c5ea5cd5225bac197e/8514f/graphql-rest-calls.png 192w,
/static/f02fbf1fdad736c5ea5cd5225bac197e/804b2/graphql-rest-calls.png 384w,
/static/f02fbf1fdad736c5ea5cd5225bac197e/e5715/graphql-rest-calls.png 768w,
/static/f02fbf1fdad736c5ea5cd5225bac197e/4ad3a/graphql-rest-calls.png 1152w,
/static/f02fbf1fdad736c5ea5cd5225bac197e/71c1d/graphql-rest-calls.png 1536w,
/static/f02fbf1fdad736c5ea5cd5225bac197e/f238d/graphql-rest-calls.png 2078w&quot;
        sizes=&quot;(max-width: 768px) 100vw, 768px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Imagine uma aplicação com a necessidade de exibir o perfil do usuário, seus artigos e seguidores, em uma mesma visualização (howtographql.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Já com a flexibilidade do &lt;em&gt;GraphQL&lt;/em&gt;, é possível obter toda a informação necessária através de uma consulta, como ilustrado
no diagrama abaixo:&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/85b85e0b1d2d0b3c85bfdc060c64d58c/e405b/graphql-query.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 60.416666666666664%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABVElEQVQoz41Sy27CMBD0D/E15S/4Ci7lwP9w6JEzAiQkoFJPHEpImhg78WP9Std2EY+qFWMpstYzuzOrkP4ewfvP5vTFqVaaUso511r3f4B470MItyXwplJnYy3Wf7/eiX+XrHMU2hakFBIAstg5BxrQBVZsgjGGbDab/X5/9RYCPihvfJzqr3YA0IPz2MSZBLyQ8Xg8nU6FEMgQCcgTneCMxWkAyNMJ8E5DDZTRyetkNBotFguyWq3W6zUqu66rqqppGmSXVVkUBSqllErK6Fdp8XYIH+2xPg1fhoPBYDabkd1ut91ucyqlVNOeY85kOKfNX8zqwfU+oIXlcjmfz8uyJDiqrutIiieUglYd5YxjI3sB6qN5E1eGl5+9Wvu4bZzQWqmMxvAYpE1AHj75C3LHuLCQcCs+iFPRlMWxyJp/8DgZXQmrFWjGWHb47E+SzfRP4xvWJ7GHciyOMwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Diagrama com apenas uma requisição HTTP, utilizando GraphQL, e consultando por perfil do usuário, seus artigos e seguidores&quot;
        title=&quot;Através de uma requisição HTTP, o cliente é capaz de obter os dados na medida certa (howtographql.com)&quot;
        src=&quot;/static/85b85e0b1d2d0b3c85bfdc060c64d58c/e5715/graphql-query.png&quot;
        srcset=&quot;/static/85b85e0b1d2d0b3c85bfdc060c64d58c/8514f/graphql-query.png 192w,
/static/85b85e0b1d2d0b3c85bfdc060c64d58c/804b2/graphql-query.png 384w,
/static/85b85e0b1d2d0b3c85bfdc060c64d58c/e5715/graphql-query.png 768w,
/static/85b85e0b1d2d0b3c85bfdc060c64d58c/4ad3a/graphql-query.png 1152w,
/static/85b85e0b1d2d0b3c85bfdc060c64d58c/71c1d/graphql-query.png 1536w,
/static/85b85e0b1d2d0b3c85bfdc060c64d58c/e405b/graphql-query.png 1566w&quot;
        sizes=&quot;(max-width: 768px) 100vw, 768px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Através de uma requisição HTTP, o cliente é capaz de obter os dados na medida certa (howtographql.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Vale lembrar que existe complementos ao &lt;em&gt;REST&lt;/em&gt; que possibilitam uma maior flexibilidade do
&lt;em&gt;payload&lt;/em&gt; (como por exemplo, passar quais campos você quer coletar através de &lt;em&gt;query string&lt;/em&gt;),
ainda assim é necessário salientar a legibilidade e até mesmo elegância da consulta realizada no exemplo acima.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://dev.to/mshossain110/3-major-rest-api-problem-can-solve-using-graphql-1dg2&quot; title=&quot;3 major REST API problem can solve using GraphQL&quot;&gt;Leia sobre outras vantagens do &lt;em&gt;GraphQL&lt;/em&gt; em comparação ao &lt;em&gt;REST&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Qual a sua principal desvantagem em relação ao REST?&lt;/h2&gt;
&lt;p&gt;&quot;Cada escolha uma renúncia&quot;, já dizia o poeta.&lt;/p&gt;
&lt;p&gt;O &lt;em&gt;GraphQL&lt;/em&gt; não é bala de prata, e possui desvantagens quando comparado ao &lt;em&gt;REST&lt;/em&gt;. &lt;a href=&quot;https://stackoverflow.com/questions/40689858/are-there-any-disadvantages-to-graphql&quot; title=&quot;Are there any disadvantages to GraphQL?&quot;&gt;Essa &lt;em&gt;thread&lt;/em&gt; no &lt;em&gt;Stackoverflow&lt;/em&gt; lista algumas delas&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Talvez a mais popular seja a ausência de &lt;em&gt;cache built-in&lt;/em&gt;. Com &lt;em&gt;REST&lt;/em&gt;, por utilizarmos o protocolo &lt;em&gt;HTTP&lt;/em&gt;, os mecanismos
para &lt;em&gt;caching&lt;/em&gt; já estão lá. &lt;a href=&quot;/2012/05/14/o-cache-e-o-http.html&quot; title=&quot;O cache e o HTTP&quot;&gt;Dos cabeçalhos utilizados para indicar &lt;em&gt;caching&lt;/em&gt; à compreensão dos clientes&lt;/a&gt;. Diferentes recursos podem ter estratégias de &lt;em&gt;caching&lt;/em&gt; diferentes, uma
vez que eles são servidos em diferentes &lt;em&gt;endpoints&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Com o &lt;em&gt;GraphQL&lt;/em&gt; utilizamos apenas um &lt;em&gt;endpoint&lt;/em&gt;. Portanto, precisamos implementar uma camada extra de &lt;em&gt;caching&lt;/em&gt;. &lt;a href=&quot;https://graphql.org/learn/caching/&quot; title=&quot;GraphQL: Caching&quot;&gt;Nada impossível de ser alcançado&lt;/a&gt;,
mas ainda assim, uma complexidade a mais.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.moesif.com/blog/technical/graphql/REST-vs-GraphQL-APIs-the-good-the-bad-the-ugly/&quot; title=&quot;REST vs GraphQL APIs, the Good, the Bad, the Ugly&quot;&gt;Veja mais desvantagens em relação ao &lt;em&gt;REST&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Falando GraphQL&lt;/h2&gt;
&lt;p&gt;Possivelmente a melhor forma de adicionar o &lt;em&gt;GraphQL&lt;/em&gt; ao seu projeto é através de plataformas como o &lt;a href=&quot;https://www.apollographql.com/&quot; title=&quot;Simplify app development by combining APIs, databases, and microservices into a single data graph that you can query with GraphQL&quot;&gt;&lt;em&gt;Apollo&lt;/em&gt;&lt;/a&gt;, ou com a utilização de bibliotecas, como é o caso (para &lt;em&gt;servers&lt;/em&gt; em &lt;a href=&quot;/tag/django.html&quot; title=&quot;Leia mais sobre Django&quot;&gt;&lt;em&gt;Django&lt;/em&gt;&lt;/a&gt;) da &lt;a href=&quot;https://github.com/graphql-python/graphene-django&quot; title=&quot;A Django integration for Graphene&quot;&gt;&lt;em&gt;graphene-django&lt;/em&gt;&lt;/a&gt; e
(para &lt;em&gt;clients&lt;/em&gt; em &lt;em&gt;Javascript&lt;/em&gt;) da &lt;a href=&quot;https://relay.dev/&quot; title=&quot;The production-ready GraphQL client for React&quot;&gt;&lt;em&gt;Relay&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7f843a01006d17649701911547d17fd0/0d1a4/graphql-apollo-serverless-architecture.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.166666666666664%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABoUlEQVQoz51TS0oDQRDNGbyG4A3EvRs3bkRcCW70COpCVwqeQPCDEncqgjsR8ZNAJAn5aETURIbESTKDmu6enp6ZnmfPxGg+KmpB0VRV9+PVq+oI/mC+7/fkHJtCMOO9DkSCSy1vf/RdnnMOxigsxsC4g9juPGLrIxC0FtYj3Qw6vBtYOaEUruvC81xIVb9P7eHudEUxbTQBHccBeXmBEOJXbTPS6IjLBkWuaLYYIcIsC9knA+ZrA9LzFLAdMitmDhHfHgepFiBVwlM5PXGA/OIwXq/P4IQKeJhYiGJgegcVkzUZBi1c3JbwVDMgbFtpQ0EtBzeX+4htT6BaSoMLF6RM8LC/hdTsEJ4zR7AUohQWxuY20T+1gbJJm4CByFe5LAghHVpWa3UkkynU6nUElEVch515hl6vQsrPaT9qFSTSeXVHfj+UwKSUMAwzPMNYsfZtV7G1P1YksPOchrXjOxBVCwG71+OrfWuPG0prS+lucaW1yzE4s4q+yQOcFIyvAX/cQ7/JPNgMoTwYylL0DKPLJ9BM3tvyv36K4NAr2kf9DcTDRouucaRUAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Diagrama exibindo uma arquitetura com Serverless e Apollo Platform&quot;
        title=&quot;Exemplo de arquitetura GraphQL e Serverless com Apollo-Server-Lambda (serverless.com)&quot;
        src=&quot;/static/7f843a01006d17649701911547d17fd0/e5715/graphql-apollo-serverless-architecture.png&quot;
        srcset=&quot;/static/7f843a01006d17649701911547d17fd0/8514f/graphql-apollo-serverless-architecture.png 192w,
/static/7f843a01006d17649701911547d17fd0/804b2/graphql-apollo-serverless-architecture.png 384w,
/static/7f843a01006d17649701911547d17fd0/e5715/graphql-apollo-serverless-architecture.png 768w,
/static/7f843a01006d17649701911547d17fd0/0d1a4/graphql-apollo-serverless-architecture.png 1036w&quot;
        sizes=&quot;(max-width: 768px) 100vw, 768px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Exemplo de arquitetura GraphQL e Serverless com Apollo-Server-Lambda (serverless.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Por tratar-se de uma especificação, implementações existirão para diferentes linguagens, arquiteturas, e fins (o próprio &lt;a href=&quot;https://www.gatsbyjs.org/&quot; title=&quot;Fast in every way that matters&quot;&gt;&lt;em&gt;Gatsby&lt;/em&gt;&lt;/a&gt; é um bom exemplo).&lt;/p&gt;
&lt;p&gt;Não vamos focar em como desenvolver sua &lt;em&gt;API&lt;/em&gt; com &lt;em&gt;GraphQL&lt;/em&gt;, e sim em como utilizar a &lt;em&gt;query language&lt;/em&gt;. &lt;a href=&quot;https://github.com/APIs-guru/graphql-apis&quot; title=&quot;Public GraphQL APIs&quot;&gt;Esse repositório no &lt;em&gt;Github&lt;/em&gt;&lt;/a&gt;
disponibiliza algumas &lt;em&gt;APIs&lt;/em&gt; públicas na qual podemos utilizar para exercitar esse &lt;em&gt;skill&lt;/em&gt;. A &lt;a href=&quot;https://github.com/lucasbento/graphql-pokemon&quot; title=&quot;Visite o repositório&quot;&gt;&lt;em&gt;GraphQL Pokémon&lt;/em&gt;&lt;/a&gt; parece
uma boa candidata para este momento do artigo.&lt;/p&gt;
&lt;h3&gt;Tipos&lt;/h3&gt;
&lt;p&gt;Partimos do princípio que queremos definir os tipos que serão servidos pela nossa &lt;em&gt;API&lt;/em&gt;. O &lt;em&gt;GraphQL&lt;/em&gt; possui uma sintaxe específica para definição de tipos chamada &lt;em&gt;Schema Definition Language&lt;/em&gt; (&lt;em&gt;SDL&lt;/em&gt;). No caso
do exemplo do &lt;em&gt;Pokémon&lt;/em&gt;, temos o seguinte:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;graphql&quot;&gt;&lt;pre class=&quot;language-graphql&quot;&gt;&lt;code class=&quot;language-graphql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Pokemon&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ID&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; String
  &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; String
  &lt;span class=&quot;token attr-name&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PokemonDimension
  &lt;span class=&quot;token attr-name&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PokemonDimension
  &lt;span class=&quot;token attr-name&quot;&gt;classification&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; String
  &lt;span class=&quot;token attr-name&quot;&gt;types&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;String&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;resistant&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;String&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;attacks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PokemonAttack
  &lt;span class=&quot;token attr-name&quot;&gt;weaknesses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;String&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;fleeRate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Float
  &lt;span class=&quot;token attr-name&quot;&gt;maxCP&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Int
  &lt;span class=&quot;token attr-name&quot;&gt;evolutions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Pokemon&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;evolutionRequirements&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PokemonEvolutionRequirement
  &lt;span class=&quot;token attr-name&quot;&gt;maxHP&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Int
  &lt;span class=&quot;token attr-name&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; String
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/lucasbento/graphql-pokemon/blob/master/schemas/schema.graphql&quot; title=&quot;Veja o arquivo no Github&quot;&gt;Veja o &lt;em&gt;schema&lt;/em&gt; na íntegra&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Para quem já teve o mínimo contato com &lt;a href=&quot;/tag/swagger.html&quot; title=&quot;Leia mais sobre Swagger&quot;&gt;&lt;em&gt;Swagger&lt;/em&gt;&lt;/a&gt;, a sintaxe acima não é estranha. A estrutura consiste em basicamente
&lt;code class=&quot;language-text&quot;&gt;field: type&lt;/code&gt;. Onde em &lt;code class=&quot;language-text&quot;&gt;field&lt;/code&gt; damos o nome do campo, e &lt;code class=&quot;language-text&quot;&gt;type&lt;/code&gt; descrevemos o tipo.&lt;/p&gt;
&lt;p&gt;Além dos tipos básicos
(como &lt;code class=&quot;language-text&quot;&gt;String&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;ID&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Int&lt;/code&gt;), temos estruturas mais complexas, como as listas &lt;code class=&quot;language-text&quot;&gt;[String]&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;[Pokemon]&lt;/code&gt;. &lt;code class=&quot;language-text&quot;&gt;PokemonDimension&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;PokemonAttack&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;PokemonEvolutionRequirement&lt;/code&gt;,
são tipos customizados criados com a mesma sintaxe usada no próprio &lt;code class=&quot;language-text&quot;&gt;Pokemon&lt;/code&gt;. Por exemplo, na linha &lt;code class=&quot;language-text&quot;&gt;evolutions: [Pokemon]&lt;/code&gt;, está expresso o relacionamento
de um &lt;code class=&quot;language-text&quot;&gt;Pokemon&lt;/code&gt; para muitas evoluções (que tratam-se de outras &quot;instâncias&quot; do tipo &lt;code class=&quot;language-text&quot;&gt;Pokemon&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Por fim, vale notar o &lt;code class=&quot;language-text&quot;&gt;!&lt;/code&gt; em &lt;code class=&quot;language-text&quot;&gt;ID&lt;/code&gt;, que anota o campo como &lt;code class=&quot;language-text&quot;&gt;required&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;Consulta&lt;/h3&gt;
&lt;p&gt;Todas as &lt;em&gt;queries&lt;/em&gt; abaixo podem ser reproduzidas na interface &lt;a href=&quot;https://graphql-pokemon.now.sh/&quot; title=&quot;Execute as queries agora!&quot;&gt;&lt;em&gt;Pokémon GraphiQL&lt;/em&gt;&lt;/a&gt;. Ou ainda,
se você preferir, através de &lt;em&gt;API calls&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Para aquecer, vamos visualizar o &lt;em&gt;schema&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;graphql&quot;&gt;&lt;pre class=&quot;language-graphql&quot;&gt;&lt;code class=&quot;language-graphql&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  __schema &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    types &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      name
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ou utilizando o &lt;code class=&quot;language-text&quot;&gt;curl&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl &amp;#39;https://graphql-pokemon.now.sh/?&amp;#39; \
  -H &amp;#39;content-type: application/json&amp;#39; \
  --data-binary &amp;#39;{&amp;quot;query&amp;quot;:&amp;quot;{ __schema { types{ name } } }&amp;quot;, &amp;quot;variables&amp;quot;:null, &amp;quot;operationName&amp;quot;:null}&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Como resultado teremos o seguinte:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;__schema&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;types&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Query&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Int&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Pokemon&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ID&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;String&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;PokemonDimension&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;PokemonAttack&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Attack&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Float&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;PokemonEvolutionRequirement&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;__Schema&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;__Type&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;__TypeKind&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Boolean&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;__Field&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;__InputValue&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;__EnumValue&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;__Directive&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;__DirectiveLocation&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Através do &lt;code class=&quot;language-text&quot;&gt;__schema&lt;/code&gt; descobrimos quais tipos são utilizados pelo servidor. Não muito útil para o propósito desse artigo,
mas ainda assim, uma boa forma de olharmos pela primeira vez para uma resposta. Além do fato dela ser em &lt;em&gt;JSON&lt;/em&gt;, repare o &quot;envelopamento&quot;
do &lt;em&gt;payload&lt;/em&gt; através da chave &lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Para compreender os tipos listados acima, podemos utilizar outra ferramenta de introspecção, chamada &lt;code class=&quot;language-text&quot;&gt;__type&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;graphql&quot;&gt;&lt;pre class=&quot;language-graphql&quot;&gt;&lt;code class=&quot;language-graphql&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  __type&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ID&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    name
    kind
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;E como resposta, temos a descrição do tipo &lt;code class=&quot;language-text&quot;&gt;ID&lt;/code&gt; como &lt;code class=&quot;language-text&quot;&gt;SCALAR&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;__type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ID&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;kind&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;SCALAR&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vamos listar todos os 151 &lt;em&gt;Pokémons&lt;/em&gt; originais:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;graphql&quot;&gt;&lt;pre class=&quot;language-graphql&quot;&gt;&lt;code class=&quot;language-graphql&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  pokemons&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token attr-name&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;151&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    name
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A resposta será algo semelhante com o &lt;em&gt;JSON&lt;/em&gt; abaixo:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;pokemons&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Bulbasaur&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

      (...)

      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Mew&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Com o parâmetro &lt;code class=&quot;language-text&quot;&gt;first&lt;/code&gt;, estamos solicitando todos os &lt;code class=&quot;language-text&quot;&gt;n&lt;/code&gt; primeiros resultados. Essa &lt;em&gt;query&lt;/em&gt; é declarada na linha &lt;code class=&quot;language-text&quot;&gt;88&lt;/code&gt; do &lt;code class=&quot;language-text&quot;&gt;schema.graphql&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;graphql&quot;&gt;&lt;pre class=&quot;language-graphql&quot;&gt;&lt;code class=&quot;language-graphql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Query&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Query
  &lt;span class=&quot;token attr-name&quot;&gt;pokemons&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token attr-name&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Pokemon&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;pokemon&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Pokemon
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Com o &lt;code class=&quot;language-text&quot;&gt;type Query&lt;/code&gt; estamos expressando quais serão as consultas que poderemos executar. Em &lt;code class=&quot;language-text&quot;&gt;pokemons&lt;/code&gt;, o atributo &lt;code class=&quot;language-text&quot;&gt;first&lt;/code&gt; é do tipo inteiro e obrigatório.
A sua resposta será uma lista de instâncias do tipo &lt;code class=&quot;language-text&quot;&gt;Pokemon&lt;/code&gt;. É possível também requisitar um &lt;em&gt;Pokémon&lt;/em&gt; através do seu &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt; ou &lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt;, como
explícito na instrução &lt;code class=&quot;language-text&quot;&gt;pokemon&lt;/code&gt;, dentro do bloco &lt;code class=&quot;language-text&quot;&gt;Query&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;graphql&quot;&gt;&lt;pre class=&quot;language-graphql&quot;&gt;&lt;code class=&quot;language-graphql&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  pokemon&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Pikachu&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    id
    number
    name
    weight &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      maximum
      minimum
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    height &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      maximum
      minimum
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    classification
    types
    resistant
    attacks &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      fast &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        name
        &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;damage&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      special &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        name
        &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;damage&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    weaknesses
    fleeRate
    maxCP
    evolutions &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      id
      number
      name
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    evolutionRequirements &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      amount
      name
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    maxHP
    image
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;E como resultado teremos todos os dados do nosso queridíssimo &lt;em&gt;Pikachu&lt;/em&gt;.&lt;/p&gt;
&lt;h3&gt;Mutações&lt;/h3&gt;
&lt;p&gt;Além de requisitar informação, podemos também manusear dados. Isso é realizado através do conceito de &lt;em&gt;Mutations&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Para esse exemplo vamos utilizar a &lt;a href=&quot;https://graphql.jobs/docs/api/&quot; title=&quot;Veja o projeto rodando&quot;&gt;&lt;em&gt;GraphQL Jobs API&lt;/em&gt;&lt;/a&gt;, acessível
através &lt;a href=&quot;https://api.graphql.jobs/&quot; title=&quot;Veja o Playground do projeto&quot;&gt;dessa interface&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Vamos dar &lt;code class=&quot;language-text&quot;&gt;subscribe&lt;/code&gt; na &lt;em&gt;API&lt;/em&gt;, para que assim possamos receber propostas de empregos que envolvam &lt;em&gt;GraphQL&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;graphql&quot;&gt;&lt;pre class=&quot;language-graphql&quot;&gt;&lt;code class=&quot;language-graphql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;mutation&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  subscribe&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token attr-name&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&amp;lt;seu-nome&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&amp;lt;seu-email&gt;&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    id
    name
    email
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Como resposta, temos um &lt;em&gt;JSON&lt;/em&gt; com &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;email&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;subscribe&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ckc3r7uqs004w0725u5sf0g1o&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;John Doe&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;email&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;myamazingemail@mail.com&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ok... Aqui pode ter ficado um pouco confuso. Vamos verificar quais &lt;em&gt;Mutations&lt;/em&gt; temos disponíveis:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;graphql&quot;&gt;&lt;pre class=&quot;language-graphql&quot;&gt;&lt;code class=&quot;language-graphql&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  __schema &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    mutationType &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      fields &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        name
        args &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          name
          &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            kind
            ofType &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              name
              kind
              inputFields &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                name
                &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                  ofType &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    name
                  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          kind
          ofType &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            name
            fields &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              name
              &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                kind
                ofType &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                  name
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;O resultado, de forma resumida, será o seguinte:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;__schema&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;mutationType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;fields&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;subscribe&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;args&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;input&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                  &lt;span class=&quot;token property&quot;&gt;&quot;kind&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;NON_NULL&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                  &lt;span class=&quot;token property&quot;&gt;&quot;ofType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;SubscribeInput&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;token property&quot;&gt;&quot;kind&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;INPUT_OBJECT&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;token property&quot;&gt;&quot;inputFields&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                          &lt;span class=&quot;token property&quot;&gt;&quot;ofType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                            &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;String&quot;&lt;/span&gt;
                          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;email&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                          &lt;span class=&quot;token property&quot;&gt;&quot;ofType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                            &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;String&quot;&lt;/span&gt;
                          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;token property&quot;&gt;&quot;kind&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;NON_NULL&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
              &lt;span class=&quot;token property&quot;&gt;&quot;ofType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;User&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token property&quot;&gt;&quot;fields&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                      &lt;span class=&quot;token property&quot;&gt;&quot;kind&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;NON_NULL&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                      &lt;span class=&quot;token property&quot;&gt;&quot;ofType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ID&quot;&lt;/span&gt;
                      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                      &lt;span class=&quot;token property&quot;&gt;&quot;kind&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;SCALAR&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                      &lt;span class=&quot;token property&quot;&gt;&quot;ofType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token null keyword&quot;&gt;null&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;email&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                      &lt;span class=&quot;token property&quot;&gt;&quot;kind&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;NON_NULL&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                      &lt;span class=&quot;token property&quot;&gt;&quot;ofType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;String&quot;&lt;/span&gt;
                      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;subscribe&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                      &lt;span class=&quot;token property&quot;&gt;&quot;kind&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;NON_NULL&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                      &lt;span class=&quot;token property&quot;&gt;&quot;ofType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Boolean&quot;&lt;/span&gt;
                      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;createdAt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                      &lt;span class=&quot;token property&quot;&gt;&quot;kind&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;NON_NULL&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                      &lt;span class=&quot;token property&quot;&gt;&quot;ofType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;DateTime&quot;&lt;/span&gt;
                      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;updatedAt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                      &lt;span class=&quot;token property&quot;&gt;&quot;kind&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;NON_NULL&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                      &lt;span class=&quot;token property&quot;&gt;&quot;ofType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;DateTime&quot;&lt;/span&gt;
                      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A &lt;em&gt;query&lt;/em&gt; ficou um pouco mais clara agora. A &lt;em&gt;Mutation&lt;/em&gt; &lt;code class=&quot;language-text&quot;&gt;subscribe&lt;/code&gt; aceita um parâmetro com nome &lt;code class=&quot;language-text&quot;&gt;input&lt;/code&gt;, do
tipo &lt;code class=&quot;language-text&quot;&gt;SubscribeInput&lt;/code&gt;. Esse, além de ser obrigatório (&lt;code class=&quot;language-text&quot;&gt;NON_NULL&lt;/code&gt;), possui dois campos: &lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;email&lt;/code&gt;. Isso
explica a linha &lt;code class=&quot;language-text&quot;&gt;subscribe(input: { name: &amp;quot;&amp;lt;seu-nome&amp;gt;&amp;quot;, email: &amp;quot;&amp;lt;seu-email&amp;gt;&amp;quot; }) {&lt;/code&gt;, na consulta anterior.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;subscribe&lt;/code&gt; retorna um tipo &lt;code class=&quot;language-text&quot;&gt;User&lt;/code&gt;, também obrigatório. Esse tipo possui os campos &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;subscribe&lt;/code&gt;,
&lt;code class=&quot;language-text&quot;&gt;createdAt&lt;/code&gt;, e &lt;code class=&quot;language-text&quot;&gt;updatedAt&lt;/code&gt;. Como especificamos dentro do bloco &lt;code class=&quot;language-text&quot;&gt;subscribe&lt;/code&gt; os campos &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt;, e &lt;code class=&quot;language-text&quot;&gt;email&lt;/code&gt;,
esse é o resultado que obtemos no &lt;em&gt;JSON&lt;/em&gt; de resposta. Que representa a &lt;em&gt;subscription&lt;/em&gt; sendo efetuada, e meus
dados como usuário sendo retornados.&lt;/p&gt;
&lt;h3&gt;Por baixo dos panos&lt;/h3&gt;
&lt;p&gt;Existem outros conceitos não explorados nesse artigo, como por exemplo as &lt;a href=&quot;https://www.digitalocean.com/community/tutorials/graphql-mutations-subscriptions&quot; title=&quot;Mutations and Subscriptions in GraphQL&quot;&gt;&lt;em&gt;Subscriptions&lt;/em&gt;&lt;/a&gt;. O que
pode estar confuso para você é como que o servidor interpreta o &lt;em&gt;GraphQL&lt;/em&gt;, e coleta os dados para formar
a resposta da requisição.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4a6836ebc99a7bcc07a68b5400d3863e/e5166/detective-pikachu.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.041666666666664%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQCAwX/xAAWAQEBAQAAAAAAAAAAAAAAAAABAAL/2gAMAwEAAhADEAAAAcdpWWWsBv/EABsQAAIBBQAAAAAAAAAAAAAAAAECAwAQERIh/9oACAEBAAEFAgMvNxHOzLUhJt//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAWEQADAAAAAAAAAAAAAAAAAAAQESH/2gAIAQIBAT8BVH//xAAbEAABBAMAAAAAAAAAAAAAAAARAAEQIUFRgf/aAAgBAQAGPwLqvaIEW+Xj/8QAGhAAAwADAQAAAAAAAAAAAAAAAAExESFRYf/aAAgBAQABPyF6FVyZWZCdV4RpC4Psx0//2gAMAwEAAgADAAAAEHcv/8QAFxEAAwEAAAAAAAAAAAAAAAAAARARIf/aAAgBAwEBPxC4V//EABYRAQEBAAAAAAAAAAAAAAAAAAEQEf/aAAgBAgEBPxB0J//EABsQAQEAAwADAAAAAAAAAAAAAAERACExQVGh/9oACAEBAAE/EBeQhVpqYQxTyprsfeLBSF2H3E9E46xuQwKM2YQ4M//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Imagem do filme Detective Pikachu, mostrando o Pikachu com uma lupa&quot;
        title=&quot;Será que conseguimos encontrar um emprego de detetive, para Pokémons, utilizando GraphQL? (www.geekgirlauthority.com/)&quot;
        src=&quot;/static/4a6836ebc99a7bcc07a68b5400d3863e/212bf/detective-pikachu.jpg&quot;
        srcset=&quot;/static/4a6836ebc99a7bcc07a68b5400d3863e/7809d/detective-pikachu.jpg 192w,
/static/4a6836ebc99a7bcc07a68b5400d3863e/4ecad/detective-pikachu.jpg 384w,
/static/4a6836ebc99a7bcc07a68b5400d3863e/212bf/detective-pikachu.jpg 768w,
/static/4a6836ebc99a7bcc07a68b5400d3863e/5ef17/detective-pikachu.jpg 1152w,
/static/4a6836ebc99a7bcc07a68b5400d3863e/e5166/detective-pikachu.jpg 1200w&quot;
        sizes=&quot;(max-width: 768px) 100vw, 768px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Será que conseguimos encontrar um emprego de detetive, para Pokémons, utilizando GraphQL? (www.geekgirlauthority.com/)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Comigo o &quot;click&quot; aconteceu depois de checar o código dos repositórios abaixo:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/lucasbento/graphql-pokemon&quot; title=&quot;Confira o repositório no Github&quot;&gt;lucasbento/graphql-pokemon&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/igorlima/todo-mongo-graphql-server&quot; title=&quot;Confira o repositório no Github&quot;&gt;igorlima/todo-mongo-graphql-server&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Não é feitiçaria...&lt;/p&gt;
&lt;h2&gt;Então devo adotar o GraphQL?&lt;/h2&gt;
&lt;p&gt;Possivelmente. E isso não significa necessariamente abandonar o &lt;em&gt;REST&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;A retórica do &quot;GraphQL ser o substituto do REST&quot;, inclusive, foi um dos motivos do meu ceticismo em relação ao mesmo por muito tempo.&lt;/p&gt;
&lt;p&gt;Uma das análises mais sóbrias que encontrei foi da &lt;a href=&quot;https://www.thoughtworks.com/radar/languages-and-frameworks/graphql&quot; title=&quot;Technology Radar&quot;&gt;&lt;em&gt;ThoughtWorks&lt;/em&gt;&lt;/a&gt;, que categoriza o &lt;em&gt;GraphQL&lt;/em&gt; como &lt;code class=&quot;language-text&quot;&gt;ASSESS&lt;/code&gt; (ou seja, recomendada a exploração para compreender
como ele impactará o seu &lt;em&gt;business&lt;/em&gt;):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We&apos;ve seen many successful GraphQL implementations on our projects. We&apos;ve seen some interesting patterns of use too, including GraphQL for server-side resource aggregation. That said, we&apos;ve concerns about misuse of this framework and some of the problems that can occur. Examples include performance gotchas around N+1 queries and lots of boilerplate code needed when adding new models, leading to complexity. There are workarounds to these gotchas such as query caching. Even though it&apos;s not a silver bullet, we still think it&apos;s worth assessing as part of your architecture.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Se o seu produto compartilha do mesmo contexto do &lt;em&gt;Facebook&lt;/em&gt;, de ter controle total do &lt;em&gt;backend&lt;/em&gt; e do
&lt;em&gt;client&lt;/em&gt; (&lt;em&gt;web&lt;/em&gt; e &lt;em&gt;mobile&lt;/em&gt;), utilizar o &lt;em&gt;GraphQL&lt;/em&gt; faz muito sentido. Ou ainda, se a sua motivação for de reduzir o número de chamadas &lt;em&gt;HTTP&lt;/em&gt;, assim como foi a do
&lt;em&gt;Github&lt;/em&gt;, é um argumento completamente válido para a adoção da linguagem.&lt;/p&gt;
&lt;p&gt;O que talvez precise ficar claro na sua tomada de decisão é que um não substitui o outro completamente, como afirma
&lt;a href=&quot;https://www.programmableweb.com/news/just-because-github-has-graphql-api-doesnt-mean-you-should-too/analysis/2016/09/21&quot; title=&quot;Just Because Github Has a GraphQL API Doesn’t Mean You Should Too&quot;&gt;&lt;em&gt;Mike Stowe, no ProgrammableWeb&lt;/em&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;However, that does not mean that in GitHub’s case, pushing out a public GraphQL API was the right choice. In an effort to reduce calls, they are giving up the very layers of flexibility that I believe will drive future APIs. In essence, they chose a solution to one problem they were facing, but in doing so disregarded solutions for the problems REST was designed to solve (...)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Dependendo da sua &lt;em&gt;stack&lt;/em&gt;, disponibilizar os dois formatos não é nenhum sacrifício. Aliás, ter o &lt;em&gt;GraphQL&lt;/em&gt; como uma
espécie de &lt;em&gt;API Gateway&lt;/em&gt;, agregando o resultado de demais &lt;em&gt;endpoints&lt;/em&gt; &lt;em&gt;REST&lt;/em&gt; &lt;a href=&quot;https://levelup.gitconnected.com/graphql-is-the-new-api-gateway-383edeed4bcd&quot; title=&quot;GraphQL is the New API Gateway&quot;&gt;parece ser uma tendência&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7de39de94c321c5ef5ad1991b63fc1ee/e8950/graphql-api-gateway.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABZklEQVQoz4VRXW8TMRC8//+GEIhfg3hBRaSUBySq43pqm0Caj8udY3s/vONesUlUCfrAarWatWfWq3Fjp0iGbPGAoatJo7G34aZiPhq5Mw574LGST9GctWqPT7a+ypdv5s+v5s03TPf48m4u7XiLfYvLt/Pi9by6yPNTJf8lfo5yIdGUazJlJiSxJNBY6j/cF2LDnxHJEsCdo86JKkXWMhX/FZ8iw6LQ+yV/WC37u+v2um1b7z2AF2KcF64PpupHBWqh96EPIiosRFTA6fxZ0liuvSqgyAT1JgGxuO2QQhaX2WUaITGnAERDsUBRRwBNmjh+3KQhrom7LTko3zj+tIsmt45WTghCF1vpp8G02/FWJO0jFcmRG53YL36lkTYx/ng4hJzoboxXD6Ta78f7YWLV+HUjSzcm+f5ztw0hHaJfrNVxU7b3HBLK+la+JReTVQLHAspyUM3IrFwMyYWqglQ9OVIo9TePzzpP+VoO0QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Topologia de serviços quando adicionado GraphQL como API Gateway&quot;
        title=&quot;Exemplo de uso de GraphQL como API Gateway, à frente de outras APIs GraphQL e REST (labs.getninjas.com.br)&quot;
        src=&quot;/static/7de39de94c321c5ef5ad1991b63fc1ee/e5715/graphql-api-gateway.png&quot;
        srcset=&quot;/static/7de39de94c321c5ef5ad1991b63fc1ee/8514f/graphql-api-gateway.png 192w,
/static/7de39de94c321c5ef5ad1991b63fc1ee/804b2/graphql-api-gateway.png 384w,
/static/7de39de94c321c5ef5ad1991b63fc1ee/e5715/graphql-api-gateway.png 768w,
/static/7de39de94c321c5ef5ad1991b63fc1ee/4ad3a/graphql-api-gateway.png 1152w,
/static/7de39de94c321c5ef5ad1991b63fc1ee/71c1d/graphql-api-gateway.png 1536w,
/static/7de39de94c321c5ef5ad1991b63fc1ee/e8950/graphql-api-gateway.png 2000w&quot;
        sizes=&quot;(max-width: 768px) 100vw, 768px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Exemplo de uso de GraphQL como API Gateway, à frente de outras APIs GraphQL e REST (labs.getninjas.com.br)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;Para mim, a linguagem brilhou quando migrei o &lt;em&gt;blog&lt;/em&gt; para &lt;a href=&quot;https://www.gatsbyjs.org/&quot; title=&quot;GatsbyJS&quot;&gt;&lt;em&gt;Gatsby&lt;/em&gt;&lt;/a&gt;. A flexibilidade e assertividade que ela me proporcionou,
mesmo em um ambiente de &lt;a href=&quot;/tag/static-site-generators.html&quot; title=&quot;Leia mais sobre sites estáticos&quot;&gt;&lt;em&gt;static site generator&lt;/em&gt;&lt;/a&gt;, me deixou impressionado e até mesmo apaixonado por toda a ideia por trás da tecnologia.&lt;/p&gt;
&lt;p&gt;E esse caso de uso, na minha opinião, é motivação o suficiente para pelo menos compreendermos a linguagem.
Se há ceticismo em relação ao uso dela em uma solução que já existe, talvez ele dê uma abrandada quando
você experimentá-la em um contexto diferente.&lt;/p&gt;
&lt;p&gt;Como o livro &lt;a href=&quot;https://www.goodreads.com/book/show/40861856-graphql-or-bust&quot; title=&quot;Veja no Goodreads&quot;&gt;&quot;GraphQL or Bust: To Use It Or Not: That is the Question&quot;&lt;/a&gt; dá a entender, não tem almoço grátis:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;GraphQL has often been sold as a perfect solution for every problem, but the reality is that it meets one requirement better than most other, and if that’s not part of your requirements, it may not be the best solution for your implementation.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;A discussão continua nas referências abaixo. Não deixe de conferir!&lt;/p&gt;
&lt;p&gt;Até a próxima.&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://adrianolisboa.com/o-minimo-que-voce-precisa-saber-sobre-graphql-para-nao-passar-vergonha-em-uma-conversa/&quot;&gt;Adriano Lisboa: O mínimo que você precisa saber sobre GraphQL para não passar vergonha em uma conversa&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://apievangelist.com/2016/08/30/graphql-seems-like-we-do-not-want-to-do-the-hard-work-of-api-design/&quot;&gt;API Evangelist: GraphQL Seems Like We Do Not Want To Do The Hard Work Of API Design&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.apollographql.com/blog/graphql-the-next-generation-of-api-design-f24b1689756a#.6hh9mb30w&quot;&gt;Apollo Blog: GraphQL - The next generation of API design&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.digitalocean.com/community/tutorials/graphql-mutations-subscriptions&quot;&gt;Digital Ocean - Mutations and Subscriptions in GraphQL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://dzone.com/articles/graphql-core-features-architecture-pros-and-cons&quot;&gt;DZone: GraphQL - Core Features, Architecture, Pros, and Cons&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://labs.getninjas.com.br/sharing-data-in-a-microservices-architecture-using-graphql-97db59357602&quot;&gt;GetNinjas: Sharing data in a Microservices Architecture using GraphQL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://levelup.gitconnected.com/graphql-is-the-new-api-gateway-383edeed4bcd&quot;&gt;Gitconnected: GraphQL is the New API Gateway&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/APIs-guru/graphql-apis&quot;&gt;Github: Public GraphQL APIs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://blog.hitchhq.com/graphql-3-reasons-not-to-use-it-7715f60cb934#.j0xhx31xg&quot;&gt;Hitch: GraphQL - 3 reasons not to use it&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.howtographql.com/&quot;&gt;How to GraphQL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/@paigen11/what-is-graphql-really-76c48e720202&quot;&gt;Medium: What is GraphQL, really?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.moesif.com/blog/technical/graphql/REST-vs-GraphQL-APIs-the-good-the-bad-the-ugly/&quot;&gt;Moesif: REST vs GraphQL APIs, the Good, the Bad, the Ugly&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/open-graphql/moving-existing-api-from-rest-to-graphql-205bab22c184&quot;&gt;OPENGraphQL: Moving existing API from REST to GraphQL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.serverless.com/blog/running-scalable-reliable-graphql-endpoint-with-serverless/&quot;&gt;Serverless: Running a scalable &amp;#x26; reliable GraphQL endpoint with Serverless&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://stablekernel.com/article/advantages-and-disadvantages-of-graphql/&quot;&gt;Stable Kernel: Advantages and Disadvantages of GraphQL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/40689858/are-there-any-disadvantages-to-graphql&quot;&gt;Stackoverflow: Are there any disadvantages to GraphQL?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.thoughtworks.com/radar/languages-and-frameworks/graphql&quot;&gt;ThoughyWorks: Technology Radar - GraphQL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/GraphQL&quot;&gt;Wikipedia: GraphQL&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[API Blueprint: Markdown é vida!]]></title><description><![CDATA[Estamos falando sobre escrever especificações de APIs
há um bom tempo aqui no blog. RAML,
Swagger e
OpenAPI Specification já foram explorados, e
com os dois últimos encontramos um ecossistema rico com ferramentas extremamente
interessantes. Há um outro simpático player no mercado, o API Blueprint,
e…]]></description><link>https://klauslaube.com.br/2020/04/05/api-blueprint-markdown-e-vida.html</link><guid isPermaLink="false">https://klauslaube.com.br/2020/04/05/api-blueprint-markdown-e-vida.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Sun, 05 Apr 2020 07:40:00 GMT</pubDate><content:encoded>&lt;p&gt;Estamos falando sobre escrever especificações de &lt;a href=&quot;/tag/api.html&quot; title=&quot;Leia mais sobre APIs&quot;&gt;&lt;em&gt;APIs&lt;/em&gt;&lt;/a&gt;
há um bom tempo aqui no &lt;em&gt;blog&lt;/em&gt;. &lt;a href=&quot;/tag/raml.html&quot; title=&quot;Leia mais sobre RAML&quot;&gt;&lt;em&gt;RAML&lt;/em&gt;&lt;/a&gt;,
&lt;a href=&quot;/tag/swagger.html&quot; title=&quot;Leia mais sobre Swagger&quot;&gt;&lt;em&gt;Swagger&lt;/em&gt;&lt;/a&gt; e
&lt;a href=&quot;/tag/oai.html&quot; title=&quot;Leia mais sobre OpenAPI&quot;&gt;&lt;em&gt;OpenAPI Specification&lt;/em&gt;&lt;/a&gt; já foram explorados, e
com os dois últimos encontramos um ecossistema rico com ferramentas extremamente
interessantes.&lt;/p&gt;
&lt;p&gt;Há um outro simpático &lt;em&gt;player&lt;/em&gt; no mercado, o &lt;a href=&quot;https://apiblueprint.org/&quot; title=&quot;Visite a página oficial do projeto&quot;&gt;&lt;em&gt;API Blueprint&lt;/em&gt;&lt;/a&gt;,
e o &lt;em&gt;post&lt;/em&gt; de hoje é sobre essa prática ferramenta.&lt;/p&gt;
&lt;h2&gt;A menor curva de aprendizado do Oeste&lt;/h2&gt;
&lt;p&gt;Um colega de trabalho, há muito tempo atrás, me apresentou o &lt;em&gt;API Blueprint&lt;/em&gt;. Na
ótica dele, um dos aspectos mais interessantes era a escrita utilizando &lt;em&gt;Markdown&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 740px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d9895f02d96126045e65f1a5f55eadd5/07f3a/westworld-antony-hopkins.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAEDAgT/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAAB5XiY0GF//8QAHBAAAgICAwAAAAAAAAAAAAAAAAIBAxESISMx/9oACAEBAAEFAvCzsfWC0Xl4XJ//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAADAAMAAAAAAAAAAAAAAAAAAQIQMXH/2gAIAQEABj8CngjZIlj/xAAcEAACAgIDAAAAAAAAAAAAAAAAARFBIZExYXH/2gAIAQEAAT8hxJaQeQn0S20Nsj22CJzZ/9oADAMBAAIAAwAAABCjP//EABYRAAMAAAAAAAAAAAAAAAAAABARQf/aAAgBAwEBPxBwf//EABcRAQADAAAAAAAAAAAAAAAAAAEQESH/2gAIAQIBAT8QDLj/xAAaEAEBAQEBAQEAAAAAAAAAAAABEQAhMVGR/9oACAEBAAE/EEM2MxLwVxlHlMjr1Sb8ZO+EfCZLjBVPzAqsiOb/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Antony Hopkins em Westworld&quot;
        title=&quot;É um formato para máquinas? É um formato para humanos? Que diferença faz? (tvguide.com)&quot;
        src=&quot;/static/d9895f02d96126045e65f1a5f55eadd5/07f3a/westworld-antony-hopkins.jpg&quot;
        srcset=&quot;/static/d9895f02d96126045e65f1a5f55eadd5/7809d/westworld-antony-hopkins.jpg 192w,
/static/d9895f02d96126045e65f1a5f55eadd5/4ecad/westworld-antony-hopkins.jpg 384w,
/static/d9895f02d96126045e65f1a5f55eadd5/07f3a/westworld-antony-hopkins.jpg 740w&quot;
        sizes=&quot;(max-width: 740px) 100vw, 740px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;É um formato para máquinas? É um formato para humanos? Que diferença faz? (tvguide.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Sim! É verdade! Claro que utilizando o formato/extensão específico há ganhos
como &lt;em&gt;syntax highlighting&lt;/em&gt;, mas ainda assim é possível escrever a especificação de uma &lt;em&gt;API&lt;/em&gt; somente
com &lt;em&gt;Markdown&lt;/em&gt;, o que torna a leitura do documento mais amigável, e interoperável com ferramentas
como o seu editor de textos, ou o próprio &lt;em&gt;Github&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 740px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b3654afe467166066f097fd131340a36/50383/api-blueprint-github-example.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 80.20833333333334%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAABYlAAAWJQFJUiTwAAABoElEQVQoz5VTi26jMBDk///vrmpCQxUMfmH8tvEDuE1oK7WNdO1oZGy8g3dnTSOcQ1xfiWDSch25rT5t7jF3X3YVymQCm63QobEx09k/n07a6VxKqbXU9SFhd0kZmHI52DgXZqmcj9o4pe2x/Z0Qqo3lQnIxz8po663zTcoZljnn/R3bJ+x3bu/jdgQcYxNCPJ/b59P5z9+nl0vXXrr9Z7iJ4UxCKSYEDSNwHDGfVY/5QISQWilljJFSWWuVPmCUVlKpWtcmxIgJJZRRykZMMJDJYTJXqidpvfc2LO6AdcZApTeAreu6gWFuGBCjBE7FoCYYIUQgEUCPrv0AKYQQ7mowycEcxEf5TUxl5Gbkmk/TgBkicgb3ldLGQIYw45wJMRvI2zl9LwGa4lPdQezD8nIlXU8mzmJMJlTI55vhX/FmWCmZ8PkV8Z6ZkD616kvn3pbHm0MM4+TWXm69XJGsqW6/aBUU1rYtHseuu8BkWZZfiKFEqTRYwvgEfYLuPYx7LIZHXBLlE+PC+fBx6f/L2yWBD4C9oF+WVG9/T/0hQfUPlRmcUoQ5/qIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Como o documento é apresentado pelo Github&quot;
        title=&quot;Como o documento é apresentado pelo Github&quot;
        src=&quot;/static/b3654afe467166066f097fd131340a36/50383/api-blueprint-github-example.png&quot;
        srcset=&quot;/static/b3654afe467166066f097fd131340a36/8514f/api-blueprint-github-example.png 192w,
/static/b3654afe467166066f097fd131340a36/804b2/api-blueprint-github-example.png 384w,
/static/b3654afe467166066f097fd131340a36/50383/api-blueprint-github-example.png 740w&quot;
        sizes=&quot;(max-width: 740px) 100vw, 740px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Como o documento é apresentado pelo Github&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Para quem já tem um &lt;code class=&quot;language-text&quot;&gt;README.md&lt;/code&gt; em seu repositório, ter um &lt;code class=&quot;language-text&quot;&gt;api.md&lt;/code&gt; não parece ser
nenhum grande sacrifício. E dependendo do seu público alvo, ter a &quot;documentação final gerada&quot;
pode ser tão simples quanto compartilhar o &lt;em&gt;link&lt;/em&gt; da especificação no &lt;em&gt;Github&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;Mas o que é API Blueprint mesmo?&lt;/h2&gt;
&lt;p&gt;A documentação oficial o define da seguinte forma:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;(...) is simple and accessible to everybody involved in the API lifecycle. Its syntax is concise yet expressive. With API Blueprint you can quickly design and prototype APIs to be created or document and test already deployed mission-critical APIs.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Assim como os já citados &lt;em&gt;RAML&lt;/em&gt; e &lt;em&gt;Swagger&lt;/em&gt;, o &lt;em&gt;API Blueprint&lt;/em&gt; é uma linguagem de &lt;em&gt;design&lt;/em&gt; utilizada para
descrever &lt;em&gt;APIs&lt;/em&gt;. O seu propósito é o de encorajar o diálogo e colaboração, logo, uma ferramenta
mais que ideal para adoção no seu processo de &lt;em&gt;API-First&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Para ter os ganhos que citei anteriormente, o &lt;em&gt;API Blueprint&lt;/em&gt; usa um &quot;melhoramento&quot; do &lt;em&gt;Markdown&lt;/em&gt;
chamado de &lt;em&gt;MSON&lt;/em&gt; (&lt;em&gt;Markdown Syntax for Object Notation&lt;/em&gt;). É com essa notação que utilizamos a síntaxe
do &lt;em&gt;Markdown&lt;/em&gt; para descrever estruturas de dados, heranças e recursos.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/apiaryio/mson/blob/master/MSON%20Specification.md&quot; title=&quot;Leia no Github&quot;&gt;Leia a especificação do &lt;em&gt;MSON&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Começando&lt;/h2&gt;
&lt;p&gt;Voltando ao bom e velho exemplo do &lt;a href=&quot;/2016/05/20/rest-parte-2.html&quot; title=&quot;REST: Parte 2&quot;&gt;&lt;em&gt;mini IMDB&lt;/em&gt;&lt;/a&gt;, vamos criar um arquivo &lt;code class=&quot;language-text&quot;&gt;api.md&lt;/code&gt;
e pôr a mão na massa.&lt;/p&gt;
&lt;p&gt;Começamos por definir qual versão do &lt;em&gt;API Blueprint&lt;/em&gt; utilizaremos, bem como descrevendo o nome da &lt;em&gt;API&lt;/em&gt; e seu propósito:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;markdown&quot;&gt;&lt;pre class=&quot;language-markdown&quot;&gt;&lt;code class=&quot;language-markdown&quot;&gt;FORMAT: A1

&lt;span class=&quot;token title important&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;#&lt;/span&gt; Movies API&lt;/span&gt;

This is an API Blueprint example describing a movies API.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;O &lt;code class=&quot;language-text&quot;&gt;#&lt;/code&gt;, no &lt;em&gt;Markdown&lt;/em&gt;, é associado a um &quot;título de nível 1&quot;. Ou seja, o &lt;code class=&quot;language-text&quot;&gt;# Movies API&lt;/code&gt; se convertido em &lt;em&gt;HTML&lt;/em&gt; produziria um &lt;code class=&quot;language-text&quot;&gt;&amp;lt;h1&amp;gt;Movies API&amp;lt;/h1&amp;gt;&lt;/code&gt;.
Nesse caso, o &lt;code class=&quot;language-text&quot;&gt;#&lt;/code&gt; produz o título da &lt;em&gt;API&lt;/em&gt;. O &lt;code class=&quot;language-text&quot;&gt;#&lt;/code&gt; também é utilizado para agrupar recursos, mas nesse caso, ele necessita da &lt;em&gt;keyword&lt;/em&gt;
&lt;code class=&quot;language-text&quot;&gt;Group&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;markdown&quot;&gt;&lt;pre class=&quot;language-markdown&quot;&gt;&lt;code class=&quot;language-markdown&quot;&gt;FORMAT: A1

&lt;span class=&quot;token title important&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;#&lt;/span&gt; Movies API&lt;/span&gt;

This is an API Blueprint example describing a movies API.

&lt;span class=&quot;token title important&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;#&lt;/span&gt; Group Movies&lt;/span&gt;

Resources related to movies in the API.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Descrevendo recursos&lt;/h2&gt;
&lt;p&gt;O próximo passo é descrever o recurso e seus &lt;em&gt;endpoints&lt;/em&gt;. Começaremos pelo
&lt;em&gt;endpoint&lt;/em&gt; &lt;code class=&quot;language-text&quot;&gt;/movies&lt;/code&gt;. Para descrever o recurso, utilizamos o &lt;code class=&quot;language-text&quot;&gt;##&lt;/code&gt;, já a ação
é representada através de 3 &lt;em&gt;hashtags&lt;/em&gt; (&lt;code class=&quot;language-text&quot;&gt;###&lt;/code&gt;):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;markdown&quot;&gt;&lt;pre class=&quot;language-markdown&quot;&gt;&lt;code class=&quot;language-markdown&quot;&gt;(...)

&lt;span class=&quot;token title important&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;##&lt;/span&gt; Movie collection [/movies]&lt;/span&gt;

&lt;span class=&quot;token title important&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;###&lt;/span&gt; List all Movies [GET]&lt;/span&gt;

List movies in reverse order of publication.

&lt;span class=&quot;token list punctuation&quot;&gt;-&lt;/span&gt; Response 200 (application/json)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Quando o recurso &lt;code class=&quot;language-text&quot;&gt;/movies&lt;/code&gt; receber uma requisição &lt;code class=&quot;language-text&quot;&gt;GET&lt;/code&gt;, ele responderá com
o &lt;em&gt;status code&lt;/em&gt; &lt;code class=&quot;language-text&quot;&gt;200&lt;/code&gt;, e com o &lt;code class=&quot;language-text&quot;&gt;content-type&lt;/code&gt; &lt;code class=&quot;language-text&quot;&gt;application/json&lt;/code&gt;. Essa última
parte é descrita através da linha &lt;code class=&quot;language-text&quot;&gt;+ Response 200 (application/json)&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 740px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1ccb40308c7e420169072dffda7afd73/50383/api-blueprint-resource-example.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 65.625%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAABYlAAAWJQFJUiTwAAABPklEQVQoz41Sy07DMBD0L/KL3PgJkDhzqdQK1JZETdo4zsuuHceP2Bs2VBwKSuloFFn2zuwjSzjnTdO0bdv3fVVVxpjpbhClFCoZY+gihPDewzVuiaWUqEH9JT+ltPxGXdfoiF4YBAsgqEmS5HA4YDQana8hl4FtEoygJTsVBZYtpRJcdHhQSg+D1rpf5jAMhHftMd0Xebbb7lhJzxwvGmftv9Oay26FfF7t1mmeZnmntIFpCKAD9GPUy8RXHyKhOjw8fTyuqorzdyY23F247uxfbrh9Y/o1Vy+5YtoT48fPU5kci5yyrCiPJX5pmp+UsR4mF+E3A9gAWJ3DzH4c94jtFueDfcQYYpg53fzDiBAjsSFmQleMOefu3y24iDFzkia4G7gi8F+2nzlPtQ5z2RHAeG+9d+MYAO6kn9uLX99W7HtoYgL2AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Exemplo de representação do endpoint&quot;
        title=&quot;Exemplo de representação do endpoint&quot;
        src=&quot;/static/1ccb40308c7e420169072dffda7afd73/50383/api-blueprint-resource-example.png&quot;
        srcset=&quot;/static/1ccb40308c7e420169072dffda7afd73/8514f/api-blueprint-resource-example.png 192w,
/static/1ccb40308c7e420169072dffda7afd73/804b2/api-blueprint-resource-example.png 384w,
/static/1ccb40308c7e420169072dffda7afd73/50383/api-blueprint-resource-example.png 740w&quot;
        sizes=&quot;(max-width: 740px) 100vw, 740px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Exemplo de representação do endpoint&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Podemos também descrever como será o &lt;em&gt;payload&lt;/em&gt; dessa resposta.&lt;/p&gt;
&lt;h2&gt;Descrevendo os dados&lt;/h2&gt;
&lt;p&gt;É possível utilizar &lt;a href=&quot;https://json-schema.org/&quot; title=&quot;A vocabulary that allows you to annotate and validate JSON documents&quot;&gt;&lt;em&gt;JSON Schema&lt;/em&gt;&lt;/a&gt;
para descrever o &lt;em&gt;payload&lt;/em&gt; de requisições e respostas. Como ilustrado nesse exemplo tirado da documentação oficial:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;markdown&quot;&gt;&lt;pre class=&quot;language-markdown&quot;&gt;&lt;code class=&quot;language-markdown&quot;&gt;&lt;span class=&quot;token title important&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;###&lt;/span&gt; Create a New Question [POST]&lt;/span&gt;

You may create your own question using this action. It takes a JSON object
containing a question and a collection of answers in the form of choices.

&lt;span class=&quot;token list punctuation&quot;&gt;-&lt;/span&gt; Request (application/json)

  &lt;span class=&quot;token list punctuation&quot;&gt;-&lt;/span&gt; Body

&lt;span class=&quot;token code keyword&quot;&gt;          {
            &quot;question&quot;: &quot;Favourite language?&quot;
            &quot;choices&quot;: [
              &quot;Swift&quot;,
              &quot;Objective-C&quot;
            ]
          }&lt;/span&gt;

  &lt;span class=&quot;token list punctuation&quot;&gt;-&lt;/span&gt; Schema

&lt;span class=&quot;token code keyword&quot;&gt;          {
            &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,
            &quot;type&quot;: &quot;object&quot;,
            &quot;properties&quot;: {
              &quot;question&quot;: {
                &quot;type&quot;: &quot;string&quot;
              },
              &quot;choices&quot;: {
                &quot;type&quot;: &quot;array&quot;,
                &quot;items&quot;: {
                  &quot;type&quot;: &quot;string&quot;
                },
                &quot;minItems&quot;: 2
              }
            }
          }&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;O &lt;em&gt;JSON Schema&lt;/em&gt; é um vocabulário poderoso para anotar e validar documentos &lt;em&gt;JSON&lt;/em&gt;. No entanto, ele pode &quot;destoar&quot; do resto do seu documento.&lt;/p&gt;
&lt;p&gt;Há uma alternativa utilizando o próprio &lt;em&gt;MSON&lt;/em&gt;. Através da seção &lt;code class=&quot;language-text&quot;&gt;## Data structure&lt;/code&gt;, conseguimos algo semelhante com o ilustrado acima.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;markdown&quot;&gt;&lt;pre class=&quot;language-markdown&quot;&gt;&lt;code class=&quot;language-markdown&quot;&gt;(...)

&lt;span class=&quot;token title important&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;##&lt;/span&gt; Data structures&lt;/span&gt;

&lt;span class=&quot;token title important&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;###&lt;/span&gt; Movie&lt;/span&gt;

&lt;span class=&quot;token list punctuation&quot;&gt;-&lt;/span&gt; id: 810b43d0-fc0d-4199-8a79-25b471c880bf (string, required)
&lt;span class=&quot;token list punctuation&quot;&gt;-&lt;/span&gt; title: Avengers: Endgame (string, required)
&lt;span class=&quot;token list punctuation&quot;&gt;-&lt;/span&gt; description (string)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Descrevemos a estrutura &lt;code class=&quot;language-text&quot;&gt;Movie&lt;/code&gt;, informando o seu &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt; (&lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt; e obrigatória),
&lt;code class=&quot;language-text&quot;&gt;title&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;description&lt;/code&gt;. Note que este último, além de não ser obrigatório, não
possui nenhum exemplo informado (como os dois outro campos).&lt;/p&gt;
&lt;p&gt;Para associar a estrutura acima com a resposta de &lt;code class=&quot;language-text&quot;&gt;/movies&lt;/code&gt;, utilizamos
&lt;code class=&quot;language-text&quot;&gt;Attributes&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;markdown&quot;&gt;&lt;pre class=&quot;language-markdown&quot;&gt;&lt;code class=&quot;language-markdown&quot;&gt;(...)

&lt;span class=&quot;token title important&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;###&lt;/span&gt; List all Movies [GET]&lt;/span&gt;

List movies in reverse order of publication.

&lt;span class=&quot;token list punctuation&quot;&gt;-&lt;/span&gt; Response 200 (application/json)

  &lt;span class=&quot;token list punctuation&quot;&gt;-&lt;/span&gt; Attributes (array[Movie])

(...)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Com ajuda do tipo &lt;code class=&quot;language-text&quot;&gt;array&lt;/code&gt;, descrevemos o &lt;em&gt;payload&lt;/em&gt; da resposta do &lt;em&gt;endpoint&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 740px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5419a6bd7d33f1938a995e924d60cc45/50383/api-blueprint-data-example.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 132.8125%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAIAAADzvTiPAAAACXBIWXMAABYlAAAWJQFJUiTwAAACeUlEQVQ4y5VU2W7bMBDU9/Uj+9QP6UOBPhZFYddp4iS2boriTZHipa7k2C0SO3YGA4ISOeRyuMsMY4wWcM6bptFaT9OUUppuQCaE6LoOxIQQ0IPYOTeOo/ce2hjjFTFj7LA/rFIfcegPwwBRhBDiOWQg2+12RVH0fQ9T9QKllFwgLgNGMwi1qqqyLDuMIYR+Afw8LaShc46AjFFa5buqzHfPz6htKel73JlhuGobjGYdYd9XD6vH/f3TDnM5TtMQk/ZJuaj8eUoXhYvGxyyX7tOX1ecfLWb8TyfWzK+Z23C/puOK2FdcE/sTm2+F/JqLO2oy63yOcN60Fer2VV22KK+bp7xkanBpGmN6SxuSXdrMeb+5u9tsfoOzMQbv3Uw3phTfz5AIZ7YhFkw1dW2snT6CkJadt4+PZVFAVtySlYcZ3AYxhsyH0CKkjYmz+enGbWOafEyzGFWVxNgrbbTUA9eDABo7J/l7CLBzjCMXqmllVVPcYlr0tMGkZLyH5NIXAPlrnctgAS5lmj6M2TCoPbAKitCNL+GMt2EO2/nAoUSASgrJpORLtJD7Rqk5vLOAkrKjm8Vy0KysWVVX6GFX/8KkJqztaQ1z3jvzQSy0ElUtt098v0ftvu62Tbct2w0XdLjg2VEcAsTwUr0KwjXHsC9a/U8M90wpNcZAhixvy/kX5y3gjmcxuD1YC7cV45xj6dCeOsdPGH0thjNDDLrDAnWME7CKMNTPhjWLbQ1l3ZI2FRfsjdshwEvEVhuS5xW6R/2e8o7QBtwmrCG0phxBi0kBF3nObaW1tTMHMxh7oDHj0hlPn1A8p9dvVjifxeVdh3NdJ0z7nyn9BTx/E9oa47lwAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Exemplo de representação do payload&quot;
        title=&quot;Exemplo de representação do payload&quot;
        src=&quot;/static/5419a6bd7d33f1938a995e924d60cc45/50383/api-blueprint-data-example.png&quot;
        srcset=&quot;/static/5419a6bd7d33f1938a995e924d60cc45/8514f/api-blueprint-data-example.png 192w,
/static/5419a6bd7d33f1938a995e924d60cc45/804b2/api-blueprint-data-example.png 384w,
/static/5419a6bd7d33f1938a995e924d60cc45/50383/api-blueprint-data-example.png 740w&quot;
        sizes=&quot;(max-width: 740px) 100vw, 740px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Exemplo de representação do payload&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;No fim das contas, um &lt;em&gt;JSON body&lt;/em&gt; e &lt;em&gt;JSON Schema&lt;/em&gt; é gerado através dos
atributos &lt;em&gt;MSON&lt;/em&gt;. Por isso do bloco &lt;code class=&quot;language-text&quot;&gt;Schema&lt;/code&gt;, exibido na imagem acima.&lt;/p&gt;
&lt;p&gt;Visite o &lt;a href=&quot;https://apiblueprint.org/documentation/tutorial.html&quot; title=&quot;Tutorial com demais verbos&quot;&gt;tutorial do &lt;em&gt;API Blueprint&lt;/em&gt;&lt;/a&gt;
e veja como aplicar a especificação para os demais verbos &lt;em&gt;HTTP&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://gist.github.com/kplaube/8cb39a98e0a2892412f060ad6c61704b&quot; title=&quot;Veja o exemplo completo no Gist&quot;&gt;O exemplo completo pode ser conferido aqui&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;As imagens representando a especificação foram extraídas do &lt;em&gt;plugin&lt;/em&gt; &lt;a href=&quot;https://marketplace.visualstudio.com/items?itemName=develiteio.api-blueprint-viewer&quot;&gt;&lt;em&gt;API Blueprint Viewer&lt;/em&gt;&lt;/a&gt;, para o &lt;a href=&quot;/tag/vscode.html&quot; title=&quot;LEia mais sobre VS Code&quot;&gt;&lt;em&gt;VS Code&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;Na página de &lt;a href=&quot;https://apiblueprint.org/tools.html&quot; title=&quot;Visite o site oficial do API Blueprint&quot;&gt;&lt;em&gt;Tools&lt;/em&gt; do site oficial&lt;/a&gt; é
possível conhecer as diferentes ferramentas à disposição, que vão desde editores até &lt;em&gt;mock servers&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Nesse quesito, uma das ferramentas que me conquistou foi o &lt;a href=&quot;https://github.com/apiaryio/dredd&quot; title=&quot;Visite o repositório no Github&quot;&gt;&lt;em&gt;Dredd&lt;/em&gt;&lt;/a&gt;,
que é utilizado para validar especificação, e funciona tanto com o &lt;em&gt;API Blueprint&lt;/em&gt; quanto com o &lt;em&gt;OpenAPI&lt;/em&gt;. Aliás,
&lt;em&gt;OpenAPI&lt;/em&gt;/&lt;em&gt;Swagger&lt;/em&gt; ainda são &quot;campeões&quot; no quesito ferramentas disponíveis.&lt;/p&gt;
&lt;p&gt;Pela característica do &lt;em&gt;Markdown&lt;/em&gt;, e de ser relativamente mais barato de escrever, eu tive a oportunidade de utilizar o &lt;em&gt;API Blueprint&lt;/em&gt;
da seguinte forma:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Propostas de adições, remoções e alterações são escritas através de &lt;em&gt;API Blueprint&lt;/em&gt; e discutidas com os &lt;em&gt;stakeholders&lt;/em&gt;;&lt;/li&gt;
&lt;li&gt;A solução é escrita e o contrato é validado através do &lt;em&gt;Dredd&lt;/em&gt;;&lt;/li&gt;
&lt;li&gt;Mas a especificação pública é gerada através do código-fonte, com o &lt;em&gt;Swagger&lt;/em&gt;;&lt;/li&gt;
&lt;li&gt;E a partir dessa especificação é gerada a documentação final e &lt;em&gt;SDKs&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A facilidade de escrita de documentos &lt;em&gt;API Blueprint&lt;/em&gt; faz dele uma ótima opção e um &lt;em&gt;player&lt;/em&gt; mais que interessante
no cenário de &lt;em&gt;specs&lt;/em&gt; &lt;em&gt;REST&lt;/em&gt;. Um terreno ainda dominado pelo &lt;em&gt;Swagger&lt;/em&gt;...&lt;/p&gt;
&lt;p&gt;Até a próxima.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[API-First: Processo e ferramentas]]></title><description><![CDATA[No post anterior tive a oportunidade de falar
de uma forma mais abrangente sobre o API-First.
O exercício é interessante, uma vez que é possível focar no conceito,
ao invés de ferramentas e processos. Mas o objetivo
desse artigo é cairmos de cabeça em como exercitar a ideia de forma prática. O…]]></description><link>https://klauslaube.com.br/2020/03/02/api-first-processo-e-ferramentas.html</link><guid isPermaLink="false">https://klauslaube.com.br/2020/03/02/api-first-processo-e-ferramentas.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Mon, 02 Mar 2020 10:15:00 GMT</pubDate><content:encoded>&lt;p&gt;No &lt;a href=&quot;/2020/02/21/o-api-first.html&quot; title=&quot;O API-First&quot;&gt;&lt;em&gt;post&lt;/em&gt; anterior&lt;/a&gt; tive a oportunidade de falar
de uma forma mais abrangente sobre o &lt;a href=&quot;/tag/api-first.html&quot; title=&quot;Leia mais sobre API-First&quot;&gt;&lt;em&gt;API-First&lt;/em&gt;&lt;/a&gt;.
O exercício é interessante, uma vez que é possível focar no conceito,
ao invés de ferramentas e processos. Mas o objetivo
desse artigo é cairmos de cabeça em como exercitar a ideia de forma prática.&lt;/p&gt;
&lt;p&gt;O problema a ser solucionado será explicado mais abaixo, mas antes de cairmos na tentação
de pensar no &lt;em&gt;framework &lt;a href=&quot;/tag/desenvolvimento-web.html&quot; title=&quot;Leia mais sobre web&quot;&gt;web&lt;/a&gt;&lt;/em&gt;, na modelagem de dados,
em qual servidor de aplicação usar, ou em virtualizar com &lt;a href=&quot;/tag/docker.html&quot; title=&quot;Leia mais sobre Docker&quot;&gt;&lt;em&gt;Docker&lt;/em&gt;&lt;/a&gt;
e &lt;em&gt;Kubernetes&lt;/em&gt;, vamos focar primeiro na especificação.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 422px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2c76901b9a39788658f276bc3fdc012a/fa5c1/api-first-flow.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 70.3125%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAACE0lEQVQoz6WTXUvbUBjH++H8AAoFL0T03m8giNbBeqFChnSInTDohXdjY4jTrTYtXaxual/WrmkS0qYnabo2aZs0zes5Z4m2pLLdjD38eC7+PD8C/0Mi+D8mEiyEMIQhCHmOU6/VGJqWRFECALruUx4Syr4+hz8QIRYAThRFRWnKMpxdh/OYBLJ3TaHDQ3xygpJJnEy6b5L22RnOZgNI0t/o4sIkM5MGbTcaVv2n3e2GX7ZSqdbCghCNdqJRfmlpsrwMNzb0vb3mzo4Qi/Hb2714HBOvzPfvFCo/yOfM24Ld+zWV3dNTdXGxv7Y2WF3tr6xY6+ve1paTSKgHBz79/X2dILzj40kmrX+70QuUWSl5hjGVYa+HaBpzHGIYzLIeyzqiCCUJy3JAp4MAsOWOMxq6quqqimdZzwqDczyVY7ruyDJ1y7LxH3XNCo9Mu56zEQwyjmHr1Vrp/oFnucd79Pd3HsJBGwkSFkUE2p4gOUA3RrqtjR3N8Mb+Hju67mh+olnD4US1PTuU804uPnxJDAhCI47w0WuY+Kh8qEjlslQsMBRV/3pN+1C3bKEEipVOud6tTpxZYaSd2QSbMX53F7xI4ASBiZT+1jf9u893l+eF8083AVfF9F3re1X+URTvVaM3lRmX/oIuczhLokzaTZPWFac0BLXVUnlx1Jb0tqgFAE0QBk1e4RSj/6ztaWfo336M3/Cz8WcA9s4KAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Diferença de fluxos&quot;
        title=&quot;Diferença de fluxos&quot;
        src=&quot;/static/2c76901b9a39788658f276bc3fdc012a/fa5c1/api-first-flow.png&quot;
        srcset=&quot;/static/2c76901b9a39788658f276bc3fdc012a/8514f/api-first-flow.png 192w,
/static/2c76901b9a39788658f276bc3fdc012a/804b2/api-first-flow.png 384w,
/static/2c76901b9a39788658f276bc3fdc012a/fa5c1/api-first-flow.png 422w&quot;
        sizes=&quot;(max-width: 422px) 100vw, 422px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Diferença de fluxos&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Com sorte seremos capazes de produzir uma &lt;a href=&quot;/tag/api.html&quot; title=&quot;Leia mais sobre APIs&quot;&gt;&lt;em&gt;API&lt;/em&gt;&lt;/a&gt;
que atenda a necessidade dos nossos &lt;em&gt;stakeholders&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;O problema&lt;/h2&gt;
&lt;p&gt;Vamos &quot;reciclar&quot; o problema proposto no &lt;em&gt;post&lt;/em&gt; sobre &lt;a href=&quot;/2020/02/13/construindo-apis-em-django-com-django-rest-framework.html&quot; title=&quot;Construindo APIs em Django com DRF&quot;&gt;&lt;em&gt;Django REST Framework&lt;/em&gt;&lt;/a&gt;
e construir um &quot;Feedly-clone&quot;. Então, partiremos da análise do seguinte requisito funcional:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Eu como usuário,
Quero poder visualizar notícias recentes de websites que me cadastrei,
Para que assim eu fique atualizado sobre assuntos de meu interesse&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Com essa &lt;em&gt;user story&lt;/em&gt;, podemos pensar no processo que envolve a prática do &lt;em&gt;API-First&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;O processo&lt;/h2&gt;
&lt;p&gt;No &lt;a href=&quot;/2020/02/21/o-api-first.html&quot; title=&quot;O API-First&quot;&gt;&lt;em&gt;post&lt;/em&gt; anterior&lt;/a&gt; mencionei alguns passos
que não podem faltar em um contexto de &lt;em&gt;API-First&lt;/em&gt;. &lt;em&gt;Jennifer Riggins&lt;/em&gt;, no &lt;a href=&quot;https://www.programmableweb.com/news/how-to-design-great-apis-api-first-design-and-raml/how-to/2015/07/10&quot; title=&quot;Leia o artigo na íntegra&quot;&gt;&quot;How to Design Great APIs with Api-First Design&quot;&lt;/a&gt; traz uma visão mais prática sobre como o processo pode ser definido:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Planeje:&lt;/strong&gt; Mesmo antes de começar, decida o propósito do produto e comece a esboçar a &lt;em&gt;API&lt;/em&gt;;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Projete e valide:&lt;/strong&gt; Debata o conceito com outros &lt;em&gt;stakeholders&lt;/em&gt; e progrida com o &lt;em&gt;design&lt;/em&gt; da &lt;em&gt;API&lt;/em&gt;. Prove o conceito através de &lt;em&gt;mocks&lt;/em&gt; (mais a seguir) e compreenda como a &lt;em&gt;API&lt;/em&gt; será utilizada;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Oficialize a especificação:&lt;/strong&gt; Construa a especificação de acordo com o planejamento e &lt;em&gt;design&lt;/em&gt;. Gere
a documentação baseada na &lt;em&gt;spec&lt;/em&gt;, enriqueça o &lt;em&gt;mock&lt;/em&gt; com os casos de uso e faça o &lt;em&gt;release&lt;/em&gt; da mesma;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Teste:&lt;/strong&gt; Teste para garantir que a &lt;em&gt;API&lt;/em&gt; funcione. Teste para garantir que os casos de uso são atendidos.
Teste para se assegurar que nenhuma nova alteração quebrou o contrato estabelecido. E considere testes automatizados sempre que possível;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Implemente:&lt;/strong&gt; Não apenas você (&lt;em&gt;backend&lt;/em&gt;), é hora de outros &lt;em&gt;stakeholders&lt;/em&gt; (&lt;em&gt;mobile&lt;/em&gt;, por exemplo) fazerem
parte do processo de concepção. Quanto antes interagirem, mais cedo e (teoricamente) mais fácil será a reação
à mudança;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Opere e engage:&lt;/strong&gt; Publique-a! Interaja com seus clientes, aprenda com necessidades que ainda precisam ser atendidas,
e repita o processo. &lt;em&gt;API-First&lt;/em&gt; é tão sobre negócios quanto é sobre tecnologia.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 740px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/827853de225882069665ab727698912b/50383/api-first-processo.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 18.229166666666664%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAmklEQVQI13WK2QrCMBBF8/+/VvRFcCnYkmaxLRXUbJPJotP63OEwHC6HfffPOWeMqbXuBSyXEiEgRojZOLAOEDNAoHGeJyVFxOQ8YqKMZo8xWb9mAZANkxmklo+5Fe/mog/XsVMvPsierwipKTi2SzdaLnTPRa+eh9vYnNXpvrCPTxbKRvZYXawmkNc/BooJeRszNSSU0d+k/AD1l+RzfKFz7gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Exemplo de processo com o API-First&quot;
        title=&quot;Exemplo de processo com o API-First&quot;
        src=&quot;/static/827853de225882069665ab727698912b/50383/api-first-processo.png&quot;
        srcset=&quot;/static/827853de225882069665ab727698912b/8514f/api-first-processo.png 192w,
/static/827853de225882069665ab727698912b/804b2/api-first-processo.png 384w,
/static/827853de225882069665ab727698912b/50383/api-first-processo.png 740w&quot;
        sizes=&quot;(max-width: 740px) 100vw, 740px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Exemplo de processo com o API-First&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Vamos esmiuçar de forma prática cada um dos passos acima.&lt;/p&gt;
&lt;h3&gt;Antes de ir: Single source of truth&lt;/h3&gt;
&lt;p&gt;A abordagem adotada nesse &lt;em&gt;post&lt;/em&gt; seguirá valores apresentados no
&lt;a href=&quot;https://medium.com/adobetech/three-principles-of-api-first-design-fa6666d9f694&quot; title=&quot;Leia o artigo na íntegra&quot;&gt;&quot;Three Principles of API First Design&quot;&lt;/a&gt;. Mais especificamente:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Your API comes first, then the implementation&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;E nesse exemplo vamos separar especificação da implementação de forma &quot;concreta&quot;. Ou seja, serão dois artefatos
independentes.&lt;/p&gt;
&lt;p&gt;Existem alternativas a esse &lt;em&gt;approach&lt;/em&gt;, por exemplo, o uso do &lt;a href=&quot;https://github.com/axnsan12/drf-yasg&quot; title=&quot;Yet another Swagger generator&quot;&gt;&lt;em&gt;drf-yasg&lt;/em&gt;&lt;/a&gt;. Esta é uma ferramenta que gera a especificação (&lt;a href=&quot;/tag/swagger.html&quot; title=&quot;Leia mais sobre Swagger&quot;&gt;&lt;em&gt;Swagger&lt;/em&gt;&lt;/a&gt;
e &lt;a href=&quot;/tag/oai.html&quot; title=&quot;Leia mais sobre OpenApi&quot;&gt;&lt;em&gt;OpenAPI Spec&lt;/em&gt;&lt;/a&gt;) automaticamente de acordo com
o código fonte do seu projeto &lt;a href=&quot;/tag/django.html&quot; title=&quot;Leia mais sobre Django&quot;&gt;&lt;em&gt;Django&lt;/em&gt;&lt;/a&gt; (com &lt;em&gt;REST Framework&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;Algo deve ser muito claro independente do que optar: Só deve haver uma verdade absoluta; No caso desse artigo,
será a especificação escrita à parte.&lt;/p&gt;
&lt;h2&gt;1: Planeje&lt;/h2&gt;
&lt;p&gt;Vamos usar &lt;a href=&quot;/tag/rest.html&quot; title=&quot;Leia mais sobre REST&quot;&gt;&lt;em&gt;REST&lt;/em&gt;&lt;/a&gt; como padrão de comunicação entre o nosso servidor e os clientes. Portanto, poderemos utilizar &lt;em&gt;Open API Spec&lt;/em&gt;
para especificar a &lt;em&gt;API&lt;/em&gt;. Caso a solução fosse a adoção de outra tecnologia (por exemplo, &lt;em&gt;GraphQL&lt;/em&gt; ou &lt;em&gt;gRPC&lt;/em&gt;), alternativas para o passo de descrição e documentação da interface devem ser aplicadas.&lt;/p&gt;
&lt;p&gt;Além disso, seremos o mais &quot;compliant&quot; possível com o &lt;em&gt;RESTful&lt;/em&gt;, ou seja, seguiremos à risca recomendações
em relação a &lt;em&gt;path&lt;/em&gt;, &lt;em&gt;status codes&lt;/em&gt; e verbos. O versionamento da &lt;em&gt;API&lt;/em&gt; acontecerá via fragmento no &lt;em&gt;path&lt;/em&gt; (ex.: &lt;code class=&quot;language-text&quot;&gt;/v1/&lt;/code&gt;),
e a princípio apresentaremos apenas respostas em &lt;em&gt;JSON&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Imaginemos que depois de ponderar com outros &lt;em&gt;stakeholders&lt;/em&gt;, chegamos à seguinte conclusão:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Título do artigo publicado no canal ABC&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;pub_date&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;data-com-timezone-incluso&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;summary&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Resumo do artigo&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;content&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Conteúdo completo do artigo&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;image&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;imagem-principal-do-artigo.png&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;channel&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ABC&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://article-1.html&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Título do artigo publicado no canal XYZ&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;pub_date&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;data-com-timezone-incluso&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;summary&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Resumo do artigo (2)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;content&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Conteúdo completo do artigo&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;image&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;imagem-principal-do-artigo-2.png&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;channel&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;XYZ&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://article-2.html&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Além disso, esboçamos as seguintes rotas:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;GET /api/v1/channels/&amp;lt;id-do-channel&amp;gt;&lt;/code&gt;: Pega a lista de artigos&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;GET /api/v1/articles/&amp;lt;id-do-artigo&amp;gt;&lt;/code&gt;: Pega o artigo completo&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Vamos ocultar complexidades fora do escopo da &lt;em&gt;user story&lt;/em&gt; apresentada (como por exemplo, paginação e
autenticação). Além disso, propositalmente não definimos um formato &quot;oficial&quot; para &lt;code class=&quot;language-text&quot;&gt;pub_date&lt;/code&gt;, apenas
determinamos que deverá ser uma data em &lt;em&gt;UTC&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Por tratar-se de um esboço inicial que gerará material para a definição do &lt;em&gt;style guide&lt;/em&gt; da &lt;em&gt;API&lt;/em&gt; e dos &lt;em&gt;endpoints&lt;/em&gt;
em si, é natural deixarmos passar alguns detalhes que podem gerar problemas de integração.&lt;/p&gt;
&lt;h2&gt;2: Projete e valide&lt;/h2&gt;
&lt;p&gt;Abaixo, o documento representando exatamente o que foi acordado na seção anterior, com &lt;em&gt;OpenApi Specification&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;openapi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;3.0.2&quot;&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Feedly&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;clone
  &lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
&lt;span class=&quot;token key atrule&quot;&gt;paths&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;/channels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;summary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Set of channels&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; e.g. blogs&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; websites or podcasts
    &lt;span class=&quot;token key atrule&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;responses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;&quot;200&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; List of channels
          &lt;span class=&quot;token key atrule&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;application/json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
              &lt;span class=&quot;token key atrule&quot;&gt;schema&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; array
                &lt;span class=&quot;token key atrule&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                  &lt;span class=&quot;token key atrule&quot;&gt;$ref&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#/components/schemas/Channel&quot;&lt;/span&gt;

  /channels/&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;parameters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;$ref&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#/components/parameters/id&quot;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;summary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Details of a channel
    &lt;span class=&quot;token key atrule&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;responses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;&quot;200&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Channel detail response
          &lt;span class=&quot;token key atrule&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;application/json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
              &lt;span class=&quot;token key atrule&quot;&gt;schema&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;token key atrule&quot;&gt;$ref&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#/components/schemas/Channel&quot;&lt;/span&gt;

  &lt;span class=&quot;token key atrule&quot;&gt;/articles&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;summary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Set of items
    &lt;span class=&quot;token key atrule&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;responses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;&quot;200&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; List of articles
          &lt;span class=&quot;token key atrule&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;application/json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
              &lt;span class=&quot;token key atrule&quot;&gt;schema&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; array
                &lt;span class=&quot;token key atrule&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                  &lt;span class=&quot;token key atrule&quot;&gt;$ref&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#/components/schemas/Article&quot;&lt;/span&gt;

  /articles/&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;parameters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;$ref&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#/components/parameters/id&quot;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;summary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Details of an article
    &lt;span class=&quot;token key atrule&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;responses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;&quot;200&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Article detail response
          &lt;span class=&quot;token key atrule&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;application/json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
              &lt;span class=&quot;token key atrule&quot;&gt;schema&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;token key atrule&quot;&gt;$ref&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#/components/schemas/Article&quot;&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;components&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;parameters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; id
      &lt;span class=&quot;token key atrule&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; path
      &lt;span class=&quot;token key atrule&quot;&gt;required&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;schema&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; integer
  &lt;span class=&quot;token key atrule&quot;&gt;schemas&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;Channel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; integer
        &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string

    &lt;span class=&quot;token key atrule&quot;&gt;Article&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; integer
        &lt;span class=&quot;token key atrule&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string
        &lt;span class=&quot;token key atrule&quot;&gt;pub_date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string
        &lt;span class=&quot;token key atrule&quot;&gt;summary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string
        &lt;span class=&quot;token key atrule&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string
        &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string
        &lt;span class=&quot;token key atrule&quot;&gt;channel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string
        &lt;span class=&quot;token key atrule&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;O artigo &lt;a href=&quot;/2018/03/15/swagger-na-pratica.html&quot; title=&quot;Leia o artigo na íntegra&quot;&gt;&quot;Swagger na prática&quot;&lt;/a&gt; pode ser de ajuda caso você não esteja familiarizado com a
síntaxe acima.&lt;/p&gt;
&lt;h3&gt;Projete&lt;/h3&gt;
&lt;p&gt;A partir daqui podemos pensar sob a ótica de casos de uso.
&lt;a href=&quot;/2020/01/07/software-design-software-architecture.html&quot; title=&quot;Software Design x Software Architecture&quot;&gt;Práticas e ferramentas podem variar&lt;/a&gt;
dependendo da sua criatividade e do seu time. Para fins didáticos vamos manter esse passo o mais simples possível.&lt;/p&gt;
&lt;p&gt;Para início de conversa o &lt;em&gt;path&lt;/em&gt; &lt;code class=&quot;language-text&quot;&gt;articles/&lt;/code&gt; não está alinhado o suficiente com a semântica por trás do problema. O formato &lt;em&gt;RSS&lt;/em&gt; chama o que estamos chamando de &lt;code class=&quot;language-text&quot;&gt;Article&lt;/code&gt; de &lt;code class=&quot;language-text&quot;&gt;Item&lt;/code&gt;, logo,
se quisermos manter uma linguagem ubíqua é fundamental renomearmos esse elemento.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 600px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4e027daa42357f668194d325afbcf154/b4294/deathstar.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.60416666666667%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABQADBP/EABYBAQEBAAAAAAAAAAAAAAAAAAIBA//aAAwDAQACEAMQAAABL7ydaX4mWf8A/8QAGxAAAgIDAQAAAAAAAAAAAAAAAQIAEQMSEyH/2gAIAQEAAQUCxlL6rS+gRZsZ/8QAFhEAAwAAAAAAAAAAAAAAAAAAAhAx/9oACAEDAQE/ASi//8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8BJ//EABsQAAICAwEAAAAAAAAAAAAAAAABAhEQISIx/9oACAEBAAY/AulYow0i8+n/xAAaEAEBAAIDAAAAAAAAAAAAAAABABExIUFR/9oACAEBAAE/ISc8RjD0mMnbbXdkdK//2gAMAwEAAgADAAAAEBQv/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAEx/9oACAEDAQE/ENEj/8QAFREBAQAAAAAAAAAAAAAAAAAAEDH/2gAIAQIBAT8Qo//EABoQAQADAQEBAAAAAAAAAAAAAAEAESExQWH/2gAIAQEAAT8QZPJAefYb2oA7Kklzp2LRMUdlQAAMGf/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Projetar é uma arte, desconhecida pelo Império (movieweb.com)&quot;
        title=&quot;Projetar é uma arte, desconhecida pelo Império (movieweb.com)&quot;
        src=&quot;/static/4e027daa42357f668194d325afbcf154/b4294/deathstar.jpg&quot;
        srcset=&quot;/static/4e027daa42357f668194d325afbcf154/7809d/deathstar.jpg 192w,
/static/4e027daa42357f668194d325afbcf154/4ecad/deathstar.jpg 384w,
/static/4e027daa42357f668194d325afbcf154/b4294/deathstar.jpg 600w&quot;
        sizes=&quot;(max-width: 600px) 100vw, 600px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Projetar é uma arte, desconhecida pelo Império (movieweb.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Outro ponto de controvérsia em nosso esboço é que o recurso &lt;code class=&quot;language-text&quot;&gt;articles/&lt;/code&gt; poderia ser um &lt;em&gt;nested resource&lt;/em&gt; de &lt;code class=&quot;language-text&quot;&gt;channels/{id}/&lt;/code&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;channels/{id}&lt;/code&gt;: Detalhes do &lt;em&gt;channel&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;channels/{id}/items&lt;/code&gt;: Lista de &lt;em&gt;items&lt;/em&gt; daquele &lt;em&gt;channel&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;channels/{channel-id}/items/{item-id}&lt;/code&gt;: Detalhes do &lt;em&gt;item&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Digamos que após consultar os &lt;em&gt;stakeholders&lt;/em&gt; de &lt;em&gt;mobile&lt;/em&gt; e &lt;em&gt;web&lt;/em&gt;, eles concordem com a alteração. É exatamente esse tipo
de questionamento que esse passo deve trazer, além de instigar a discussão com demais interessados.&lt;/p&gt;
&lt;p&gt;Por último, mas não menos importante, vamos supor que nossos possíveis clientes não estejam propensos a mostrar
o conteúdo completo dos artigos em sua listagem. Logo, eles estariam fazendo &quot;over-fetching&quot; de informação. Podemos
remover esse campo (&lt;code class=&quot;language-text&quot;&gt;content&lt;/code&gt;) de &lt;code class=&quot;language-text&quot;&gt;channels/{id}/items/{id}&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;A especificação final você pode &lt;a href=&quot;https://gist.github.com/kplaube/d9c16eec70895349c48f9e8ec9e3e5be&quot; title=&quot;Veja mais no Gist&quot;&gt;conferir aqui&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;Antes de ir: Over-fetching e Under-fetching&lt;/h4&gt;
&lt;p&gt;&lt;em&gt;Over-fetching&lt;/em&gt; (trazer mais conteúdo do que o necessário em um &lt;em&gt;request&lt;/em&gt;) e &lt;em&gt;under-fetching&lt;/em&gt; (trazer menos conteúdo do
que o necessário) são problemas comuns em &lt;em&gt;APIs&lt;/em&gt; &lt;em&gt;REST&lt;/em&gt; que possuem pluralidade de clientes.&lt;/p&gt;
&lt;p&gt;Soluções variam, das mais ingênuas (criar um &lt;em&gt;endpoint&lt;/em&gt; para &lt;em&gt;mobile&lt;/em&gt; e um para &lt;em&gt;web&lt;/em&gt;, por exemplo) até as mais rebuscadas
(como deixar o &lt;em&gt;REST&lt;/em&gt; de lado e adotar &lt;em&gt;GraphQL&lt;/em&gt;). O &quot;meio-termo&quot; seria a adoção de algum mecanismo que permita ao cliente
especificar quais campos ele deseja carregar na requisição.&lt;/p&gt;
&lt;p&gt;E é exatamente isso que o &lt;a href=&quot;https://github.com/rsinger86/drf-flex-fields&quot; title=&quot;Veja o repositório no Github&quot;&gt;&lt;em&gt;FlexFields&lt;/em&gt;&lt;/a&gt; faz
para soluções escritas em &lt;em&gt;REST Framework&lt;/em&gt;.&lt;/p&gt;
&lt;h3&gt;Valide&lt;/h3&gt;
&lt;p&gt;É hora de validarmos o contrato.&lt;/p&gt;
&lt;p&gt;Poderíamos escrever &lt;em&gt;views&lt;/em&gt; muito simples em &lt;em&gt;Django&lt;/em&gt; (por exemplo) que atendam a especificação ao responder conteúdo estático. Mas possivelmente a melhor forma de executarmos esse passo seja através de ferramentas chamadas &lt;a href=&quot;https://openapi.tools/#mock&quot; title=&quot;Veja uma lista de mock servers&quot;&gt;&lt;em&gt;mock servers&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;As opções são as mais variadas, em diferentes linguagens. A minha sugestão é o &lt;a href=&quot;https://github.com/stoplightio/prism&quot; title=&quot;Veja o repositório no Github&quot;&gt;&lt;em&gt;Prism&lt;/em&gt;&lt;/a&gt;,
uma ferramenta escrita em &lt;em&gt;Javascript&lt;/em&gt;, fácil de instalar e usar.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://stoplight.io/p/docs/gh/stoplightio/prism/docs/getting-started/01-installation.md?srn=gh/stoplightio/prism/docs/getting-started/01-installation.md&quot; title=&quot;Documentação oficial do Prism&quot;&gt;Veja como instalar o &lt;em&gt;Prism&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Executando o &lt;em&gt;Prism&lt;/em&gt; com a especificação passada como argumento, temos um servidor fornecendo o contrato via &lt;em&gt;REST&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ prism mock openapi.yml

› [CLI] …  awaiting  Starting Prism…
› [CLI] ℹ  info      GET        http://127.0.0.1:4010/channels
› [CLI] ℹ  info      GET        http://127.0.0.1:4010/channels/869
› [CLI] ℹ  info      GET        http://127.0.0.1:4010/channels/857/items
› [CLI] ℹ  info      GET        http://127.0.0.1:4010/channels/226/items/12
› [CLI] ▶  start     Prism is listening on http://127.0.0.1:4010

$ curl http://127.0.0.1:4010/channels/1/items/1

{&amp;quot;id&amp;quot;:1,&amp;quot;title&amp;quot;:&amp;quot;Anthony Mackie fala sobre se tornar o Capitão América&amp;quot;,&amp;quot;pub_date&amp;quot;:&amp;quot;Sat, 29 Feb 2020 19:21:37 +0000&amp;quot;,&amp;quot;summary&amp;quot;:&amp;quot;Quero que o meu Capitão América represente todo mundo, não só um grupo específico de pessoas&amp;quot;,&amp;quot;image&amp;quot;:&amp;quot;https://uploads.jovemnerd.com.br/wp-content/uploads/2020/02/anthony-mackie-capitao-america.jpg&amp;quot;,&amp;quot;content&amp;quot;:&amp;quot;Conteúdo completo&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;https://jovemnerd.com.br/nerdbunker/anthony-mackie-fala-sobre-se-tornar-o-capitao-america/&amp;quot;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Isso permite que novas avaliações sejam realizadas, modificações aconteçam com antecedência, casos de uso sejam testados,
e até mesmo que outros &lt;em&gt;stakeholders&lt;/em&gt; comecem a desenvolver a parte deles sem precisar esperar pelo &lt;em&gt;backend&lt;/em&gt; todo estar pronto.&lt;/p&gt;
&lt;h2&gt;3: Oficialize a especificação&lt;/h2&gt;
&lt;p&gt;Nesse passo estruturamos o &lt;em&gt;release&lt;/em&gt; da especificação, gerenciamos o processo e futuras iterações, e (claro) versionamos o arquivo.&lt;/p&gt;
&lt;p&gt;Enquanto trabalhei na &lt;a href=&quot;https://loadsmart.com/&quot; title=&quot;Book a truck in seconds&quot;&gt;&lt;em&gt;Loadsmart&lt;/em&gt;&lt;/a&gt;, mantínhamos a especificação em um repositório &lt;em&gt;Git&lt;/em&gt; e tínhamos
um &lt;em&gt;build&lt;/em&gt; no &lt;em&gt;CI&lt;/em&gt; para publicar a documentação baseada na versão do arquivo que encontrava-se no &lt;code class=&quot;language-text&quot;&gt;master&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Possuímos várias opções para esse passo. Talvez o &lt;a href=&quot;https://github.com/Redocly/redoc&quot; title=&quot;Visite o repositório no Github&quot;&gt;&lt;em&gt;ReDoc&lt;/em&gt;&lt;/a&gt;
seja a ferramenta mais estilosa para gerar documentação a partir do &lt;em&gt;OpenAPI&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Para fins didáticos vou usar a ferramenta do &lt;em&gt;Swagger&lt;/em&gt; e expor a documentação no
&lt;a href=&quot;https://swagger.io/tools/swagger-ui/&quot; title=&quot;Teste na nuvem&quot;&gt;&lt;em&gt;SwaggerHub&lt;/em&gt;&lt;/a&gt;: &lt;a href=&quot;https://app.swaggerhub.com/apis-docs/kplaube/feedly-clone/v1&quot;&gt;https://app.swaggerhub.com/apis-docs/kplaube/feedly-clone/v1&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 740px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ddb96499d70516f24ee6d2c5389d5b70/50383/api-first-swagger-ui.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.5%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAwUlEQVQY05XNzQ7BQBSG4d4rTUisxV/EApWwsRBX4iaEsJciBJ1qzOi002nn9AztyqqpL89y3jNG01rU+1Oza5mdcbU9KqPSGtZ6k8ZgZogo8ug9ljEA6D9n8IA/XgelFECKf0zjN/45hLky+6bZS4P4yf7KwxgihSWJJJUqzeKNo+drOD3YxQsdHzyh3RCLkQBZlP+8I3q5hbPztu/s6Pg3Kl2ePgMs4HJkIo9tqlcHcFlIqCAsQwW8JRZgEoMkiz9eRbKeMkZCywAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Documentação publicada no Swagger UI&quot;
        title=&quot;Documentação publicada no Swagger UI&quot;
        src=&quot;/static/ddb96499d70516f24ee6d2c5389d5b70/50383/api-first-swagger-ui.png&quot;
        srcset=&quot;/static/ddb96499d70516f24ee6d2c5389d5b70/8514f/api-first-swagger-ui.png 192w,
/static/ddb96499d70516f24ee6d2c5389d5b70/804b2/api-first-swagger-ui.png 384w,
/static/ddb96499d70516f24ee6d2c5389d5b70/50383/api-first-swagger-ui.png 740w&quot;
        sizes=&quot;(max-width: 740px) 100vw, 740px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Documentação publicada no Swagger UI&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h2&gt;4: Teste&lt;/h2&gt;
&lt;p&gt;Teste sempre. Automatize sempre que possível.&lt;/p&gt;
&lt;p&gt;Nessa etapa validaremos e garantiremos o funcionamento do contrato. Casos de uso podem ser necessários para estressar
a coerência da &lt;em&gt;API&lt;/em&gt;. Particularmente, não acho que essa seja a camada mais interessante para testar coisas além do
contrato estabelecido (como por exemplo, a própria lógica de negócio). Pode tornar-se uma linha tênue em sua
&lt;a href=&quot;https://martinfowler.com/articles/practical-test-pyramid.html&quot; title=&quot;The Practical Test Pyramid&quot;&gt;pirâmide de testes&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;O &lt;a href=&quot;https://dredd.org/en/latest/quickstart.html&quot; title=&quot;Documentação do Dredd&quot;&gt;&lt;em&gt;Dredd&lt;/em&gt;&lt;/a&gt; é uma ferramenta bem interessante para testar
a especificação construída. Ela utiliza um servidor como alvo, portanto, podemos adicioná-la ao &lt;em&gt;build pipeline&lt;/em&gt;,
levantarmos o nosso serviço, e ela operará como uma espécie de &lt;em&gt;Component Test&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Executando contra o nosso servidor &lt;em&gt;mockado&lt;/em&gt;, tudo deveria funcionar &quot;out of the box&quot;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ dredd ./openapi.yml http://127.0.0.1:4010

warn: API description parser warning in /Users/klaus/Desktop/openapi.yml:66 (from line 66 column 7 to column 13): &amp;#39;Parameter Object&amp;#39; contains unsupported key &amp;#39;schema&amp;#39;
warn: API description parser warning in /Users/klaus/Desktop/openapi.yml:73 (from line 73 column 7 to column 13): &amp;#39;Parameter Object&amp;#39; contains unsupported key &amp;#39;schema&amp;#39;
warn: API description parser warning in /Users/klaus/Desktop/openapi.yml:102 (from line 102 column 7 to column 12): &amp;#39;Schema Object&amp;#39; contains unsupported key &amp;#39;allOf&amp;#39;
pass: GET (200) /channels duration: 63ms
pass: GET (200) /channels/1 duration: 20ms
pass: GET (200) /channels/1/items duration: 14ms
pass: GET (200) /channels/1/items/1 duration: 11ms
complete: 4 passing, 0 failing, 0 errors, 0 skipped, 4 total
complete: Tests took 116ms&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Um outro extra muito interessante
é a &lt;a href=&quot;https://dredd.org/en/latest/hooks/python.html&quot; title=&quot;Leia mais na documentação do Dredd&quot;&gt;possibilidade de escrever &lt;em&gt;hooks&lt;/em&gt; em &lt;em&gt;Python&lt;/em&gt;&lt;/a&gt;, o que nos permite criar casos de uso de acordo com diferentes aspectos e contextos.&lt;/p&gt;
&lt;h2&gt;5: Implemente&lt;/h2&gt;
&lt;p&gt;Agora sim! Finalmente a parte divertida.&lt;/p&gt;
&lt;p&gt;Agora é correr para o &lt;em&gt;Django&lt;/em&gt; e implementar a &lt;em&gt;API&lt;/em&gt;. Se você estiver interessado no &lt;em&gt;Django REST Framework&lt;/em&gt;, escrevi sobre ele recentemente no &lt;a href=&quot;/2020/02/13/construindo-apis-em-django-com-django-rest-framework.html&quot; title=&quot;Leia o artigo na íntegra&quot;&gt;&quot;Construindo APIs em Django com Django REST Framework&quot;&lt;/a&gt;. Não perca.&lt;/p&gt;
&lt;p&gt;Ao fim do desenvolvimento, não esqueça de executar o &lt;em&gt;Dredd&lt;/em&gt; apontando para o serviço &lt;em&gt;Django&lt;/em&gt;. Aliás, colocar essa checagem em um &lt;em&gt;CI&lt;/em&gt; é uma excelente ideia! Dependendo do seu &lt;em&gt;release train&lt;/em&gt;, a falha dessa checagem pode inclusive bloquear o seu
&lt;em&gt;Continuous Delivery&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;6: Opere e engage&lt;/h2&gt;
&lt;p&gt;A sua funcionalidade está pronta. O seu produto está documentado. Agora é hora de &quot;ir para a rua&quot;.&lt;/p&gt;
&lt;p&gt;Com essa ideia de &quot;uma &lt;em&gt;API&lt;/em&gt; para todos governar&quot;, fica mais fácil ser adepto da corrente do &quot;eat your own dog food&quot;. Tendo
outros times da sua própria organização como usuários fica mais fácil coletar &lt;em&gt;feedbacks&lt;/em&gt; e reiniciar todo o processo
descrito com novas demandas e possíveis correções.&lt;/p&gt;
&lt;p&gt;Para terceiros, é fundamental tratar a &lt;em&gt;API&lt;/em&gt; como parte do negócio, e ela (e sua documentação) precisa ter espaço de destaque no &lt;em&gt;website&lt;/em&gt; da sua empresa. O &lt;a href=&quot;https://www.twilio.com/&quot; title=&quot;Communication APIs for SMS, Voice and Video&quot;&gt;&lt;em&gt;Twillio&lt;/em&gt;&lt;/a&gt; faz isso
muito bem:&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 740px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c8db147667ff9c0ef3f350067bc9cb50/50383/api-first-engage.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 26.5625%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAABYlAAAWJQFJUiTwAAABH0lEQVQY0yWOT0sCQRyG90P1SaprEASd6lAXL0GXCCJED1YQFAQdgiKoU1IrFGWReEkio9VyyVWb3Z3RmW3+7Mz8cu3huT4vr6PfW9r7tAD/amOEVEJIKxWoVKpUCS4pFkIYAKOYpeFISu55uuw6sWVjsWXEUDzWUioThGLOhZQim+u+2MvcWVy5GjWg85Z6jxxANW/gYNaJLI2AhSnpkx6iqEcCQgmOh3KC1qAVc4+L1+7pQJMh+w3HT8BUHp4WZ6azOAbWFbjW81/JTx19B0Oc0EROzgPAIETn22vu3pY/CDq0f9G4v2vW/NvD+ZVNJzKjCDjqtlFhJyzth/kSfq5HNBEZWex/tYrLcyfrS9Wqiy1f3ShM5RYaH+X87tEfcCQF6Xb7oJ8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Exemplo de exposição de documentação&quot;
        title=&quot;Exemplo de exposição de documentação&quot;
        src=&quot;/static/c8db147667ff9c0ef3f350067bc9cb50/50383/api-first-engage.png&quot;
        srcset=&quot;/static/c8db147667ff9c0ef3f350067bc9cb50/8514f/api-first-engage.png 192w,
/static/c8db147667ff9c0ef3f350067bc9cb50/804b2/api-first-engage.png 384w,
/static/c8db147667ff9c0ef3f350067bc9cb50/50383/api-first-engage.png 740w&quot;
        sizes=&quot;(max-width: 740px) 100vw, 740px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Exemplo de exposição de documentação&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Além disso, existem &lt;em&gt;marketplaces&lt;/em&gt; de &lt;em&gt;APIs&lt;/em&gt; espalhados pela &lt;em&gt;web&lt;/em&gt; que podem servir como canal de propaganda da sua &lt;em&gt;API&lt;/em&gt;. O &lt;a href=&quot;https://rapidapi.com/&quot; title=&quot;Find and Connect to Thousands of APIs&quot;&gt;RapidAPI&lt;/a&gt; é um bom exemplo de plataforma para conectar-se
com possíveis consumidores.&lt;/p&gt;
&lt;p&gt;Não esqueça que propiciar &lt;em&gt;SDKs&lt;/em&gt; para os seus consumidores faz parte dessa etapa. Não basta apenas escrevermos o &lt;em&gt;backend&lt;/em&gt;,
precisamos nos engajar em escrever clientes para diferentes linguagens. O &lt;a href=&quot;https://swagger.io/tools/swagger-codegen/&quot; title=&quot;Generate server stubs and client SDKs for any API&quot;&gt;&lt;em&gt;Swagger Codegen&lt;/em&gt;&lt;/a&gt; pode ajudar nessa tarefa, gerando &lt;em&gt;SDKs&lt;/em&gt;
a partir da especificação da sua &lt;em&gt;API&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;Abordamos o processo, os passos, e quais ferramentas podemos utilizar para atender os requisitos necessários
em cada etapa. Faltou abordar de forma prática como &quot;colocar isso tudo junto para funcionar&quot;. O &lt;em&gt;post&lt;/em&gt;
ficou gigante, e possivelmente abordaremos em uma parte 2 como colocar isso tudo em um &lt;em&gt;CI&lt;/em&gt;, e em como
orquestrar &lt;em&gt;release&lt;/em&gt; de especificação e &lt;em&gt;deploy&lt;/em&gt; de aplicação.&lt;/p&gt;
&lt;p&gt;Há uma pluralidade interessante de ferramentas e serviços que giram em torno do conceito de &lt;em&gt;API-First&lt;/em&gt;. Se
por um lado isso pode significar aumentar a complexidade do seu processo de desenvolvimento, por outro é
também uma certa garantia de que existem outros &lt;em&gt;players&lt;/em&gt; investindo nessa prática, e que se você tem na sua
&lt;em&gt;API&lt;/em&gt; o seu principal produto, talvez ficar por fora possa ocasionar um problema de estratégia.&lt;/p&gt;
&lt;p&gt;Até a próxima.&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://dredd.org/en/latest/index.html&quot;&gt;Dredd - HTTP API Testing Framework&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://openapi.tools/&quot;&gt;OpenAPI.Tools&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.programmableweb.com/news/how-to-design-great-apis-api-first-design-and-raml/how-to/2015/07/10&quot;&gt;ProgrammableWeb - How To Design Great APIs With API-First Design&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://stoplight.io/p/docs/gh/stoplightio/prism&quot;&gt;Stoplightio - Prism&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/trimble-maps-engineering-blog/api-first-development-and-openapi-835afb46b7f1&quot;&gt;Trimble MAPS Engineering Blog - API-First Development and OpenAPI&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[O API-First]]></title><description><![CDATA[Tratar APIs como "first-class citizens" pode ser um desafio e tanto, principalmente quando estamos em um contexto
de entrega rápida ou de prova de conceito. Como desenvolvedor, admito que priorizo resolver a lógica de negócio
escrevendo código, do que discutindo contratos ou requisitos não…]]></description><link>https://klauslaube.com.br/2020/02/21/o-api-first.html</link><guid isPermaLink="false">https://klauslaube.com.br/2020/02/21/o-api-first.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Fri, 21 Feb 2020 09:15:00 GMT</pubDate><content:encoded>&lt;p&gt;Tratar &lt;em&gt;APIs&lt;/em&gt; como &quot;first-class citizens&quot; pode ser um desafio e tanto, principalmente quando estamos em um contexto
de entrega rápida ou de prova de conceito. Como desenvolvedor, admito que priorizo resolver a lógica de negócio
escrevendo código, do que discutindo contratos ou requisitos não funcionais.&lt;/p&gt;
&lt;h2&gt;Code-First&lt;/h2&gt;
&lt;p&gt;O modelo de trabalho ilustrado acima pode ser conhecido por &quot;bottom up&quot;, &quot;code first&quot;, ou apenas por &quot;aquela forma que a gente
geralmente utiliza em nossos projetos&quot;. Onde focamos primeiro no código, e
deixamos para depois questões relacionadas à integração dos componentes.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Kirsten Hunter&lt;/em&gt; &lt;a href=&quot;https://www.programmableweb.com/news/introduction-to-api-first-design/analysis/2016/10/31&quot; title=&quot;Introduction to API-First Design&quot;&gt;ilustra bem os efeitos colaterais de tal prática&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;APIs are created as an afterthought once the product has already been created as a tightly coupled system, with the frontend website and backend system entwined together in a highly codependent way and the REST API having to be ‘shoe-horned’ into this system as a separate entity.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Não há nada fundamentalmente errado com essa dinâmica (inclusive, &lt;a href=&quot;https://www.youtube.com/watch?v=Tb823aqgX_0&quot; title=&quot;Bottom Up vs Top Down Design in Clojure&quot;&gt;há opiniões a favor desse conceito&lt;/a&gt;), mas com o mundo
cada vez mais &quot;microservices-driven&quot;, pensar primeiramente na interface e em quem irá usá-la pode antecipar problemas, diminuir riscos e definir contratos mais sólidos.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a9fdd4fffa4ffc01e8b677b38f1016e1/c08c5/captain-ux.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAwAF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABx2BwJY//xAAbEAEAAQUBAAAAAAAAAAAAAAABAwACECExMv/aAAgBAQABBQINyCYkq/wc/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAQUAAAAAAAAAAAAAAAAAEAABAhEx/9oACAEBAAY/Ak16Yj//xAAdEAACAQQDAAAAAAAAAAAAAAAAAREQQWFxMYHB/9oACAEBAAE/IZINxsYNi6VLtnNx4KrD/9oADAMBAAIAAwAAABCDD//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/EIj/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPxCq/8QAGxABAQACAwEAAAAAAAAAAAAAAREAITFBYYH/2gAIAQEAAT8QAhX3oGECjIGE0HH3GLnIesBqbgvkY6kLezP/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Capitão América levantando o martelo do Thor&quot;
        title=&quot;Não faça o dev ser merecedor para utilizar a sua API (comicbookmovie.com)&quot;
        src=&quot;/static/a9fdd4fffa4ffc01e8b677b38f1016e1/c08c5/captain-ux.jpg&quot;
        srcset=&quot;/static/a9fdd4fffa4ffc01e8b677b38f1016e1/7809d/captain-ux.jpg 192w,
/static/a9fdd4fffa4ffc01e8b677b38f1016e1/4ecad/captain-ux.jpg 384w,
/static/a9fdd4fffa4ffc01e8b677b38f1016e1/c08c5/captain-ux.jpg 640w&quot;
        sizes=&quot;(max-width: 640px) 100vw, 640px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Não faça o dev ser merecedor para utilizar a sua API (comicbookmovie.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Não é raro escutarmos em pleno 2020 histórias sobre times distintos trabalhando em uma grande solução, que quando
colocaram seus serviços para funcionar juntos, descobriram uma série de problemas de integração (ou até mesmo que eles
simplesmente não resolviam o problema).&lt;/p&gt;
&lt;h2&gt;O que é API-First?&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;API-First&lt;/em&gt; pode ser grosseiramente resumido em &quot;trate APIs como first-class citizens&quot;.&lt;/p&gt;
&lt;p&gt;Em outras palavras, a proposta é que &lt;em&gt;APIs&lt;/em&gt; sejam consideradas partes fundamentais
do ecossistema de um produto, devem ser parte de sua estratégia e construção,
e não apenas um &quot;extra&quot; ou um &quot;side product&quot;.&lt;/p&gt;
&lt;p&gt;O &lt;em&gt;DZone&lt;/em&gt; define &lt;em&gt;API-First&lt;/em&gt; da &lt;a href=&quot;https://dzone.com/articles/an-api-first-development-approach-1&quot; title=&quot;An API-First Development Approach&quot;&gt;seguinte forma&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;(...) is a strategy in which the first order of business is to develop an API that puts your target developer’s interests first and then build the product on top of it (be it a website, mobile application, or a SaaS software). By building on top of APIs with developers in mind, you and your developers are saving a lot of work while laying down the foundations for others to build on.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Elas devem ser tão cruciais quanto usuários são em estratégias &lt;em&gt;user-centric&lt;/em&gt; e a experiência
&lt;em&gt;mobile&lt;/em&gt; é em um &lt;em&gt;approach&lt;/em&gt; &lt;em&gt;mobile-first&lt;/em&gt;. Utilizar uma abordagem &lt;em&gt;api-centric&lt;/em&gt;
fará com que o &lt;em&gt;design&lt;/em&gt; funcione de uma ótica diferente (possibilitando maior cuidado em relação
a consistência e reuso), e que o negócio gire em torno do contrato que está sendo definido (ocasionando
maior interação com outros &lt;em&gt;stakeholders&lt;/em&gt; de forma antecipada, dentro do tempo de vida de desenvolvimento).&lt;/p&gt;
&lt;h3&gt;API-centric == Developer Experience&lt;/h3&gt;
&lt;p&gt;E se pararmos para analisar friamente o que essa ideia significa, ser &lt;em&gt;api-centric&lt;/em&gt; é no fim das contas ser &lt;em&gt;user-centric&lt;/em&gt; (ou &lt;em&gt;customer-centric&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 740px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6618483d0a44ba07fd0bef3b4e2e25c5/50383/thor-ux.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsSAAALEgHS3X78AAABpElEQVQY0yXRS2/TQBQFYCf2zNgz9szY87Idv8bOE4iThpaEEkSVqpuyACG1q1bqomLFHhYs+Bv8WwxId/vpHJ3rIIAC4CMX+tCXjD982P3+dv92vcJcZaU19XRSWVM1dX82324neVp1nZ3NOOWaEcdHxBsDzwXQBZEffD5f/ro/7V9MYcgwYZyr47L+er1pmibK6kToWOexynyAGA6cl6uFkhK4fz2Gwb6dPL3fXK7nOIpxyDIh7s7mPz4eFm2Nua5tV7ddGFI4hoXizrSpbFn4CI9H3tC8FPHzadfbMqsak0201K8LfdtbJQ0hrCwqITQaksZgooWTK15o3uUxxf5o5LEA7+a1oiwOIxnSAGKbcBszhqmOeSYTSkL4D+eSO1+O+cMpf76dXfVpOAw38sosLVNtErFZtDbVgoSdURT4VrB5wXwPQheCMUwi4nx/PP58enfar2Z1lRmDqaSJoVxiklye9zeHDRqBVMuYRAZjw8jAhtcMPgDIudgsL7arqzdrlchIlyytotiETCDMZm3z6fpgOGsL9crKnAcDGOT/wxD9AcpHL75E+WoDAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Thor preocupado com o martelo&quot;
        title=&quot;Não duvide da vontade do seu usuário. Ele vai descobrir um jeito de levantar o martelo (ibtimes.com)&quot;
        src=&quot;/static/6618483d0a44ba07fd0bef3b4e2e25c5/50383/thor-ux.png&quot;
        srcset=&quot;/static/6618483d0a44ba07fd0bef3b4e2e25c5/8514f/thor-ux.png 192w,
/static/6618483d0a44ba07fd0bef3b4e2e25c5/804b2/thor-ux.png 384w,
/static/6618483d0a44ba07fd0bef3b4e2e25c5/50383/thor-ux.png 740w&quot;
        sizes=&quot;(max-width: 740px) 100vw, 740px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Não duvide da vontade do seu usuário. Ele vai descobrir um jeito de levantar o martelo (ibtimes.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;O usuário nesse caso passa a ser outro desenvolvedor (do mesmo time, da mesma empresa, ou de terceiros), portanto,
&lt;em&gt;Developer eXperience&lt;/em&gt; também é parte fundamental dessa estratégia, e vem embutida em sua prática, como ilustra o &lt;a href=&quot;https://swagger.io/resources/articles/adopting-an-api-first-approach/&quot; title=&quot;Leia mais no Swagger.io&quot;&gt;&quot;Understanding the API-First Approach to Building Products&quot;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Consumers of APIs are most often developers, and developer experience (DX) can make or break the success of an API. API first ensures that developers have positive experiences using your APIs. Well-designed, well-documented, consistent APIs provide positive developer experiences because it’s easier to reuse code and onboard developers, and it reduces the learning curve.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Os 3 princípios&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Lars Trieloff&lt;/em&gt;, no &lt;a href=&quot;https://medium.com/adobetech&quot; title=&quot;Leia o blog de tecnologia da Adobe&quot;&gt;&lt;em&gt;Adobe Tech Blog&lt;/em&gt;&lt;/a&gt;, escreve sobre
&lt;a href=&quot;https://medium.com/adobetech/three-principles-of-api-first-design-fa6666d9f694&quot; title=&quot;Veja mais no Adobe Tech Blog&quot;&gt;três princípios fundamentais para o sucesso da prática&lt;/a&gt;,
que acredito serem essenciais para compreender a real motivação por trás da ideia.&lt;/p&gt;
&lt;h3&gt;1. Your API is the first user interface of your application&lt;/h3&gt;
&lt;p&gt;Vale estressar esse ponto: Pessoas utilizando a sua &lt;em&gt;API&lt;/em&gt; são os seus usuários, e a sua &lt;em&gt;API&lt;/em&gt; precisa ser projetada com
esses usuários em mente.&lt;/p&gt;
&lt;p&gt;Partindo do princípio que a &lt;em&gt;API&lt;/em&gt; é o caminho mais importante de interação com o seu produto, isso significa que ela
deve ter um investimento de tempo equivalente (ou superior) ao tempo investido no desenvolvimento de (por exemplo) interfaces
gráficas.&lt;/p&gt;
&lt;h3&gt;2. Your API comes first, then the implementation&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Your implementation will change frequently, your API should not.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Sua &lt;em&gt;API&lt;/em&gt; se torna um contrato que servirá como especificação para a implementação, portanto, o ideal é pensarmos como
duas coisas separadas. Conforme a sua aplicação for evoluindo é muito provável que a sua implementação mude, mas o
contrato deve (dentro do possível) manter-se o mesmo.&lt;/p&gt;
&lt;h3&gt;3. Your API is described (and maybe even self-descriptive)&lt;/h3&gt;
&lt;p&gt;Sua &lt;em&gt;API&lt;/em&gt; precisa ser compreendida por pessoas que não estavam envolvidas em seu desenvolvimento. E aqui é difícil
escaparmos da necessidade de documentação.&lt;/p&gt;
&lt;p&gt;E por documentação, é impossível deixar de questionar todo o esforço envolvido em ter uma documentação válida, atualizada,
e que deveras é usável. Ferramentas estão disponíveis, e existem diferentes formas de automatizar esse processo. Tais
ferramentas servem não somente para a criação de documentação, mas também da especificação em si (que pode ser
também consumida por uma máquina). Por exemplo, &lt;a href=&quot;/tag/raml.html&quot; title=&quot;Leia mais sobre RAML&quot;&gt;&lt;em&gt;RAML&lt;/em&gt;&lt;/a&gt; e
&lt;a href=&quot;/tag/swagger.html&quot; title=&quot;Leia mais sobre Swagger&quot;&gt;&lt;em&gt;Swagger&lt;/em&gt;&lt;/a&gt;, já abordados no &lt;em&gt;blog&lt;/em&gt;, são excelentes iniciativas para
resolver essa questão.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 597px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6d899d82e151f549bbd384bd3b7ba1de/7aa7d/thor-ux-2.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHjJuM0K//EABgQAAMBAQAAAAAAAAAAAAAAAAABERAi/9oACAEBAAEFAo5eRjz/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAAQEQABIXH/2gAIAQEABj8C2JGuD//EABoQAAMBAAMAAAAAAAAAAAAAAAABETEQIWH/2gAIAQEAAT8hl0PwhPptG5wybP/aAAwDAQACAAMAAAAQW8//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQMBAT8QjH//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPxBX/8QAGxABAQEBAQADAAAAAAAAAAAAAREAITFBscH/2gAIAQEAAT8QZBJ2k8+fzCbFAR3HFGyvclOtxt+9fe9O/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Thor aliviado com o martelo&quot;
        title=&quot;Se o Thor tivesse uma documentação bacanuda para como funciona o martelo, Caps teria usado antes (cinemablend.com)&quot;
        src=&quot;/static/6d899d82e151f549bbd384bd3b7ba1de/7aa7d/thor-ux-2.jpg&quot;
        srcset=&quot;/static/6d899d82e151f549bbd384bd3b7ba1de/7809d/thor-ux-2.jpg 192w,
/static/6d899d82e151f549bbd384bd3b7ba1de/4ecad/thor-ux-2.jpg 384w,
/static/6d899d82e151f549bbd384bd3b7ba1de/7aa7d/thor-ux-2.jpg 597w&quot;
        sizes=&quot;(max-width: 597px) 100vw, 597px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Se o Thor tivesse uma documentação bacanuda para como funciona o martelo, Caps teria usado antes (cinemablend.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Mas além disso, seguir padrões é outro esforço que trará resultados na usabilidade da &lt;em&gt;API&lt;/em&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;When it comes to documentation for APIs, structured documentation beats unstructured documentation. Following a standard pattern for URLs, resource types, request methods, headers, request parameters, and response formats will make it easier to explore and understand functionality, and reduces surprises when your API grows.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;Hypermedia&lt;/em&gt; parece outra excelente ideia, uma vez que serve como documentação e oferece meios para
humanos e máquinas compreenderem melhor a sua funcionalidade.&lt;/p&gt;
&lt;h2&gt;Camadas: API-First Development x API-First Design&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;API-First&lt;/em&gt; é sobre fazer a &lt;em&gt;API&lt;/em&gt; antes da interface &lt;a href=&quot;/tag/desenvolvimento-web.html&quot; title=&quot;Leia mais sobre web&quot;&gt;&lt;em&gt;web&lt;/em&gt;&lt;/a&gt; e &lt;em&gt;mobile&lt;/em&gt;? Ou
seria sobre primeiro fazer o &lt;em&gt;design&lt;/em&gt; da &lt;em&gt;API&lt;/em&gt; e a partir daí passar para a implementação?&lt;/p&gt;
&lt;p&gt;Uma ótica interessante sobre esse debate pode ser lida no &lt;a href=&quot;https://apievangelist.com/2014/08/11/what-is-an-api-first-strategy-adding-some-dimensions-to-this-new-question/&quot; title=&quot;Leia mais no API Evangelist&quot;&gt;&quot;What Is An API First Strategy? Adding Some Dimensions To This New Question&quot;&lt;/a&gt;, do &lt;em&gt;apievangelist.com&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Durante a pesquisa para a escrita desse &lt;em&gt;post&lt;/em&gt;, fui exposto a diferentes perspectivas, e é muito provável que eu
tenha apresentado elas de forma &quot;misturada&quot; até aqui:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Do ponto de vista de negócio, é sobre ter uma &lt;em&gt;API&lt;/em&gt; primeiro e torná-la um produto &lt;em&gt;per se&lt;/em&gt;;&lt;/li&gt;
&lt;li&gt;Do ponto de vista de tecnologia, é sobre ter uma plataforma primeiro;&lt;/li&gt;
&lt;li&gt;Do ponto de vista de arquitetura, é sobre ter um &lt;em&gt;design&lt;/em&gt; coeso, reusável, e construído através da colaboração de diferentes &lt;em&gt;stakeholders&lt;/em&gt;;&lt;/li&gt;
&lt;li&gt;Do ponto de vista de &lt;em&gt;UX&lt;/em&gt;, é sobre ter uma &lt;em&gt;API&lt;/em&gt; bem estruturada e documentada;&lt;/li&gt;
&lt;li&gt;Do ponto de vista do desenvolvedor, é sobre ter uma especificação antes de partir para a implementação.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Qual visão você pretende adotar depende muito do contexto. Haverá casos em que o produto já existe,
soluções já estão no ar, e você fará o movimento para um consumo baseado em &lt;em&gt;APIs&lt;/em&gt;. Ou, com sorte, você fundará
uma &lt;em&gt;startup&lt;/em&gt; e terá controle o suficiente para primeiramente produzir uma &lt;em&gt;API&lt;/em&gt; e depois as interfaces gráficas.&lt;/p&gt;
&lt;p&gt;Assim como há diferentes &quot;níveis de &lt;em&gt;REST&lt;/em&gt;&quot; que podemos usar no cotidiano, &lt;em&gt;API-First&lt;/em&gt; pode ser adotado em diferentes níveis
e maneiras.&lt;/p&gt;
&lt;p&gt;No meu caso, que atualmente trabalho em um ambiente &lt;em&gt;enterprise&lt;/em&gt; e tenho pouca influência sobre o negócio, é basicamente
sobre &lt;a href=&quot;https://en.wikipedia.org/wiki/Design_by_contract&quot; title=&quot;Design by contract&quot;&gt;discutir o contrato primeiro&lt;/a&gt;, e ter uma especificação que sirva como documentação e que guie o meu desenvolvimento.&lt;/p&gt;
&lt;h2&gt;Os passos&lt;/h2&gt;
&lt;p&gt;Na primeira vez que ouvi falar sobre esse conceito, me perguntei como que de forma prática é possível exercitá-lo. De
lá para cá já me deparei com diferentes formas e processos para adoção.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 740px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/314f16d88e407ea33e7288faad41c6c0/07f3a/captain-ux-2.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQFAgP/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABS2l2LpEJf//EABwQAAMAAQUAAAAAAAAAAAAAAAECAxIABBEhQv/aAAgBAQABBQIYnU8Xou2lx5iAxfo//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/AYx//8QAGhAAAgIDAAAAAAAAAAAAAAAAAAEQIRESkf/aAAgBAQAGPwK1w1dS8lH/xAAbEAEAAgMBAQAAAAAAAAAAAAABABEhMUFRYf/aAAgBAQABPyFlkL7xH71ubC37ZPfbikbiQEmJ/9oADAMBAAIAAwAAABAs7//EABgRAQADAQAAAAAAAAAAAAAAAAEAESEx/9oACAEDAQE/EHlscan/xAAYEQADAQEAAAAAAAAAAAAAAAAAAREhUf/aAAgBAgEBPxDTiK6f/8QAGxABAQACAwEAAAAAAAAAAAAAAREAMSFhcUH/2gAIAQEAAT8QGBCmxfn3EpAYDr3HqXFOBcDSoFEesuIF5qYTAlgvef/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Capitão América com o martelo do Thor&quot;
        title=&quot;Ver outro dev usando sua API é tão sensacional quanto o Caps usando o martelo (youtube.com)&quot;
        src=&quot;/static/314f16d88e407ea33e7288faad41c6c0/07f3a/captain-ux-2.jpg&quot;
        srcset=&quot;/static/314f16d88e407ea33e7288faad41c6c0/7809d/captain-ux-2.jpg 192w,
/static/314f16d88e407ea33e7288faad41c6c0/4ecad/captain-ux-2.jpg 384w,
/static/314f16d88e407ea33e7288faad41c6c0/07f3a/captain-ux-2.jpg 740w&quot;
        sizes=&quot;(max-width: 740px) 100vw, 740px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Ver outro dev usando sua API é tão sensacional quanto o Caps usando o martelo (youtube.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Inclusive, durante meu período na &lt;a href=&quot;https://loadsmart.com/#/&quot; title=&quot;Book a truck in seconds&quot;&gt;&lt;em&gt;Loadsmart&lt;/em&gt;&lt;/a&gt;, cheguei a
falar exatamente sobre isso em um
&lt;a href=&quot;https://www.slideshare.net/kplaube/api-first-design&quot; title=&quot;Veja os slides da apresentação API First Design: Insights from the real-life usage&quot;&gt;&lt;em&gt;lightning talk&lt;/em&gt; na &lt;em&gt;Python Sul&lt;/em&gt;&lt;/a&gt;, e sobre como estávamos montando esse processo.&lt;/p&gt;
&lt;p&gt;O contexto pode variar de acordo com o público alvo de sua &lt;em&gt;API&lt;/em&gt;. Por exemplo, no artigo &lt;a href=&quot;https://swagger.io/resources/articles/adopting-an-api-first-approach/&quot;&gt;&quot;Understanding the API-First Approach to Building Products&quot;&lt;/a&gt; do &lt;em&gt;swagger.io&lt;/em&gt;, há uma boa descrição do que &lt;strong&gt;não&lt;/strong&gt; pode faltar quando o assunto é prover &lt;em&gt;APIs&lt;/em&gt; dentro de uma organização:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Brainstorm:&lt;/strong&gt; Primeiro identifique os serviços chave do negócio e suas &lt;em&gt;capabilities&lt;/em&gt;. Descubra quais tipos de &lt;em&gt;APIs&lt;/em&gt;
deveriam ser oferecidas, descreva os casos de uso para tais &lt;em&gt;APIs&lt;/em&gt;, e aponte potenciais &lt;em&gt;endpoints&lt;/em&gt; baseados nesses casos
de uso.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Identifique os stakeholders:&lt;/strong&gt; Quem são os potenciais usuários dentro da sua organização? Tente construir uma visão
clara e compartilhada com os demais times da sua empresa. Permita que &lt;em&gt;stakeholders&lt;/em&gt; influenciem no &lt;em&gt;design&lt;/em&gt; da &lt;em&gt;API&lt;/em&gt; e
envolva-os em melhorias e mudanças.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Projete um contrato:&lt;/strong&gt; O contrato estabelecerá uma série de padrões e boas práticas. Descreva todas as &lt;em&gt;APIs&lt;/em&gt; e garanta
que elas funcionarão de acordo com o acordado.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Crie um style guide:&lt;/strong&gt; Com um &lt;em&gt;style guide&lt;/em&gt; será possível ter consistência entre diferentes times e serviços, dentro
de uma mesma organização. &lt;em&gt;Status codes&lt;/em&gt;, versionamento, erros, padrões de rota, etc. Possuir uma especificação comum reduzirá o atrito para adoção de sua &lt;em&gt;API&lt;/em&gt; por outros desenvolvedores da organização.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Implemente governança:&lt;/strong&gt; Isso ajudará a estabelecer padrões e reforçar &lt;em&gt;outcomes&lt;/em&gt; esperados. Essa prática pode envolver
de &lt;em&gt;code reviews&lt;/em&gt; a &lt;a href=&quot;https://www.mabl.com/blog/understanding-contract-testing-microservices-mabl&quot; title=&quot;Understanding Contract Testing for Microservices&quot;&gt;&lt;em&gt;contract tests&lt;/em&gt;&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Automatize processos:&lt;/strong&gt; Utilize ferramentas para automatizar o processo de geração da documentação de &lt;em&gt;API&lt;/em&gt;, validação
de estilo, &lt;em&gt;mocking&lt;/em&gt;, versionamento, etc. Prover todo o ferramental necessário para que o usuário possa interagir com sua
&lt;em&gt;API&lt;/em&gt; facilmente faz parte desse passo.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Controle o seu portfolio de APIs:&lt;/strong&gt; Não é raro esquecermos que certo serviço já existe, portanto, possuir um sistema
que auxilie no gerenciamento e &lt;em&gt;tracking&lt;/em&gt; de &lt;em&gt;APIs&lt;/em&gt; é fundamental.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Crie um portal para desenvolvedores internos:&lt;/strong&gt; Tenha um lugar centralizado onde usuários possam encontrar a documentação,
especificação e demais contratos. &lt;em&gt;Developer Experience&lt;/em&gt; é importante.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Muitos desses passos, mesmo em um contexto onde você esteja provendo &lt;em&gt;APIs&lt;/em&gt; para usuários externos, fazem completo sentido
(e provavelmente já façam parte da fase de arquitetura e &lt;em&gt;design&lt;/em&gt; do seu produto). Possuir um portal no qual você exponha
as suas &lt;em&gt;APIs&lt;/em&gt;, como elas funcionam e como um possível parceiro é capaz de integrar-se a ela, não são apenas artefatos de
engenharia, também são possíveis artefatos de negócios.&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;Se você já pratica &lt;a href=&quot;https://en.wikipedia.org/wiki/Design_by_contract&quot; title=&quot;Leia mais no Wikipedia&quot;&gt;&lt;em&gt;design by contract&lt;/em&gt;&lt;/a&gt;,
muito do que foi dito aqui já faz parte do seu cotidiano.&lt;/p&gt;
&lt;p&gt;E com o &lt;em&gt;microservices&lt;/em&gt; fazendo cada vez mais &quot;parte da normalidade&quot;, &lt;em&gt;API-First&lt;/em&gt; pode parece mais um &lt;em&gt;buzzword&lt;/em&gt; para descrever
o que já é comum. Ainda assim, não é raro escutarmos histórias sobre dois serviços diferentes que não são
capazes de se comunicar, ou de prestadores de serviço que produzem interfaces gráficas para empresas e que na hora de &lt;br&gt;
vinculá-las ao &lt;em&gt;back end&lt;/em&gt; a coisa simplesmente não funciona.&lt;/p&gt;
&lt;p&gt;Lembro que o meu primeiro contato com &lt;em&gt;API-First&lt;/em&gt; foi fruto de uma necessidade de expor certa funcionalidade para um certo
grupo de possíveis parceiros. Pensar na &lt;em&gt;API&lt;/em&gt; primeiro foi um exercício interessante, uma vez que envolveu pensar numa
plataforma coesa, e permitiu levar em consideração questões como reuso (que ocasionou na própria empresa utilizando
a &lt;em&gt;API&lt;/em&gt; produzida).&lt;/p&gt;
&lt;p&gt;Lembro também que o &lt;em&gt;feedback&lt;/em&gt; foi muito bom, uma vez que certos mercados possuem uma postura bem conservadora, e pensar
primeiro no usuário mostrou preocupação genuína com o problema do usuário e consequentemente com o produto sendo escrito.&lt;/p&gt;
&lt;p&gt;Contratos são difíceis de serem alterados depois de implementados, então discutí-los antes permite uma resposta mais rápida
(e indolor) à mudanças, além de proporcionar uma possível &quot;paralelidade&quot; entre servidor e consumidor no desenvolvimento da
funcionalidade (reduzindo assim tempo de &lt;em&gt;release&lt;/em&gt; e aumentando a interação durante a implementação do contrato por ambas as partes).&lt;/p&gt;
&lt;p&gt;Por maior que esse &lt;em&gt;post&lt;/em&gt; seja, no fim das contas &lt;em&gt;API-First&lt;/em&gt; é algo fundamentalmente simples, que assim como o &lt;em&gt;agile&lt;/em&gt;,
parte do princípio que as pessoas (e seus problemas) são o que realmente importa.&lt;/p&gt;
&lt;p&gt;Até a próxima.&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/adobetech/three-principles-of-api-first-design-fa6666d9f694&quot;&gt;Adobe Tech Blog - Three Principles of API First Design&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://apievangelist.com/2014/08/11/what-is-an-api-first-strategy-adding-some-dimensions-to-this-new-question/&quot;&gt;API Evangelist - What Is An API First Strategy? Adding Some Dimensions To This New Question&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://apifriends.com/api-creation/api-first/&quot;&gt;API Friends - What is an API First definition?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://dzone.com/articles/an-api-first-development-approach-1&quot;&gt;DZone - An API-First Development Approach&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://dzone.com/articles/what-api-first&quot;&gt;DZone - What is API First?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.programmableweb.com/news/introduction-to-api-first-design/analysis/2016/10/31&quot;&gt;ProgrammableWeb - Introduction to API-First Design&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://swagger.io/resources/articles/adopting-an-api-first-approach/&quot;&gt;Swagger.io - Understanding the API-First Approach to Building Products&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Design_by_contract&quot;&gt;Wikipedia - Design by contract&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Construindo APIs em Django com Django REST Framework]]></title><description><![CDATA[No post anterior
tive a oportunidade de "destilar" a minha simpatia pelo Django REST Framework,
e de salientar alguns aspectos positivos da ferramenta. A praticidade
é sem dúvida um de seus pontos mais altos, e nesse post vamos explorá-la através
de código escrito (que vale mais do que mil palavras…]]></description><link>https://klauslaube.com.br/2020/02/13/construindo-apis-em-django-com-django-rest-framework.html</link><guid isPermaLink="false">https://klauslaube.com.br/2020/02/13/construindo-apis-em-django-com-django-rest-framework.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Thu, 13 Feb 2020 06:15:00 GMT</pubDate><content:encoded>&lt;p&gt;No &lt;a href=&quot;/2020/02/06/eu-me-rendo-django-rest-framework.html&quot; title=&quot;Leia o meu depoimento sobre a rendição ao DRF&quot;&gt;&lt;em&gt;post&lt;/em&gt; anterior&lt;/a&gt;
tive a oportunidade de &quot;destilar&quot; a minha simpatia pelo &lt;a href=&quot;/tag/drf.html&quot; title=&quot;Leia mais sobre o Django REST Framework&quot;&gt;&lt;em&gt;Django REST Framework&lt;/em&gt;&lt;/a&gt;,
e de salientar alguns aspectos positivos da ferramenta. A praticidade
é sem dúvida um de seus pontos mais altos, e nesse &lt;em&gt;post&lt;/em&gt; vamos explorá-la através
de código escrito (que vale mais do que mil palavras).&lt;/p&gt;
&lt;h2&gt;Instalando&lt;/h2&gt;
&lt;p&gt;Sem mais delongas, o &lt;em&gt;REST Framework&lt;/em&gt; é facilmente instalado através dos comandos &lt;code class=&quot;language-text&quot;&gt;pip&lt;/code&gt; ou &lt;code class=&quot;language-text&quot;&gt;pipenv&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ pipenv install djangorestframework&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Não esqueça de adicionar a &lt;em&gt;app&lt;/em&gt; ao seu &lt;code class=&quot;language-text&quot;&gt;INSTALLED_APPS&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# settings.py&lt;/span&gt;

INSTALLED_APPS &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;rest_framework&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Estamos prontos para mergulhar nos conceitos de &lt;em&gt;routers&lt;/em&gt;, serializadores e &lt;em&gt;views&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;Antes de ir: O problema&lt;/h2&gt;
&lt;p&gt;Embora o &quot;iMDB-clone&quot; seja o meu tipo de exemplo favorito, dessa vez vamos imaginar que estamos desenvolvendo
um &quot;Feedly-clone&quot;. O &lt;a href=&quot;https://feedly.com/&quot; title=&quot;Visite o Feedly&quot;&gt;&lt;em&gt;Feedly&lt;/em&gt;&lt;/a&gt; é uma espécie de leitor &lt;a href=&quot;/2010/11/12/o-que-e-rss.html&quot; title=&quot;O que é RSS?&quot;&gt;&lt;em&gt;RSS&lt;/em&gt;&lt;/a&gt;
(com esteroides) muito popular.&lt;/p&gt;
&lt;p&gt;Vamos focar em dois tipos específicos: &lt;code class=&quot;language-text&quot;&gt;Channel&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;Item&lt;/code&gt;; &lt;em&gt;Channel&lt;/em&gt; é de fato o &lt;em&gt;website&lt;/em&gt; ou &lt;em&gt;blog&lt;/em&gt; que queremos registrar em
nossa plataforma. Esse é o mesmo nome utilizado pelo formato &lt;em&gt;RSS&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;&lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token prolog&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;rss&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;2.0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;channel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;RSS Title&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;This is an example of an RSS feed&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;http://www.example.com/main.html&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;link&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;lastBuildDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Mon, 06 Sep 2010 00:01:00 +0000 &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;lastBuildDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;pubDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Sun, 06 Sep 2009 16:20:00 +0000&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;pubDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ttl&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;1800&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ttl&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

 &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Example entry&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Here is some text containing an interesting description.&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;http://www.example.com/blog/post/1&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;link&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;guid&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;isPermaLink&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;false&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;7bd204c6-1655-4c27-aeee-53f933c5395f&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;guid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;pubDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Sun, 06 Sep 2009 16:20:00 +0000&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;pubDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;channel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;rss&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Já item, como ilustrado no exemplo acima, é de fato a notícia/artigo/música/podcast que aquele canal está publicando.&lt;/p&gt;
&lt;p&gt;Então, partiremos do princípio que os seguintes modelos já estão estabelecidos:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# channels/models.py&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; django&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;db &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; models


&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Channel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;models&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Model&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    title &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; models&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;CharField&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;max_length&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    description &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; models&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;TextField&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;blank&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; null&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    link &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; models&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;URLField&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__str__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title


&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;models&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Model&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    channel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; models&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ForeignKey&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Channel&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; on_delete&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;models&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;CASCADE&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    title &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; models&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;CharField&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;max_length&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    description &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; models&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;TextField&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;blank&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; null&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    link &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; models&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;URLField&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    pub_date &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; models&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;DateTimeField&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__str__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;O próximo passo será definir a &lt;em&gt;API&lt;/em&gt; para que um possível cliente &lt;em&gt;mobile&lt;/em&gt; (por exemplo) a consuma.&lt;/p&gt;
&lt;h2&gt;Os serializadores&lt;/h2&gt;
&lt;p&gt;Segundo a &lt;a href=&quot;https://www.django-rest-framework.org/api-guide/serializers/&quot; title=&quot;Serializers&quot;&gt;documentação oficial&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Serializers allow complex data such as querysets and model instances to be converted to native Python datatypes that can then be easily rendered into JSON, XML or other content types. Serializers also provide deserialization, allowing parsed data to be converted back into complex types, after first validating the incoming data.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Eles funcionam como um espécie de &lt;code class=&quot;language-text&quot;&gt;Form&lt;/code&gt;, proporcionando ferramental para o &lt;em&gt;parsing&lt;/em&gt; e validação das requisições, bem como controlando o que será mandado como &lt;em&gt;output&lt;/em&gt; para o usuário. Dentro dessa analogia, o &lt;code class=&quot;language-text&quot;&gt;ModelSerializer&lt;/code&gt; faz mais ou menos o que o &lt;code class=&quot;language-text&quot;&gt;ModelForm&lt;/code&gt; faz. Logo, um bom candidato para começarmos a escrever o &lt;em&gt;endpoint&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# channels/serializers.py&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; rest_framework &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; serializers

&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; channels&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;models &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Channel


&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ChannelSerializer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serializers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ModelSerializer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Meta&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        model &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Channel
        fields &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;description&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;link&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Uma vez que estamos expondo todos os campos do modelo, é possível trocar a lista em &lt;code class=&quot;language-text&quot;&gt;fields&lt;/code&gt;, pela &lt;em&gt;string&lt;/em&gt; &lt;code class=&quot;language-text&quot;&gt;__all__&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;Viewsets&lt;/h2&gt;
&lt;p&gt;Continuando com as analogias, um &lt;em&gt;viewset&lt;/em&gt; seria mais ou menos o que são as &lt;em&gt;class-based views&lt;/em&gt; no &lt;em&gt;Django&lt;/em&gt;. Elas abstraem uma
porção de lógica repetitiva (como &lt;em&gt;CRUD&lt;/em&gt;) através de uma estrutura muito familiar aos que já possuem certa vivência com o &lt;em&gt;framework&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# channels/api.py&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; rest_framework &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; viewsets

&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; channels&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;models &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Channel
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; channels&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;serializers &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; ChannelSerializer


&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ChannelViewSet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;viewsets&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ModelViewSet&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    queryset &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Channel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;objects&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    serializer_class &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ChannelSerializer&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note que em &lt;code class=&quot;language-text&quot;&gt;queryset&lt;/code&gt; apontamos para o modelo &lt;code class=&quot;language-text&quot;&gt;Channel&lt;/code&gt;, e em &lt;code class=&quot;language-text&quot;&gt;serializer_class&lt;/code&gt; para a classe serializadora criada anteriormente.&lt;/p&gt;
&lt;h2&gt;Fazendo o roteamento&lt;/h2&gt;
&lt;p&gt;Como último passo para termos algo de fato visual, vamos mapear as rotas para o novo recurso criado.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 740px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/767c61c3f85f83779b4b72b19b2e65d7/07f3a/hyperdrive.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 42.1875%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAMF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABw6BIH//EABcQAAMBAAAAAAAAAAAAAAAAAAACMQH/2gAIAQEAAQUCXSDX/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQAGPwJ//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAERMWH/2gAIAQEAAT8hgN0ump//2gAMAwEAAgADAAAAEIAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Qp//EAB0QAAIBBAMAAAAAAAAAAAAAAAERACExQVFhoeH/2gAIAQEAAT8QCjQLQOuZVSLP3qDaLBzP/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Falcon em hyperdrive&quot;
        title=&quot;Usar DRF é como entrar em hyperdrive (pinpointe.com)&quot;
        src=&quot;/static/767c61c3f85f83779b4b72b19b2e65d7/07f3a/hyperdrive.jpg&quot;
        srcset=&quot;/static/767c61c3f85f83779b4b72b19b2e65d7/7809d/hyperdrive.jpg 192w,
/static/767c61c3f85f83779b4b72b19b2e65d7/4ecad/hyperdrive.jpg 384w,
/static/767c61c3f85f83779b4b72b19b2e65d7/07f3a/hyperdrive.jpg 740w&quot;
        sizes=&quot;(max-width: 740px) 100vw, 740px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Usar DRF é como entrar em hyperdrive (pinpointe.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Uma das vantagens de utilizar um &lt;em&gt;viewset&lt;/em&gt; é que ele também se encarrega de fazer o mapeamento das &lt;em&gt;URLs&lt;/em&gt;. Por exemplo, o &lt;code class=&quot;language-text&quot;&gt;ChannelViewSet&lt;/code&gt; uma vez que mapeado,
responderá para rotas terminando em &lt;code class=&quot;language-text&quot;&gt;/&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;/&amp;lt;id-do-channel&amp;gt;&lt;/code&gt;. Além disso compreenderá que um &lt;code class=&quot;language-text&quot;&gt;POST&lt;/code&gt; em &lt;code class=&quot;language-text&quot;&gt;/&lt;/code&gt; é relacionado à criação de um novo elemento, bem como &lt;code class=&quot;language-text&quot;&gt;DELETE&lt;/code&gt; em &lt;code class=&quot;language-text&quot;&gt;/&amp;lt;id-do-channel&amp;gt;&lt;/code&gt; está relação à remoção:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# urls.py&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; django&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;urls &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; include&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; path

&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; rest_framework &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; routers
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; channels&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;api &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; ChannelViewSet

api_router &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; routers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;DefaultRouter&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
api_router&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;register&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;r&quot;channels&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ChannelViewSet&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

urlpatterns &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    path&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;api/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; include&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;api_router&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;urls&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nesse momento já é possível presenciar um resultado mais sólido ao acessar &lt;code class=&quot;language-text&quot;&gt;http://localhost:8000/api&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 740px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0a797ad2b8417bd9a2e5f88cd3c3a1b0/50383/django-rest-framework-example.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.6875%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAABYlAAAWJQFJUiTwAAABj0lEQVQoz32R2UrDUBCG+yYa8UahthVv1Noaalu3otblxmcS8RkEn8HaNHF5ABFEhEosiCbaJmma5WxZnKR1K9LDx89wmG/mwElslPfy2fVyYYfPra8sV9aK1VJhu5DfzC2ufrO0UC7kKyW+srtR4osHayvVIr8FPYn02Pj81DSfzuRT6WwymZtJzU1OZriJ2b9kOC6+hOQGN+NcQpQkQRTP63VBEqEALgShVq/XhGEaYkOSGmKckiQ2Li8TYRgGQUApDXw/HHlMEr47fpeGCiSOmiNZVVVZlpvNpqIovu8zRhljUAQwL04vnnty0zo8uzu6kvdPb4+v5YFsmr23N6Xd7miarutGJzoapeCHnhfpfQIgCKJ3+nH2ZcdxwXFdzAijmBJMESIjgE4YPdgMe+7vH55ary9ts/VudC0XI/IDHgahX7LW0R6fWs9KWzVstWvrlosIHfDfK2AzIV8yoQybDjFs0rWpYRG9hz6MiI6JDAvhkTJlHrYR6TnYwcRyoSBmDBQOgr4hMIbf8ED8BMauEY/dCRS/AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Exemplo ao acessar o endereço no browser&quot;
        title=&quot;Exemplo ao acessar o endereço no browser&quot;
        src=&quot;/static/0a797ad2b8417bd9a2e5f88cd3c3a1b0/50383/django-rest-framework-example.png&quot;
        srcset=&quot;/static/0a797ad2b8417bd9a2e5f88cd3c3a1b0/8514f/django-rest-framework-example.png 192w,
/static/0a797ad2b8417bd9a2e5f88cd3c3a1b0/804b2/django-rest-framework-example.png 384w,
/static/0a797ad2b8417bd9a2e5f88cd3c3a1b0/50383/django-rest-framework-example.png 740w&quot;
        sizes=&quot;(max-width: 740px) 100vw, 740px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Exemplo ao acessar o endereço no browser&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Não ligue para a porta &lt;code class=&quot;language-text&quot;&gt;:5000&lt;/code&gt; no exemplo acima...&lt;/p&gt;
&lt;p&gt;Se você não é fã do &lt;em&gt;browsable api&lt;/em&gt;, e não quer ter essa visão do &lt;code class=&quot;language-text&quot;&gt;API Root&lt;/code&gt; (como da imagem acima), troque o &lt;code class=&quot;language-text&quot;&gt;DefaultRouter&lt;/code&gt; por &lt;code class=&quot;language-text&quot;&gt;SimpleRouter&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;CRUD em ação&lt;/h2&gt;
&lt;p&gt;Considerando tudo o que foi dito até então, podemos esperar que temos o recurso mapeado no endereço &lt;code class=&quot;language-text&quot;&gt;http://localhost:8000/api/channels&lt;/code&gt;,
e que a partir desse, poderemos desempenhar a listagem, adição, edição e exclusão de dados desse recurso.&lt;/p&gt;
&lt;p&gt;Começamos então adicionando um elemento, ao enviar o método &lt;code class=&quot;language-text&quot;&gt;POST&lt;/code&gt; para o endereço com final &lt;code class=&quot;language-text&quot;&gt;channels/&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl -XPOST http://localhost:8000/api/channels/ --data &amp;#39;{
    &amp;quot;id&amp;quot;: 1,
    &amp;quot;title&amp;quot;: &amp;quot;Klaus Laube&amp;quot;,
    &amp;quot;description&amp;quot;: &amp;quot;Python, Django e desenvolvimento Web&amp;quot;,
    &amp;quot;link&amp;quot;: &amp;quot;https://klauslaube.com.br&amp;quot;
}&amp;#39; --header &amp;quot;Content-Type: application/json&amp;quot;

{&amp;quot;id&amp;quot;:1,&amp;quot;title&amp;quot;:&amp;quot;Klaus Laube&amp;quot;,&amp;quot;description&amp;quot;:&amp;quot;Python, Django e desenvolvimento Web&amp;quot;,&amp;quot;link&amp;quot;:&amp;quot;https://klauslaube.com.br&amp;quot;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Como o serializador espelha as propriedades do modelo &lt;code class=&quot;language-text&quot;&gt;Channel&lt;/code&gt;, caso um campo obrigatório não seja enviado
no &lt;em&gt;payload&lt;/em&gt;, o próprio serializador se encarregará de fazer essa validação e de retornar detalhes do erro ao usuário:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl -i -XPOST http://localhost:8000/api/channels/ --data &amp;#39;{
    &amp;quot;title&amp;quot;: &amp;quot;Klaus Laube&amp;quot;,
    &amp;quot;description&amp;quot;: &amp;quot;Python, Django, APIs, e desenvolvimento Web&amp;quot;
}&amp;#39; --header &amp;quot;Content-Type: application/json&amp;quot;

HTTP/1.1 400 Bad Request
Date: Tue, 11 Feb 2020 18:00:44 GMT
Server: WSGIServer/0.2 CPython/3.7.2
Content-Type: application/json
Vary: Accept, Cookie
Allow: GET, POST, HEAD, OPTIONS
X-Frame-Options: DENY
Content-Length: 36
X-Content-Type-Options: nosniff

{&amp;quot;link&amp;quot;:[&amp;quot;This field is required.&amp;quot;]}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Como estamos falando de uma &lt;em&gt;API&lt;/em&gt; &lt;em&gt;REST&lt;/em&gt;, é normal esperarmos que um &lt;code class=&quot;language-text&quot;&gt;GET&lt;/code&gt; no mesmo endereço traga uma lista de &lt;em&gt;channels&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl http://localhost:8000/api/channels/

[{&amp;quot;id&amp;quot;:1,&amp;quot;title&amp;quot;:&amp;quot;Klaus Laube&amp;quot;,&amp;quot;description&amp;quot;:&amp;quot;Python, Django e desenvolvimento Web&amp;quot;,&amp;quot;link&amp;quot;:&amp;quot;https://klauslaube.com.br&amp;quot;}]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;E normalmente, um &lt;code class=&quot;language-text&quot;&gt;GET&lt;/code&gt; em &lt;code class=&quot;language-text&quot;&gt;channels/1&lt;/code&gt; deve trazer detalhes daquele recurso:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl http://localhost:8000/api/channels/1/

{&amp;quot;id&amp;quot;:1,&amp;quot;title&amp;quot;:&amp;quot;Klaus Laube&amp;quot;,&amp;quot;description&amp;quot;:&amp;quot;Python, Django e desenvolvimento Web&amp;quot;,&amp;quot;link&amp;quot;:&amp;quot;https://klauslaube.com.br&amp;quot;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Para atualizar o registro, enviamos o método &lt;code class=&quot;language-text&quot;&gt;PUT&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl -XPUT http://localhost:8000/api/channels/1/ --data &amp;#39;{
    &amp;quot;title&amp;quot;: &amp;quot;Klaus Laube&amp;quot;,
    &amp;quot;description&amp;quot;: &amp;quot;Python, Django, APIs, e desenvolvimento Web&amp;quot;,
    &amp;quot;link&amp;quot;: &amp;quot;https://klauslaube.com.br&amp;quot;
}&amp;#39; --header &amp;quot;Content-Type: application/json&amp;quot;

{&amp;quot;id&amp;quot;:1,&amp;quot;title&amp;quot;:&amp;quot;Klaus Laube&amp;quot;,&amp;quot;description&amp;quot;:&amp;quot;Python, Django, APIs, e desenvolvimento Web&amp;quot;,&amp;quot;link&amp;quot;:&amp;quot;https://klauslaube.com.br&amp;quot;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;E para finalizar, com &lt;code class=&quot;language-text&quot;&gt;DELETE&lt;/code&gt; é possível remover o recurso:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl -XDELETE http://localhost:8000/api/channels/2/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Mágico, não?!&lt;/p&gt;
&lt;h2&gt;Serializando relacionamentos&lt;/h2&gt;
&lt;p&gt;Passaremos a abordar agora a construção do &lt;em&gt;endpoint&lt;/em&gt; para o recurso &lt;code class=&quot;language-text&quot;&gt;Item&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/71dd224a33c9c79420baf43984fa2225/c08c5/vim-jedi.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUCAwT/xAAWAQEBAQAAAAAAAAAAAAAAAAACAQP/2gAMAwEAAhADEAAAAVzVJo0VJAo//8QAGhAAAgMBAQAAAAAAAAAAAAAAAAMBAhESE//aAAgBAQABBQJGejGdVKjJnD//xAAXEQADAQAAAAAAAAAAAAAAAAABAhAR/9oACAEDAQE/AQ2T/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhAAAgIDAAAAAAAAAAAAAAAAAAEQESFBQv/aAAgBAQAGPwLJfK1CFH//xAAYEAADAQEAAAAAAAAAAAAAAAAAARExIf/aAAgBAQABPyFmQRbUJWtm6KuhpF4I/9oADAMBAAIAAwAAABBY7//EABYRAQEBAAAAAAAAAAAAAAAAAAEREP/aAAgBAwEBPxARJn//xAAWEQEBAQAAAAAAAAAAAAAAAAARAAH/2gAIAQIBAT8Q10m//8QAHBABAQACAgMAAAAAAAAAAAAAAREAITFhQVGB/9oACAEBAAE/ELpIjVKHeBMI1/AHveaSja5xjbu/ccHsgBcTOc//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Kylo vs Rey&quot;
        title=&quot;Nem o DRF consegue serializar o relacionamento entre Rey e Kylo (jovemnerd.com.br)&quot;
        src=&quot;/static/71dd224a33c9c79420baf43984fa2225/c08c5/vim-jedi.jpg&quot;
        srcset=&quot;/static/71dd224a33c9c79420baf43984fa2225/7809d/vim-jedi.jpg 192w,
/static/71dd224a33c9c79420baf43984fa2225/4ecad/vim-jedi.jpg 384w,
/static/71dd224a33c9c79420baf43984fa2225/c08c5/vim-jedi.jpg 640w&quot;
        sizes=&quot;(max-width: 640px) 100vw, 640px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Nem o DRF consegue serializar o relacionamento entre Rey e Kylo (jovemnerd.com.br)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Começamos pelo &lt;em&gt;serializer&lt;/em&gt;, que não é muito diferente do construído anteriormente para o modelo &lt;code class=&quot;language-text&quot;&gt;Channel&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# channels/serializers.py&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ItemSerializer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serializers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ModelSerializer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Meta&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        model &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Item
        fields &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;__all__&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;O &lt;code class=&quot;language-text&quot;&gt;ModelSerializer&lt;/code&gt; &quot;automagicamente&quot; fará o &lt;em&gt;parsing&lt;/em&gt; do relacionamento entre &lt;code class=&quot;language-text&quot;&gt;Item&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;Channel&lt;/code&gt;. O resultado da serialização de uma instância
de &lt;code class=&quot;language-text&quot;&gt;Item&lt;/code&gt; terá uma propriedade &lt;code class=&quot;language-text&quot;&gt;channel&lt;/code&gt;, com a chave primária do elemento relacionado como valor:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;(...)

&amp;gt;&amp;gt;&amp;gt; item = Item.objects.first()
&amp;gt;&amp;gt;&amp;gt; serializer = ItemSerializer(item)
&amp;gt;&amp;gt;&amp;gt; data = serializer.data

&amp;gt;&amp;gt;&amp;gt; print(data[&amp;quot;channel&amp;quot;])
1&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Antes de passarmos para o &lt;em&gt;viewset&lt;/em&gt;, vamos discutir como ficará a &lt;em&gt;URL&lt;/em&gt; desse recurso. Se seguirmos a mesma receita utilizada para &lt;code class=&quot;language-text&quot;&gt;Channel&lt;/code&gt;,
teremos um endereço semelhante com o abaixo:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;http://localhost:8000/api/items/&amp;lt;id&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Mas que tal se &lt;code class=&quot;language-text&quot;&gt;channels&lt;/code&gt; fosse parte da &lt;em&gt;URL&lt;/em&gt; de &lt;code class=&quot;language-text&quot;&gt;items&lt;/code&gt;? É possível atingir tal resultado com o conceito de recurso aninhado.&lt;/p&gt;
&lt;h2&gt;Nested resources&lt;/h2&gt;
&lt;p&gt;O que queremos, na prática, é o seguinte:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;http://localhost:8000/api/channels/&amp;lt;id-do-channel&amp;gt;/items/&amp;lt;id-do-item&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Com isso, ao acessar &lt;code class=&quot;language-text&quot;&gt;channels/1/items&lt;/code&gt; (por exemplo), teremos uma listagem de todos os itens relacionados
com o canal &lt;code class=&quot;language-text&quot;&gt;1&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Infelizmente o &lt;em&gt;DRF&lt;/em&gt; não possui nenhuma &quot;classe mágica&quot; que faça isso acontecer com poucas linhas de código. Estratégias
para atingir o mesmo resultado podem variar. Existe uma biblioteca que integra-se com o &lt;em&gt;DRF&lt;/em&gt; e produz um resultado
similar ao que queremos. Estou falando da &lt;a href=&quot;https://github.com/alanjds/drf-nested-routers&quot; title=&quot;Veja o repositório do projeto&quot;&gt;&lt;em&gt;drf-nested-routers&lt;/em&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ pipenv install drf-nested-routers&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Fica o &lt;em&gt;disclaimer&lt;/em&gt;:&lt;/strong&gt; Como o próprio autor da biblioteca salienta na documentação, essa é uma ferramenta em estado experimental, portanto,
cogite alternativas quando estiver fazendo o &lt;em&gt;deploy&lt;/em&gt; do código para produção. Para provar o conceito apresentado nesse &lt;em&gt;post&lt;/em&gt;, ela serve
perfeitamente.&lt;/p&gt;
&lt;p&gt;Agora sim podemos continuar com o desenvolvimento do recurso &lt;code class=&quot;language-text&quot;&gt;Item&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# channels/api.py&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ItemViewSet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;viewsets&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ModelViewSet&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    serializer_class &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ItemSerializer

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_queryset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;objects&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            channel&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;kwargs&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;channel_pk&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note a sobrescrita do método &lt;code class=&quot;language-text&quot;&gt;get_queryset&lt;/code&gt;. O parâmetro &lt;code class=&quot;language-text&quot;&gt;channel_pk&lt;/code&gt; será passado para o &lt;code class=&quot;language-text&quot;&gt;ItemViewSet&lt;/code&gt; no momento
em que registrarmos a classe no &lt;code class=&quot;language-text&quot;&gt;Router&lt;/code&gt;. Com isso, de forma &quot;lazy&quot;, estamos dizendo que os items pesquisados
devem ser relacionados com o &lt;code class=&quot;language-text&quot;&gt;channel&lt;/code&gt; mencionado no &lt;em&gt;path&lt;/em&gt; do endereço acessado.&lt;/p&gt;
&lt;p&gt;De volta ao &lt;code class=&quot;language-text&quot;&gt;urls.py&lt;/code&gt;, atualizaremos o roteamento para ficar semelhante com o exemplo abaixo:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# urls.py&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; django&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;urls &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; include&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; path
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; rest_framework_nested &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; routers

&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; channels&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;api &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; ChannelViewSet&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ItemViewSet

api_router &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; routers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;DefaultRouter&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
api_router&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;register&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;r&quot;channels&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ChannelViewSet&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

channels_router &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; routers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;NestedDefaultRouter&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    api_router&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;r&quot;channels&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; lookup&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;channel&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
channels_router&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;register&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;r&quot;items&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ItemViewSet&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    basename&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;channel-items&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

urlpatterns &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    path&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;api/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; include&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;api_router&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;urls&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    path&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;api/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; include&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;channels_router&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;urls&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vamos aos pontos de atenção:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Importamos &lt;code class=&quot;language-text&quot;&gt;routers&lt;/code&gt; de &lt;code class=&quot;language-text&quot;&gt;rest_framework_nested&lt;/code&gt;, e não mais de &lt;code class=&quot;language-text&quot;&gt;rest_framework&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;Agora lidamos com duas instâncias de &lt;code class=&quot;language-text&quot;&gt;Router&lt;/code&gt;, a primeiro vindo de &lt;code class=&quot;language-text&quot;&gt;api_router = routers.DefaultRouter()&lt;/code&gt;,
e a segunda vindo de &lt;code class=&quot;language-text&quot;&gt;channels_router = routers.NestedDefaultRouter(api_router, r&amp;quot;channels&amp;quot;, lookup=&amp;quot;channel&amp;quot;)&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;DefaultRouter&lt;/code&gt; continua com o mesmo comportamento do exemplo anterior;&lt;/li&gt;
&lt;li&gt;Precisamos adicionar ao &lt;code class=&quot;language-text&quot;&gt;urlpatterns&lt;/code&gt; a instância de &lt;code class=&quot;language-text&quot;&gt;DefaultRouter&lt;/code&gt; e as instâncias de &lt;code class=&quot;language-text&quot;&gt;NestedDefaultRouter&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;NestedDefaultRouter&lt;/code&gt; espera três parâmetros:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;parent_router&lt;/code&gt;: O &lt;code class=&quot;language-text&quot;&gt;Router&lt;/code&gt; &quot;pai&quot;, podendo ser um &lt;code class=&quot;language-text&quot;&gt;DefaultRouter&lt;/code&gt; ou até mesmo outro &lt;code class=&quot;language-text&quot;&gt;NestedDefaultRouter&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;parent_prefix&lt;/code&gt;: O prefixo de &lt;em&gt;URL&lt;/em&gt; no qual os recursos registrados passarão a ser articulados como sub recursos;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;lookup&lt;/code&gt;: É a partir dessa informação que a chave &lt;code class=&quot;language-text&quot;&gt;channel_pk&lt;/code&gt; é criada e passada para o &lt;em&gt;viewset&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Aqui também, se você não quiser ter a visão de &lt;em&gt;browsable api&lt;/em&gt; habilitada, troque para o &lt;code class=&quot;language-text&quot;&gt;SimpleRouter&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Pronto! O recurso &lt;code class=&quot;language-text&quot;&gt;Item&lt;/code&gt; está disponível para as operações exibidas anteriormente:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl http://localhost:8000/api/channels/1/items/

[{&amp;quot;id&amp;quot;:1,&amp;quot;title&amp;quot;:&amp;quot;Eu me rendo: Django REST Framework&amp;quot;,&amp;quot;description&amp;quot;:&amp;quot;Confesso que nunca fui muito simpático ao Django REST Framework...&amp;quot;,&amp;quot;link&amp;quot;:&amp;quot;https://klauslaube.com.br/2020/02/06/eu-me-rendo-django-rest-framework.html&amp;quot;,&amp;quot;pub_date&amp;quot;:&amp;quot;2020-02-06T09:40:00Z&amp;quot;,&amp;quot;channel&amp;quot;:1}]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;O &lt;em&gt;payload&lt;/em&gt; retorna uma chave &lt;code class=&quot;language-text&quot;&gt;channel&lt;/code&gt; para cada item. Uma vez que estamos falando de um &lt;em&gt;nested resource&lt;/em&gt;, não faz muito sentido retornarmos essa informação. A maneira mais prática de corrigirmos isso é alterando a classe serializadora:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# channels/serializers.py&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ItemSerializer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serializers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ModelSerializer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Meta&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        model &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Item
        exclude &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;channel&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Como queremos tudo, menos o &lt;code class=&quot;language-text&quot;&gt;channel&lt;/code&gt;, utilizamos a propriedade &lt;code class=&quot;language-text&quot;&gt;exclude&lt;/code&gt; ao invés de &lt;code class=&quot;language-text&quot;&gt;fields&lt;/code&gt;, e determinamos o que queremos excluir da resposta.&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;Há muito o que ser discutido ainda, como customização, autenticação, segurança, &lt;em&gt;HATEOAS&lt;/em&gt;, etc. Assuntos esses que pretendo abordar em &lt;em&gt;posts&lt;/em&gt; vindouros.&lt;/p&gt;
&lt;p&gt;Com o mínimo coberto no &lt;em&gt;getting started&lt;/em&gt; da documentação do &lt;em&gt;DRF&lt;/em&gt;, já é
possível termos algo &lt;em&gt;up &amp;#x26; running&lt;/em&gt;. Provar conceitos e discutir contratos
passou a ser muito menos custoso graças à biblioteca.&lt;/p&gt;
&lt;p&gt;Essa &quot;proximidade&quot; de conceitos como serializadores e &lt;em&gt;viewsets&lt;/em&gt;, com conceitos bem estabelecidos do &lt;em&gt;Django&lt;/em&gt; (como &lt;em&gt;forms&lt;/em&gt; e &lt;em&gt;class-based views&lt;/em&gt;) faz com que o atrito seja menor, e a curva de aprendizagem mais baixa. É quase natural compreender tais artefatos à primeira vista.&lt;/p&gt;
&lt;p&gt;Se o seu projeto é feito em &lt;em&gt;Django&lt;/em&gt;, e você necessita escrever &lt;em&gt;APIs&lt;/em&gt; &lt;em&gt;REST&lt;/em&gt;, não perca tempo e caia de cabeça no &lt;em&gt;REST Framework&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Até a próxima.&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.django-rest-framework.org/tutorial/quickstart/&quot;&gt;Django REST Framework - Quickstart&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/RSS&quot;&gt;Wikipedia - RSS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Eu me rendo: Django REST Framework]]></title><description><![CDATA[Confesso que nunca fui muito simpático ao Django REST Framework. Antes de adotá-lo tive a oportunidade de explorar outras opções, como o Restless, e admito que sempre havia algo faltando, ou algum esforço extra necessário para obter alguma funcionalidade que já vinha embutida no DRF. Comecei a…]]></description><link>https://klauslaube.com.br/2020/02/06/eu-me-rendo-django-rest-framework.html</link><guid isPermaLink="false">https://klauslaube.com.br/2020/02/06/eu-me-rendo-django-rest-framework.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Thu, 06 Feb 2020 09:40:00 GMT</pubDate><content:encoded>&lt;p&gt;Confesso que nunca fui muito simpático ao &lt;a href=&quot;https://www.django-rest-framework.org/&quot; title=&quot;Visite a página oficial do projeto&quot;&gt;&lt;em&gt;Django REST Framework&lt;/em&gt;&lt;/a&gt;. Antes de adotá-lo tive a oportunidade de explorar outras opções, como o &lt;a href=&quot;/2017/01/06/construindo-apis-em-django-com-restless.html&quot; title=&quot;Leia mais sobre o Restless&quot;&gt;&lt;em&gt;Restless&lt;/em&gt;&lt;/a&gt;, e admito que sempre havia algo faltando, ou algum esforço extra necessário para obter alguma funcionalidade que já vinha embutida no &lt;a href=&quot;/tag/drf.html&quot; title=&quot;Leia mais sobre Django REST Framework&quot;&gt;&lt;em&gt;DRF&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Comecei a aceitar a sua natureza &quot;baterias inclusas&quot; após me distanciar do desenvolvimento &lt;a href=&quot;/tag/python.html&quot; title=&quot;Leia mais sobre Python&quot;&gt;&lt;em&gt;Python&lt;/em&gt;&lt;/a&gt;. Sob uma ótica diferente, compreendi o papel do &lt;em&gt;DRF&lt;/em&gt;, e fiz as pazes com esse sentimento de confiar em uma biblioteca (supostamente) complexa para construir &lt;a href=&quot;/tag/api.html&quot; title=&quot;Leia mais sobre APIs&quot;&gt;&lt;em&gt;APIs&lt;/em&gt;&lt;/a&gt; (teoricamente) simples. Afinal, se &quot;ser bloated&quot; for um argumento decisivo, não escolheríamos &lt;a href=&quot;/tag/django.html&quot; title=&quot;Leia mais sobre Django&quot;&gt;&lt;em&gt;Django&lt;/em&gt;&lt;/a&gt; para escrever &lt;em&gt;APIs&lt;/em&gt; (principalmente em um contexto de microserviços).&lt;/p&gt;
&lt;h2&gt;Motivação&lt;/h2&gt;
&lt;p&gt;É claro que a minha atual simpatia pela ferramenta não se deve apenas ao fato de eu tê-la &quot;aceitado&quot;. Pura ignorância da minha parte não ter compreendido antes todos os aspectos positivos que o projeto possui, e todas as facilidades que ele proporciona aos seus usuários.&lt;/p&gt;
&lt;h3&gt;Patrocinado&lt;/h3&gt;
&lt;p&gt;O que faz do &lt;em&gt;REST Framework&lt;/em&gt; um projeto interessante é, para começo de conversa, que ele é financiado colaborativamente, com empresas do calibre de &lt;a href=&quot;https://getsentry.com/welcome/&quot; title=&quot;Conheça o Sentry&quot;&gt;&lt;em&gt;Sentry&lt;/em&gt;&lt;/a&gt; e &lt;a href=&quot;https://www.digitalocean.com/&quot; title=&quot;Cloud sem complicação&quot;&gt;&lt;em&gt;DigitalOcean&lt;/em&gt;&lt;/a&gt; fazendo parte da lista de patrocinadores. Essa característica faz com que a biblioteca tenha um &lt;em&gt;long-term&lt;/em&gt; mais provável, uma vez que os esforços de desenvolvimento são financiados. Além disso, &lt;em&gt;releases&lt;/em&gt; são mais substanciais e frequentes.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://fund.django-rest-framework.org/topics/funding/&quot; title=&quot;Veja mais em Funding&quot;&gt;Leia mais sobre como patrocinar o projeto&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Autenticação&lt;/h3&gt;
&lt;p&gt;Lidar com autenticação &quot;from scratch&quot; é no mínimo &lt;em&gt;error prone&lt;/em&gt;. O &lt;em&gt;framework&lt;/em&gt; já possui uma série de mecanismos de autenticação &lt;em&gt;built-in&lt;/em&gt; (como &lt;code class=&quot;language-text&quot;&gt;BasicAuthentication&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;SessionAuthentication&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;TokenAuthentication&lt;/code&gt;), e uma infinidade de integrações com &lt;em&gt;third parties&lt;/em&gt; (como &lt;a href=&quot;https://github.com/jazzband/django-oauth-toolkit&quot; title=&quot;Veja a página do projeto no GitHub&quot;&gt;django-oauth-toolkit&lt;/a&gt;, &lt;a href=&quot;https://github.com/davesque/django-rest-framework-simplejwt&quot; title=&quot;Biblioteca para adoção de JWT&quot;&gt;django-rest-framework-simplejwt&lt;/a&gt; e &lt;a href=&quot;https://github.com/sunscrapers/djoser&quot; title=&quot;Excelente opção de auth para APIs em Django&quot;&gt;djoser&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/49eeb3ceeb9248a95cd70ff9b2748f77/1c72d/never-give-up.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.39583333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDAQT/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABVI9FmkA//8QAGhABAAIDAQAAAAAAAAAAAAAAAQADAhESIv/aAAgBAQABBQLfIPmV45WpQoOp/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8BJ//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/AWf/xAAaEAACAgMAAAAAAAAAAAAAAAAAARAxERIh/9oACAEBAAY/AjOzh1wuP//EABsQAAMBAAMBAAAAAAAAAAAAAAABETEhQVFh/9oACAEBAAE/IY0h6xdrFnBEGn0YiuxiTw//2gAMAwEAAgADAAAAEDff/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAEDAQE/EHkN/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAgEBPxDQ6z//xAAcEAEAAgMAAwAAAAAAAAAAAAABABEhMVFhgdH/2gAIAQEAAT8QCkYzpzFa2FrduSvAjsYy8s3fya4EoC17irsmPDU//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Never give up, never surrender&quot;
        title=&quot;Não há nada de errado em render-se de vez em quando (publishedtodeath.blogspot.com)&quot;
        src=&quot;/static/49eeb3ceeb9248a95cd70ff9b2748f77/1c72d/never-give-up.jpg&quot;
        srcset=&quot;/static/49eeb3ceeb9248a95cd70ff9b2748f77/7809d/never-give-up.jpg 192w,
/static/49eeb3ceeb9248a95cd70ff9b2748f77/4ecad/never-give-up.jpg 384w,
/static/49eeb3ceeb9248a95cd70ff9b2748f77/1c72d/never-give-up.jpg 590w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Não há nada de errado em render-se de vez em quando (publishedtodeath.blogspot.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;A possibilidade de mesclar mecanismos num mesmo recurso permite que você tenha uma &lt;em&gt;API&lt;/em&gt; &lt;em&gt;session based&lt;/em&gt; para o seu &lt;em&gt;front-end&lt;/em&gt; em &lt;em&gt;React&lt;/em&gt; (por exemplo), e o mesmo recurso ser capaz de servir acessos utilizando &lt;em&gt;tokens&lt;/em&gt;, para um possível cliente &lt;em&gt;mobile&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.django-rest-framework.org/api-guide/authentication/&quot; title=&quot;Veja mais em Authentication&quot;&gt;Leia mais sobre autenticação&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;SQL &amp;#x26; NoSQL&lt;/h3&gt;
&lt;p&gt;Os serializadores são um aspecto muito interessante da biblioteca. Além do trabalho de &lt;em&gt;marshalling&lt;/em&gt;, eles também servem como validadores. Com o &lt;code class=&quot;language-text&quot;&gt;ModelSerializer&lt;/code&gt; todos os aspectos do seu modelo são &quot;traduzidos&quot; para a &lt;em&gt;API&lt;/em&gt;, no melhor estilo &lt;em&gt;Django Admin&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Mas existe também a possibilidade de escrita de seu própria classe serializadora ao herdar de &lt;code class=&quot;language-text&quot;&gt;serializers.Serializer&lt;/code&gt;. Isso traz flexibilidade para trabalhar com artefatos não relacionados com a &lt;em&gt;ORM&lt;/em&gt; do &lt;em&gt;Django&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;E se &lt;em&gt;HATEOAS&lt;/em&gt; for a sua praia, o &lt;code class=&quot;language-text&quot;&gt;HyperlinkedModelSerializer&lt;/code&gt; promove &lt;em&gt;hyperlinks&lt;/em&gt; entre tais classes.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.django-rest-framework.org/api-guide/serializers/&quot; title=&quot;Veja mais em Serializers&quot;&gt;Leia mais sobre serialização&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Developer eXperience&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;APIs&lt;/em&gt; escritas com o &lt;em&gt;REST Framework&lt;/em&gt; ainda ganham a funcionalidade de &quot;web browsable API&quot;. Com isso é possível navegar pelas definições da sua &lt;em&gt;API&lt;/em&gt; (como &lt;em&gt;endpoints&lt;/em&gt;, formatos e métodos) e interagir com a mesma através de uma interface amigável, pronta para ser compartilhada com outros desenvolvedores interessados em consumir a sua solução.&lt;/p&gt;
&lt;p&gt;Uma outra opção é a geração de &lt;a href=&quot;/tag/swagger.html&quot; title=&quot;Leia mais sobre Swagger&quot;&gt;&lt;em&gt;Swagger&lt;/em&gt;&lt;/a&gt; através do &lt;a href=&quot;https://django-rest-swagger.readthedocs.io/en/latest/&quot; title=&quot;Leia a documentação do projeto&quot;&gt;&lt;em&gt;Django REST Swagger&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://restframework.herokuapp.com/&quot; title=&quot;Visite a aplicação de exemplo da documentação oficial&quot;&gt;Veja a &lt;em&gt;browsable API&lt;/em&gt; em ação&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Praticidade&lt;/h3&gt;
&lt;p&gt;E meu argumento final é em torno de sua praticidade. Ter uma &lt;em&gt;API&lt;/em&gt; &lt;a href=&quot;/tag/rest.html&quot; title=&quot;Leia mais sobre REST&quot;&gt;&lt;em&gt;REST&lt;/em&gt;&lt;/a&gt; em &lt;em&gt;Django&lt;/em&gt;, com o &lt;em&gt;DRF&lt;/em&gt;, leva minutos...&lt;/p&gt;
&lt;p&gt;Algumas customizações poderão exigir um pouco mais de conhecimento da biblioteca, bem como um pouquinho de criatividade, mas nada que te impeça de proporcionar um serviço estável, bem escrito, e em baixíssimo tempo de desenvolvimento.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.django-rest-framework.org/api-guide/generic-views/#customizing-the-generic-views&quot; title=&quot;Veja mais em Customizing the generic views&quot;&gt;Leia mais sobre como customizar &lt;em&gt;views&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;Talvez seja só devaneio, mas depois de trabalhar com &lt;em&gt;Spring Boot&lt;/em&gt; para construção de &lt;em&gt;APIs&lt;/em&gt; &lt;a href=&quot;/tag/java.html&quot; title=&quot;(não) leia mais sobre Java&quot;&gt;&lt;em&gt;Java&lt;/em&gt;&lt;/a&gt; em um contexto de microserviços, foi que entendi o propósito do &lt;em&gt;REST Framework&lt;/em&gt;. Deixar de lado essa &quot;birra&quot; com ele (supostamente) ser grande serviu para poder enxergar as qualidades da ferramenta.&lt;/p&gt;
&lt;p&gt;Os pontos negativos ainda estão lá, e provavelmente você também vai achá-los quando estiver &quot;entrincheirado&quot; escrevendo a sua solução. Ainda assim, o &lt;em&gt;DRF&lt;/em&gt; deve ser considerado como possível escolha para escrita de suas &lt;em&gt;APIs&lt;/em&gt; em &lt;em&gt;Python&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;No próximo artigo falaremos de uma maneira prática sobre o &lt;em&gt;framework&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Até lá.&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.django-rest-framework.org/&quot;&gt;Django REST Framework&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Swagger na prática]]></title><description><![CDATA[Voltamos a falar de APIs, e voltamos a falar sobre especificações.
Para continuar o assunto sobre Swagger,
hoje vamos abordar o tema de uma maneira prática. Afinal, é com ela que a gente vê as principais
vantagens de utilizar Swagger + Open API Spec, em relação aos concorrentes. Não deixe de…]]></description><link>https://klauslaube.com.br/2018/03/15/swagger-na-pratica.html</link><guid isPermaLink="false">https://klauslaube.com.br/2018/03/15/swagger-na-pratica.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Thu, 15 Mar 2018 18:15:00 GMT</pubDate><content:encoded>&lt;p&gt;Voltamos a falar de &lt;a href=&quot;/tag/api.html&quot; title=&quot;Leia mais sobre APIs&quot;&gt;&lt;em&gt;APIs&lt;/em&gt;&lt;/a&gt;, e voltamos a falar sobre especificações.
Para continuar o assunto sobre &lt;a href=&quot;/2017/11/25/swagger-e-o-open-api-initiative.html&quot; title=&quot;Swagger e o OAI&quot;&gt;&lt;em&gt;Swagger&lt;/em&gt;&lt;/a&gt;,
hoje vamos abordar o tema de uma maneira prática. Afinal, é com ela que a gente vê as principais
vantagens de utilizar &lt;em&gt;Swagger&lt;/em&gt; + &lt;em&gt;Open API Spec&lt;/em&gt;, em relação aos concorrentes.&lt;/p&gt;
&lt;p&gt;Não deixe de conferir uma abordagem prática ao &lt;a href=&quot;/tag/raml.html&quot; title=&quot;Leia mais sobre RAML&quot;&gt;&lt;em&gt;RAML&lt;/em&gt;&lt;/a&gt;, no &lt;em&gt;post&lt;/em&gt;
&quot;&lt;a href=&quot;/2017/01/31/ramilificando-as-suas-apis.html&quot; title=&quot;Leia o artigo completo&quot;&gt;Ramilificando as suas APIs&lt;/a&gt;&quot;.&lt;/p&gt;
&lt;h2&gt;Aquecendo&lt;/h2&gt;
&lt;p&gt;E mais uma vez vamos usar o nosso &lt;a href=&quot;/2016/05/20/rest-parte-2.html&quot; title=&quot;REST - Parte 2&quot;&gt;mini &lt;em&gt;IMDB&lt;/em&gt;&lt;/a&gt; como exemplo.&lt;/p&gt;
&lt;p&gt;Além disso, vamos aproveitar as ferramentas que o pessoal do &lt;em&gt;Swagger&lt;/em&gt; disponibiliza gratuitamente. A começar pelo
&lt;a href=&quot;https://swagger.io/swagger-editor/&quot; title=&quot;API Development Tools&quot;&gt;&lt;em&gt;Swagger Editor&lt;/em&gt;&lt;/a&gt;. Não é necessário fazer
nenhum tipo de cadastro ou instalação no momento, apenas abrir o editor através do &lt;em&gt;link&lt;/em&gt; &quot;Online Editor&quot;.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 600px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/38bde1abbcaf123f1744a17ab3a04572/b4294/poesia-vogon.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 57.29166666666667%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHnpqJqZpP/xAAaEAADAQADAAAAAAAAAAAAAAABAgMAEiIy/9oACAEBAAEFAo0ZdU8bMxYg9n1PX//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABoQAAMAAwEAAAAAAAAAAAAAAAABERASQYH/2gAIAQEABj8C1i9KlCsvc//EABsQAQACAwEBAAAAAAAAAAAAAAEAESFBUTGR/9oACAEBAAE/IUPkExipyOfRiNq5XcWV27m/oT//2gAMAwEAAgADAAAAEHsf/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEx/9oACAEDAQE/ENR//8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERMf/aAAgBAgEBPxDHS0//xAAbEAEBAAIDAQAAAAAAAAAAAAABEQAhMUFRcf/aAAgBAQABPxB+kZru06xBUEkzfK/d4hS8i5Sk6Xu+3EBrBqa8Yls7Qvus/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Um Vogon, do filme O Guia do Mochileiro das Galáxias&amp;quot;&quot;
        title=&quot;Aguenta um pouco mais dessa poesia Vogon (imagilendo.wordpress.com)&quot;
        src=&quot;/static/38bde1abbcaf123f1744a17ab3a04572/b4294/poesia-vogon.jpg&quot;
        srcset=&quot;/static/38bde1abbcaf123f1744a17ab3a04572/7809d/poesia-vogon.jpg 192w,
/static/38bde1abbcaf123f1744a17ab3a04572/4ecad/poesia-vogon.jpg 384w,
/static/38bde1abbcaf123f1744a17ab3a04572/b4294/poesia-vogon.jpg 600w&quot;
        sizes=&quot;(max-width: 600px) 100vw, 600px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Aguenta um pouco mais dessa poesia Vogon (imagilendo.wordpress.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ele trará um exemplo de especificação. Vamos limpar o editor e começar do zero.&lt;/p&gt;
&lt;h2&gt;Como começar?&lt;/h2&gt;
&lt;p&gt;Como explicado no &lt;em&gt;post&lt;/em&gt; anterior, &lt;em&gt;Swagger&lt;/em&gt; é um padrão de &lt;em&gt;API Spec&lt;/em&gt; mas também é um conjunto de ferramentas que podem trabalhar tanto com &lt;em&gt;Swagger Spec&lt;/em&gt; quanto com &lt;a href=&quot;https://github.com/OAI/OpenAPI-Specification&quot; title=&quot;The OpenAPI Specification&quot;&gt;&lt;em&gt;Open API Spec&lt;/em&gt;&lt;/a&gt;. Vamos começar o documento deixando clara a nossa escolha:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;openapi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;3.0.1&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md&quot; title=&quot;Open API Spec Version 3.0.1&quot;&gt;Confira a versão 3.0.1 do &lt;em&gt;OAI&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;A essa altura o editor já deve ter apontado alguns erros. Por exemplo, é obrigatória a presença de um atributo &lt;a href=&quot;https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#infoObject&quot; title=&quot;Veja na especificação&quot;&gt;&lt;em&gt;info&lt;/em&gt;&lt;/a&gt; e &lt;a href=&quot;https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#pathsObject&quot;&gt;&lt;em&gt;path&lt;/em&gt;&lt;/a&gt;. Vamos corrigí-los:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;openapi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;3.0.1&quot;&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Movies API
  &lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
&lt;span class=&quot;token key atrule&quot;&gt;paths&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;/movies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;summary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; A set of movies&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Em &lt;code class=&quot;language-text&quot;&gt;info&lt;/code&gt;, descrevemos o título da nossa &lt;em&gt;API&lt;/em&gt; e sobre qual versão da mesma estamos falando (nesse caso, &lt;code class=&quot;language-text&quot;&gt;v1&lt;/code&gt;). Em &lt;code class=&quot;language-text&quot;&gt;paths&lt;/code&gt;, descreveremos os &lt;em&gt;endpoints&lt;/em&gt;. Com a adição dessas duas propriedades, podemos progredir com a construção da &lt;em&gt;API&lt;/em&gt;:&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/01b0d8a9683947a281984003c7d4d709/6af66/swagger-editor-example.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 23.958333333333336%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQ0lEQVQY002PTU7CYBCGewVXQlyIYhRbWlqoBSVRY6ILN249BRoiXsGFxsSiG09iFH8S8Agu1KgJRhdsoEXU0pbHDzTEmTyZmXcybzLSSUXjtGpxfC2zdzbCwcUY++cRDivjlK9msS8T2DcT2LVRjqq/2LUI5dso5VoUuz9XIwOt30ubS/OsreRZXF3AtFSMjIJhyqTNJHOWTkKeYme3AHzjBS7dsM2n18L9bNDxGni+y7fvDHZfQpc2rBzLZpZMxiKpaMizCoqsDlCTKWKxSbYK2zw91bm7e+T+4UXUZ17f67S9N/5HrwfSai7HusDKWuTzC4I8RtrAMAxMM8PMzDSlUgk/8Gk2mziuw0fnQxz3/kzCQd/PIAiQkqqKrmmkUqkhqtD66LpOPB6nWCwKw4BWS7zqujiOQ9f3/wx7Q/MwDPkBuzAN0EfEXB8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Exemplo Swagger Editor&amp;quot;&quot;
        title=&quot;Exemplo Swagger Editor&quot;
        src=&quot;/static/01b0d8a9683947a281984003c7d4d709/6af66/swagger-editor-example.png&quot;
        srcset=&quot;/static/01b0d8a9683947a281984003c7d4d709/8514f/swagger-editor-example.png 192w,
/static/01b0d8a9683947a281984003c7d4d709/804b2/swagger-editor-example.png 384w,
/static/01b0d8a9683947a281984003c7d4d709/6af66/swagger-editor-example.png 640w&quot;
        sizes=&quot;(max-width: 640px) 100vw, 640px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Exemplo Swagger Editor&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#openapi-object&quot; title=&quot;Leia na especificação&quot;&gt;Conheça os atributos do &lt;em&gt;OpenAPI Object&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Descrevendo os dados&lt;/h2&gt;
&lt;p&gt;Antes mesmo de adicionarmos os &lt;em&gt;endpoints&lt;/em&gt; na propriedade &lt;code class=&quot;language-text&quot;&gt;paths&lt;/code&gt;, vamos parar e descrever o &lt;em&gt;schema&lt;/em&gt; dos nossos dados. Nesse exemplo, o uso da propriedade &lt;code class=&quot;language-text&quot;&gt;components&lt;/code&gt; pode ser um &quot;overhead&quot;, mas para &lt;em&gt;APIs&lt;/em&gt; grandes, com vários &lt;em&gt;endpoints&lt;/em&gt;, essa separação ajudará na legibilidade e reaproveitamento de código:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;(&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)

&lt;span class=&quot;token key atrule&quot;&gt;paths&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;/movies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;summary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; A set of movies

&lt;span class=&quot;token key atrule&quot;&gt;components&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;schemas&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;Movie&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string
        &lt;span class=&quot;token key atrule&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string
        &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string
      &lt;span class=&quot;token key atrule&quot;&gt;required&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; id
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; title
      &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; object&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Movie&lt;/code&gt; é um objeto e possui três propriedades: &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;title&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;description&lt;/code&gt;, e as duas primeiras são obrigatórias. Você pode estar estranhando o &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt; ser do tipo &lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt;. Nesse exemplo estamos assumindo que os identificadores são &lt;code class=&quot;language-text&quot;&gt;uuids&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/aa469e31e48b67482451d806b46f4142/6af66/swagger-editor-example-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 48.4375%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB5ElEQVQoz22RXWvTYBiG8wM8FaFTSMUqW5Lmq8laaudcO4ThoYK/xwPFqRu0TX+IaMWDeaT+AkW3FToPHIilXZM0aZu0t8/7tolVfODi/SDvxf3kEQ7b63CODBy8u4HHry7h6ZsrePL6Mp61M3jxVsR+W8Th+6twPmXQ+JBB82OG9mvENdqv8btVhAeVEvbulrG1W4Zla9AMaYkM01Jx81YWDecArMKJi0nkYxQO4QY/MY4uMI0DYpQiVHQTZaMAg5DlPDbWJUiSwlEUFdnsdTzff4nu2Q98/nKCr986OD7+jvNfHUziC/xbQs22UTVNGLoG27YIG0qeyWSoKhNSwkadf9wfDOB6HoIgSAXz+YyYpwj37E3cJ4mqadB1nZIaJFMo7R9hvb4QDpjQdQkPs9nfolS4bVl4WCyhSEImkSSJr0yaCJvNJqbTaZqMPWTCOI5TxuMxvxNkenSHUu1SUmuziPwyXSIURRGtVgthGOKs24Xv+/Co7X5/SKvPzwtGC6FCybZ1A49ub6G2U03bXU3oOA5Pdnpyil6vx4WdzjmGQ5dEHj8zKW+ZPdopFLBXKqFAayJM/iFLyFpm5S0HwgjDIN0n8IRsCBVqtVqr8YEwiUapGSZNP5fL8ZZZRVH030Gs8htcgSXS1NDfcwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Editor do Swagger exibindo a seção models&amp;quot;&quot;
        title=&quot;Editor do Swagger exibindo a seção models&quot;
        src=&quot;/static/aa469e31e48b67482451d806b46f4142/6af66/swagger-editor-example-2.png&quot;
        srcset=&quot;/static/aa469e31e48b67482451d806b46f4142/8514f/swagger-editor-example-2.png 192w,
/static/aa469e31e48b67482451d806b46f4142/804b2/swagger-editor-example-2.png 384w,
/static/aa469e31e48b67482451d806b46f4142/6af66/swagger-editor-example-2.png 640w&quot;
        sizes=&quot;(max-width: 640px) 100vw, 640px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Editor do Swagger exibindo a seção models&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#schemaObject&quot; title=&quot;Veja na especificação&quot;&gt;Saiba mais sobre &lt;em&gt;Schema Objects&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Descrevendo os endpoints&lt;/h2&gt;
&lt;p&gt;Os principais &lt;em&gt;endpoints&lt;/em&gt; que imaginamos para esse projeto são:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;GET /movies&lt;/code&gt;: Listagem de filmes;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;POST /movies&lt;/code&gt;: Adição de um filme;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;GET /movies/{id}&lt;/code&gt;: Detalhes de um filme;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;PUT /movies/{id}&lt;/code&gt;: Atualização de um filme;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;DELETE /movies/{id}&lt;/code&gt;: Remoção de um filme.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A listagem é um bom ponto de partida.&lt;/p&gt;
&lt;h3&gt;Listando filmes&lt;/h3&gt;
&lt;p&gt;Voltando à propriedade &lt;code class=&quot;language-text&quot;&gt;paths&lt;/code&gt;, vamos melhorar a definição do &lt;code class=&quot;language-text&quot;&gt;/movies&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;(&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)

&lt;span class=&quot;token key atrule&quot;&gt;paths&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;/movies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;summary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; A set of movies
    &lt;span class=&quot;token key atrule&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;summary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Get a list of movies
      &lt;span class=&quot;token key atrule&quot;&gt;responses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;&apos;200&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Movie list response
          &lt;span class=&quot;token key atrule&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;application/json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
              &lt;span class=&quot;token key atrule&quot;&gt;schema&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; array
                &lt;span class=&quot;token key atrule&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                  &lt;span class=&quot;token key atrule&quot;&gt;$ref&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;#/components/schemas/Movie&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Através do &lt;code class=&quot;language-text&quot;&gt;/movies&lt;/code&gt;, dentro de &lt;code class=&quot;language-text&quot;&gt;paths&lt;/code&gt;, estamos descrevendo o &lt;em&gt;endpoint&lt;/em&gt;. Com o uso de &lt;code class=&quot;language-text&quot;&gt;get:&lt;/code&gt;, declaramos que o &lt;em&gt;endpoint&lt;/em&gt; aceitará o método &lt;code class=&quot;language-text&quot;&gt;GET&lt;/code&gt;. Ainda abusando da indentação do &lt;em&gt;YAML&lt;/em&gt;, deixamos claro que existe uma resposta &lt;code class=&quot;language-text&quot;&gt;200&lt;/code&gt; (sucesso), que o seu conteúdo é &lt;code class=&quot;language-text&quot;&gt;application/json&lt;/code&gt;, e que dentro desse conteúdo haverá uma listagem de filmes.&lt;/p&gt;
&lt;p&gt;Com o &lt;code class=&quot;language-text&quot;&gt;$ref&lt;/code&gt; somos capazes de referenciar um &lt;a href=&quot;https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#pathItemObject&quot; title=&quot;Leia mais na especificação&quot;&gt;&lt;em&gt;Path Item Object&lt;/em&gt;&lt;/a&gt; do próprio arquivo que estamos trabalhando (nesse caso, o &lt;code class=&quot;language-text&quot;&gt;#/components/schemas/Movie&lt;/code&gt; está referência ao bloco de &lt;em&gt;YAML&lt;/em&gt; que criamos no capítulo anterior) ou até mesmo recursos externos. O que possibilita quebrar a &lt;em&gt;spec&lt;/em&gt; em diferentes arquivos.&lt;/p&gt;
&lt;p&gt;Se você já conhece o &lt;a href=&quot;http://json-schema.org/&quot; title=&quot;a vocabulary that allows you to annotate and validate JSON documents&quot;&gt;&lt;em&gt;JSON Schema&lt;/em&gt;&lt;/a&gt;, essa notação não lhe parecerá estranha.&lt;/p&gt;
&lt;h3&gt;Criando filmes&lt;/h3&gt;
&lt;p&gt;Ainda em &lt;code class=&quot;language-text&quot;&gt;/movies&lt;/code&gt;, ao enviar um &lt;code class=&quot;language-text&quot;&gt;POST&lt;/code&gt;, somos capazes de criar um novo filme. Se você já leu sobre &lt;a href=&quot;/tag/rest.html&quot; title=&quot;Leia mais sobre REST&quot;&gt;&lt;em&gt;REST&lt;/em&gt;&lt;/a&gt; sabe que essa prática é recomendada. Vamos adicionar o seguinte bloco abaixo do &lt;code class=&quot;language-text&quot;&gt;get&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;(&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)

&lt;span class=&quot;token key atrule&quot;&gt;paths&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;/movies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    (&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)

      &lt;span class=&quot;token key atrule&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;summary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Add a new movie to the set
        &lt;span class=&quot;token key atrule&quot;&gt;requestBody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;required&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;application/json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
              &lt;span class=&quot;token key atrule&quot;&gt;schema&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;token key atrule&quot;&gt;$ref&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;#/components/schemas/Movie&apos;&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;responses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;&apos;201&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Returns the new movie
            &lt;span class=&quot;token key atrule&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
              &lt;span class=&quot;token key atrule&quot;&gt;application/json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;token key atrule&quot;&gt;schema&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                  &lt;span class=&quot;token key atrule&quot;&gt;$ref&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;#/components/schemas/Movie&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Com o &lt;code class=&quot;language-text&quot;&gt;post:&lt;/code&gt;, temos a necessidade do uso de uma nova propriedade chamada &lt;a href=&quot;https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#requestBodyObject&quot; title=&quot;Veja mais na spec&quot;&gt;&lt;em&gt;requestBody&lt;/em&gt;&lt;/a&gt;. É com ela que descreveremos quais parâmetros o usuário precisará passar para criar um filme. Já o &lt;code class=&quot;language-text&quot;&gt;responses&lt;/code&gt; descreve o retorno de um &lt;code class=&quot;language-text&quot;&gt;201&lt;/code&gt; (created), com o recém criado filme como um &lt;em&gt;JSON&lt;/em&gt; como conteúdo da resposta.&lt;/p&gt;
&lt;p&gt;Opa! Temos um problema aqui! Nosso tipo &lt;code class=&quot;language-text&quot;&gt;Movie&lt;/code&gt; tem um campo &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt; que é obrigatório por padrão. Esse campo não deveria ser enviado pelo cliente. Precisamos corrigir esse comportamento:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;(&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)

&lt;span class=&quot;token key atrule&quot;&gt;paths&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;/movies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    (&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)

      &lt;span class=&quot;token key atrule&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;summary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Add a new movie to the set
        &lt;span class=&quot;token key atrule&quot;&gt;requestBody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;required&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;application/json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
              &lt;span class=&quot;token key atrule&quot;&gt;schema&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;token key atrule&quot;&gt;$ref&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;#/components/schemas/NewMovie&apos;&lt;/span&gt;

(&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)

&lt;span class=&quot;token key atrule&quot;&gt;components&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;schemas&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;Movie&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;allOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;$ref&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;#/components/schemas/NewMovie&apos;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;required&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; id
          &lt;span class=&quot;token key atrule&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
              &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string
    &lt;span class=&quot;token key atrule&quot;&gt;NewMovie&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string
        &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string
      &lt;span class=&quot;token key atrule&quot;&gt;required&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; title&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Com o uso do tipo &lt;code class=&quot;language-text&quot;&gt;NewMovie&lt;/code&gt;, o &lt;em&gt;request&lt;/em&gt; feito pelo usuário está descrito da maneira correta (sem &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;). Note que em &lt;code class=&quot;language-text&quot;&gt;components&lt;/code&gt; aproveitamos todas as características de &lt;code class=&quot;language-text&quot;&gt;NewMovie&lt;/code&gt;, e adicionamos uma nova (ter &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;) para o tipo &lt;code class=&quot;language-text&quot;&gt;Movie&lt;/code&gt;. Isso tudo graças ao &lt;code class=&quot;language-text&quot;&gt;$ref&lt;/code&gt; e ao &lt;a href=&quot;https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#composition-and-inheritance-polymorphism&quot; title=&quot;Leia mais na spec&quot;&gt;&lt;em&gt;allOf&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/79970f53880d3bd1bca06e24ada5594d/6af66/swagger-editor-example-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 57.8125%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAADCUlEQVQoz1WS7W9TZRjG+x/4zZBJIm11bPTlnJ7Tnreu3RIVwWkIDg1+0T9BDURRNJOAWUwwUTbjF/8CvvjBqIBBxloGUz+oWSThba5rGe36utPTV7Yf9woxMU+u3Oc8yXPluq778s1eUpm7HOfLC89x+oenmPlxFzM/Pc0XP+/m7MUAZy8EmcsE+GZxF3PXhpi9tpvZ7DOce4KvM0P/4Vx2CN/UeJJXkwa6oWI5OrYTR4ntQ9XC6AmFkdEg2aXrzK/CLzeb5IoPyJU2WBMUKhXKTY+y26S02cTtePgMVWPKtBgzbCw7iSMwEiaRcJRwKELQHyRzY4nzxTXOr9xmrVIjV62zVmuQF6y7HtVen41OD6+/hS8ciXAgZTOVHsPUNAzLxDQNbNtCj+sEAwEuZ66w6N7iSuFPUVKl7NWp7KDVYMOtki+vk68WhbCDLxpViCkKR2ybAwmDlB5HjapoMQ1VUfHv8XM1s4Db73JvvUCj38bb6tHa7tNhi6bcF+sVHjSqtB/28ClCNhIOk4zFeDOZEtsWiqYQjUUlV529o8PMZxeod1vcya9Skseb8p0vl1i5n5dZpNJsDAi9nig0hSgtVlWZ45aNPWbjpGVKDFbaYiQ0MiDssU3V26QrtrbllGpVcuv3KdYquG2Pilt/TBiJRnnLcXh7fIKkZRAXy3pMR9d0FInD/+yeAeG/omThj99YWv6bv+7e4p/Ve9zMrQzm8sodllfv4vba+EJC6Ii6o7bD/nichJDsC4UICaISR8Dv5/rvS3z17Xe8+NJhXj/yDpOvHSU1MYmTOshY+hWp2svsn3yDjUZNMhQCJ6FzUFQ6RoJEysCQXpopk+QLSUYjo2RvLPL9xUscOzHNyVMzfDT9Occ//oz3PviE9z/8lHePn+TE9Bmqzc3HtZmQmhx2JDfZrC05mqYptZEMLWuw5V8X5iU18NjZ7PYAXfnvPUFf0Ja71sMuPlVVB1kdEqJDojIttlWxurP9mBZjePh5rmYzNCT4XKFAs9OmJeF73f/D7bbpSG0eAbg2eBExfWCnAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Editor Swagger exibindo a documentação dos endpoints&amp;quot;&quot;
        title=&quot;Editor Swagger exibindo a documentação dos endpoints&quot;
        src=&quot;/static/79970f53880d3bd1bca06e24ada5594d/6af66/swagger-editor-example-3.png&quot;
        srcset=&quot;/static/79970f53880d3bd1bca06e24ada5594d/8514f/swagger-editor-example-3.png 192w,
/static/79970f53880d3bd1bca06e24ada5594d/804b2/swagger-editor-example-3.png 384w,
/static/79970f53880d3bd1bca06e24ada5594d/6af66/swagger-editor-example-3.png 640w&quot;
        sizes=&quot;(max-width: 640px) 100vw, 640px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Editor Swagger exibindo a documentação dos endpoints&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;A essa altura, descrever os demais métodos e &lt;em&gt;endpoints&lt;/em&gt; não será nenhum mistério. Portanto, vamos dar um &quot;fast forward&quot;.&lt;/p&gt;
&lt;h2&gt;Segurança&lt;/h2&gt;
&lt;p&gt;Segurança é importante, e tão importante quanto é deixar explícito para os desenvolvedores e usuários quais protocolos de autenticação/autorização que estão sendo praticados pela &lt;em&gt;API&lt;/em&gt;. No nosso caso, vamos descrever o uso do protocolo &lt;a href=&quot;/2018/02/06/oauth20-autorizacao-simples-or-is-it.html&quot; title=&quot;Leia mais sobre OAuth 2.0&quot;&gt;&lt;em&gt;OAuth 2.0&lt;/em&gt;&lt;/a&gt;, com o &lt;code class=&quot;language-text&quot;&gt;grant type&lt;/code&gt; &lt;code class=&quot;language-text&quot;&gt;password&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;components&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  (&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)

  &lt;span class=&quot;token key atrule&quot;&gt;securitySchemes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;OAuth2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; oauth2
      &lt;span class=&quot;token key atrule&quot;&gt;flows&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;tokenUrl&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//example.com/oauth/token
          &lt;span class=&quot;token key atrule&quot;&gt;scopes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Grants read access
            &lt;span class=&quot;token key atrule&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Grants write access&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Falta anotar a propriedade &lt;code class=&quot;language-text&quot;&gt;security&lt;/code&gt; em cada &lt;em&gt;endpoint&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;paths&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;/movies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;summary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; A set of movies
    &lt;span class=&quot;token key atrule&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;summary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Get a list of movies
      &lt;span class=&quot;token key atrule&quot;&gt;responses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; (&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)
      &lt;span class=&quot;token key atrule&quot;&gt;security&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;OAuth2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; read
    &lt;span class=&quot;token key atrule&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;summary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Add a new movie to the set
      &lt;span class=&quot;token key atrule&quot;&gt;requestBody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; (&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)
      &lt;span class=&quot;token key atrule&quot;&gt;responses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; (&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)
      &lt;span class=&quot;token key atrule&quot;&gt;security&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;OAuth2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; write&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Um ícone de cadeado deve ter aparecido no &lt;em&gt;preview&lt;/em&gt; do &lt;em&gt;Swagger Editor&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;Outras ferramentas Swagger&lt;/h2&gt;
&lt;p&gt;Com a especificação acima temos o suficiente para publicar a documentação da nossa &lt;em&gt;API&lt;/em&gt;, e até mesmo gerar algum código &lt;em&gt;client&lt;/em&gt;. O &lt;em&gt;Swagger Editor&lt;/em&gt; quebrou um grande galho, auxiliando na escrita do documento, e é altamente recomendável o seu uso.&lt;/p&gt;
&lt;p&gt;Um &lt;em&gt;disclaimer&lt;/em&gt; especial vai para a versão do &lt;em&gt;OpenAPI Spec&lt;/em&gt; que usamos nos exemplos. Infelizmente, nem toda ferramenta suporta a versão mais recente da especificação, logo, você terá que usar versões mais antigas caso queira utilizar as demais ferramentas que o &lt;em&gt;Swagger&lt;/em&gt; disponibiliza.&lt;/p&gt;
&lt;h3&gt;Gerando código com o &lt;em&gt;Codegen&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;O &lt;a href=&quot;https://github.com/swagger-api/swagger-codegen&quot; title=&quot;Veja o repositório no Github&quot;&gt;&lt;em&gt;Swagger Code Generator&lt;/em&gt;&lt;/a&gt; é um projeto super bacana que interpreta a especificação e gera código para diferentes linguagens. Infelizmente, a versão estável do &lt;em&gt;swagger-codegen&lt;/em&gt; só suporta até a versão &lt;code class=&quot;language-text&quot;&gt;2.0&lt;/code&gt; do &lt;em&gt;OpenAPI Spec&lt;/em&gt;, e o &lt;em&gt;snapshot&lt;/em&gt; mais recente ainda não possui uma gama grande de linguagens disponíveis.&lt;/p&gt;
&lt;p&gt;Construir &lt;em&gt;SDKs&lt;/em&gt; nunca foi tão fácil:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;java -jar ~/Downloads/swagger-codegen-cli-3.0.0-20180314.142155-42.jar generate &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
    -i ~/Downloads/openapi.yaml &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
    -l java -o ~/Projects/java/mini-imdb&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Se você quer usufruir dessa ferramenta, é recomendado que utilize as versões do &lt;em&gt;OpenAPI Spec&lt;/em&gt; descritas no repositório do projeto: &lt;a href=&quot;https://github.com/swagger-api/swagger-codegen#compatibility&quot; title=&quot;Veja a grade de compatibilidade do codegen&quot;&gt;https://github.com/swagger-api/swagger-codegen#compatibility&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/swagger-api/swagger-codegen/wiki/api-client-generator-howto&quot; title=&quot;Veja mais no Wiki do projeto&quot;&gt;API client generator HOWTO&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Gerando documentação com o &lt;em&gt;UI&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;Com o &lt;a href=&quot;https://github.com/swagger-api/swagger-ui&quot; title=&quot;Veja o repositório no Gihub&quot;&gt;&lt;em&gt;Swagger UI&lt;/em&gt;&lt;/a&gt;, a partir da especificação recém criada, podemos gerar documentações elegantes e acessíveis ao nosso usuário final. O projeto é em &lt;em&gt;NodeJS&lt;/em&gt;, e necessita de algum &quot;Javascript-fu&quot; para executá-lo.&lt;/p&gt;
&lt;p&gt;A maneira mais fácil de usá-lo é através da plataforma &lt;a href=&quot;https://swaggerhub.com/&quot; title=&quot;The Platform for Designing and Documenting APIs with Swagger&quot;&gt;&lt;em&gt;SwaggerHub&lt;/em&gt;&lt;/a&gt;. Onde você pode criar um usuário gratuitamente e ter 1 (um) projeto publicado no plano &lt;em&gt;free&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bc74de6f5871d19eee65089989c1308a/6af66/swagger-ui-example.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB10lEQVQoz6WTy2sUQRCH93/2qCcv/g1evAU8eRQloARByEHwBSGSTXZ3dp493fPqmZ7ZeXzW7G4kBBMPFvNRRVdPUfXr7sUyumCjl8RJiGtqumbHJvtA5i442MQfmySexiOTfIMg8ThRdyVt37B4+v4JLz4+5/PPL6yDFFVadNmjipa0qtG2FdyeyJQEuiCcMQWeVgQmZx0qtonGdTsWsbYEqsJLMjaxYR1pNlEqXhHnc8FOCrd75vgu6W1OfFa3lK5lwX9Y1Tu2jSbuCrSzVK47FJx1mMa/MK/vtbrPQcNu6Gn6lnbYYdu5Qyl4s/JQ2jCIsP0wHpkOjHf8fWR9/mc81N7rVzYy8utv8OmqJ0hy0dHiK0uSd+QNostE1jzEbR7RcSDSJbmtWbxcnfEu/CFXJeUmS1jlao9XGUJXEDSPM+/x65ytScnkVixe/XKcri0rOdlrOem1KlhJt0HhSN2IagaUewDJzXtiu8PXOdnc4fev5yyXlyiVkCQROlWkEhujqW31b2qLrQpUqg8d8vYZ4/kJuX9N6V1SB1dY/4pG/Kg9EWrLZB7imE/XZImPsfJShpM3tKdnsu5TeD42CKn8kDqMGHTGKC9hNNkj5AzSnYllKhn5N/qylAPFCAhlAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Exemplo Swagger UI&amp;quot;&quot;
        title=&quot;Exemplo Swagger UI&quot;
        src=&quot;/static/bc74de6f5871d19eee65089989c1308a/6af66/swagger-ui-example.png&quot;
        srcset=&quot;/static/bc74de6f5871d19eee65089989c1308a/8514f/swagger-ui-example.png 192w,
/static/bc74de6f5871d19eee65089989c1308a/804b2/swagger-ui-example.png 384w,
/static/bc74de6f5871d19eee65089989c1308a/6af66/swagger-ui-example.png 640w&quot;
        sizes=&quot;(max-width: 640px) 100vw, 640px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Exemplo Swagger UI&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://app.swaggerhub.com/apis/kplaube/movies-api/v1&quot; title=&quot;Veja no SwaggerHub&quot;&gt;Confira o exemplo no &lt;em&gt;SwaggerHub&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Vale notar que a documentação é &quot;viva&quot;, ou seja, ela interage com os endpoints do seu serviço. Para que esse recurso funcione corretamente, você precisa anotar a propriedade &lt;code class=&quot;language-text&quot;&gt;servers&lt;/code&gt; na especificação da &lt;em&gt;API&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#serverObject&quot; title=&quot;Veja na documentação oficial&quot;&gt;Leia mais sobre &lt;em&gt;Server Object&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Testando com &lt;em&gt;Inspector&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;Se você já usou o &lt;a href=&quot;https://insomnia.rest/&quot; title=&quot;Debug APIs like a human, not a robot&quot;&gt;&lt;em&gt;Insomnia&lt;/em&gt;&lt;/a&gt; ou &lt;a href=&quot;https://www.getpostman.com/&quot; title=&quot;Postman Makes API Development Simple&quot;&gt;&lt;em&gt;Postman&lt;/em&gt;&lt;/a&gt;, vai se sentir em casa com o &lt;a href=&quot;https://inspector.swagger.io/builder&quot; title=&quot;Veja a aplicação&quot;&gt;&lt;em&gt;Swagger Inspector&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;O &lt;em&gt;Inspector&lt;/em&gt; é uma &lt;em&gt;GUI&lt;/em&gt; que auxilia nos testes de &lt;em&gt;endpoints&lt;/em&gt; &lt;em&gt;REST&lt;/em&gt;. Com ele, fica mais fácil inspecionar &lt;em&gt;endpoints&lt;/em&gt; e validar o contrato e comportamento dos mesmos.&lt;/p&gt;
&lt;p&gt;Confesso que acho o &lt;em&gt;Postman&lt;/em&gt; muito mais eficiente nesse quesito. Mas infelizmente, o aplicativo só suporta até a versão &lt;code class=&quot;language-text&quot;&gt;2.0&lt;/code&gt; do &lt;em&gt;Swagger Spec&lt;/em&gt;. Nada que impeça que você configure os &lt;em&gt;requests&lt;/em&gt; para os &lt;em&gt;endpoints&lt;/em&gt; manualmente.&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;A &lt;em&gt;spec&lt;/em&gt; final você encontra &lt;a href=&quot;https://gist.github.com/kplaube/509c52f13dc966c915600733db60c2bb&quot; title=&quot;Veja o exemplo completo&quot;&gt;aqui&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;O ambiente em torno do &lt;em&gt;OpenAPI&lt;/em&gt; é rico, e vale a pena considerar escrever suas próximas especificações de &lt;em&gt;APIs&lt;/em&gt; com esse padrão. Se você, assim como eu, vem de outros formatos (como o &lt;em&gt;RAML&lt;/em&gt; ou &lt;em&gt;JSON Schema&lt;/em&gt;), não notará grande diferença na forma de escrita com o &lt;em&gt;OAI&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;É claro que não é só o pessoal do &lt;em&gt;Swagger&lt;/em&gt; que cria ferramentas para &lt;em&gt;Swagger Spec&lt;/em&gt; e &lt;em&gt;OpenAPI Spec&lt;/em&gt;. Você pode conferir as diversas ferramentas criadas pela comunidade em &lt;a href=&quot;https://swagger.io/open-source-integrations/#community-driven-language-integrations-2&quot; title=&quot;Veja mais em swagger.io&quot;&gt;&lt;em&gt;Tools and Integrations&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Sem dúvida, falaremos sobre &lt;em&gt;Python&lt;/em&gt; + &lt;em&gt;Swagger&lt;/em&gt; nos próximos &lt;em&gt;posts&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Até lá.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Swagger e o Open API Initiative]]></title><description><![CDATA[Já falamos sobre RAML aqui no blog. Uma maneira
de descrever APIs, facilitando a vida de clientes, fornecedores, e até mesmo
máquinas. Acontece que há uma alternativa muito mais popular,
chamada Swagger,
que na minha opinião tem por principal ponto positivo ser base para a criação da
OpenAPI…]]></description><link>https://klauslaube.com.br/2017/11/25/swagger-e-o-open-api-initiative.html</link><guid isPermaLink="false">https://klauslaube.com.br/2017/11/25/swagger-e-o-open-api-initiative.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Sat, 25 Nov 2017 20:52:00 GMT</pubDate><content:encoded>&lt;p&gt;Já falamos sobre &lt;a href=&quot;/tag/raml.html&quot; title=&quot;Leia mais sobre RAML&quot;&gt;&lt;em&gt;RAML&lt;/em&gt;&lt;/a&gt; aqui no &lt;em&gt;blog&lt;/em&gt;. Uma maneira
de descrever &lt;em&gt;APIs&lt;/em&gt;, facilitando a vida de clientes, fornecedores, e até mesmo
máquinas. Acontece que há uma alternativa muito mais popular,
chamada &lt;a href=&quot;https://swagger.io/&quot; title=&quot;The world&amp;#x27;s most popular API tooling&quot;&gt;&lt;em&gt;Swagger&lt;/em&gt;&lt;/a&gt;,
que na minha opinião tem por principal ponto positivo ser base para a criação da
&lt;a href=&quot;https://github.com/OAI/OpenAPI-Specification&quot; title=&quot;The OpenAPI Spec repository&quot;&gt;&lt;em&gt;OpenAPI Specification&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Se até aqui tudo isso pareceu &quot;sopa de letrinhas&quot;, &lt;em&gt;keep calm&lt;/em&gt;! Vamos abrir o glossário e detalhar
termo por termo.&lt;/p&gt;
&lt;h2&gt;Swagger: Um framework completo&lt;/h2&gt;
&lt;p&gt;As vantagens de utilizar o &lt;em&gt;Swagger&lt;/em&gt; são basicamente as mesmas de usar &lt;em&gt;RAML&lt;/em&gt; (ou
&lt;a href=&quot;https://apiblueprint.org/&quot; title=&quot;Powerful high-level API description language&quot;&gt;&lt;em&gt;API Blueprint&lt;/em&gt;&lt;/a&gt;):
Modelar e documentar &lt;em&gt;APIs&lt;/em&gt; &lt;a href=&quot;/tag/rest.html&quot; title=&quot;Leia mais sobre REST&quot;&gt;&lt;em&gt;REST&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;O &lt;em&gt;Swagger&lt;/em&gt; é um &lt;em&gt;framework&lt;/em&gt;, composto por diferentes ferramentas, que ajudam no desenvolvimento
de &lt;em&gt;APIs&lt;/em&gt;. Dentre essas ferramentas podemos destacar as de código aberto:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://swagger.io/swagger-editor/&quot; title=&quot;Design, describe, and document your API on the first open source editor fully dedicated to Swagger-based APIs&quot;&gt;&lt;em&gt;Swagger Editor&lt;/em&gt;&lt;/a&gt;:
Um editor poderosíssimo que pode ser usado &lt;em&gt;online&lt;/em&gt;, e que facilita (e muito) na escrita de arquivos
&lt;em&gt;Swagger&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://swagger.io/swagger-ui/&quot;&gt;&lt;em&gt;Swagger UI&lt;/em&gt;&lt;/a&gt;:
Uma plataforma para a geração e publicação da documentação de &lt;em&gt;APIs&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://swagger.io/swagger-codegen/&quot;&gt;&lt;em&gt;Swagger Codegen&lt;/em&gt;&lt;/a&gt;: Esse aqui é o meu favorito. Através
da especificação da sua &lt;em&gt;API&lt;/em&gt;, cria &lt;em&gt;SDKs&lt;/em&gt; para diferentes linguagens.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://swagger.io/swagger-inspector/&quot;&gt;&lt;em&gt;Swagger Inspector&lt;/em&gt;&lt;/a&gt;: Para fechar com chave de ouro.
O &lt;em&gt;Inspector&lt;/em&gt; é um serviço que testa &lt;em&gt;APIs&lt;/em&gt; com base em um contrato &lt;em&gt;Swagger&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Além disso temos o &lt;a href=&quot;https://swaggerhub.com/&quot; title=&quot;The platform for designing and documenting APIs with Swagger&quot;&gt;&lt;em&gt;SwaggerHub&lt;/em&gt;&lt;/a&gt;,
que &quot;empacota&quot; isso tudo em um &lt;em&gt;Software As A Service&lt;/em&gt;, prometendo aumentar produtividade e
colaboração entre times no que tange desenvolvimento de &lt;em&gt;APIs&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Nos items acima citei &quot;arquivos &lt;em&gt;Swagger&lt;/em&gt;&quot; e &quot;contrato &lt;em&gt;Swagger&lt;/em&gt;&quot;. Bem...
hoje o &lt;em&gt;Swagger&lt;/em&gt; (&lt;em&gt;framework&lt;/em&gt;) é apto a trabalhar com o &lt;em&gt;Swagger&lt;/em&gt; (especificação). Mas não
é apenas essa especificação que ele suporta.&lt;/p&gt;
&lt;p&gt;E é aqui que a &lt;em&gt;SmartBear&lt;/em&gt; (empresa por trás do desenvolvimento da &quot;marca&quot; &lt;em&gt;Swagger&lt;/em&gt;) aparece e merece aplausos.&lt;/p&gt;
&lt;h2&gt;Swagger Specification vira OpenAPI Specification&lt;/h2&gt;
&lt;p&gt;Deixa eu corrigir o primeiro parágrafo do capítulo anterior:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;As vantagens de utilizar o &lt;em&gt;OpenAPI Spec&lt;/em&gt; são basicamente as mesmas de usar &lt;em&gt;RAML Spec&lt;/em&gt;,
&lt;em&gt;Swagger Spec&lt;/em&gt;, ou &lt;em&gt;API Blueprint Spec&lt;/em&gt;: Modelar e documentar &lt;em&gt;APIs&lt;/em&gt; &lt;em&gt;REST&lt;/em&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Com uma vantagem a mais: Ser aberta*. (note o asterisco)&lt;/p&gt;
&lt;p&gt;O &lt;em&gt;Swagger Specification&lt;/em&gt; desde o seu princípio é de código aberto. Mas sempre teve uma empresa
vinculada ao seu desenvolvimento (mais ou menos o que acontece com a &lt;a href=&quot;https://www.mulesoft.com/&quot; title=&quot;We connect. You unnovate.&quot;&gt;&lt;em&gt;MuleSoft&lt;/em&gt;&lt;/a&gt;
e o &lt;em&gt;RAML&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;Em janeiro de 2016, a &lt;em&gt;SmartBear Software&lt;/em&gt; renomeou a &lt;em&gt;Swagger Specification&lt;/em&gt; para &lt;em&gt;OpenAPI Specification&lt;/em&gt;.
Disponibilizando-a no &lt;em&gt;Github&lt;/em&gt; em &lt;a href=&quot;https://github.com/OAI/OpenAPI-Specification&quot; title=&quot;The OpenAPI Specification Repository&quot;&gt;github.com/OAI/OpenAPI-Specification&lt;/a&gt;,
e tornando-a assim em uma especificação &quot;vendor-neutral&quot;.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2abf22c3cf4464db47fafa95964dbada/c08c5/oai-avengers.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 44.79166666666667%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBP/EABQBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAYPJJLDE/8QAGRAAAwEBAQAAAAAAAAAAAAAAAAECAzEy/9oACAEBAAEFAs7cqt6Y+z5Ef//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAMBAQAAAAAAAAAAAAAAAAABEBEx/9oACAEBAAY/AtRwcU//xAAaEAACAgMAAAAAAAAAAAAAAAAAARBBETFR/9oACAEBAAE/IbwpWYNocVxsaH//2gAMAwEAAgADAAAAEHcP/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAx/9oACAEDAQE/EBF//8QAFhEAAwAAAAAAAAAAAAAAAAAAARAx/9oACAECAQE/EDV//8QAGxAAAgIDAQAAAAAAAAAAAAAAAREAIUFRsRD/2gAIAQEAAT8QZQAkWyqUQksEnaDvUVhIsjudfPtP/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Vingadores reunidos&amp;quot;&quot;
        title=&quot;A OAI é tipo os Avengers do mundo das APIs (bestbuy.com)&quot;
        src=&quot;/static/2abf22c3cf4464db47fafa95964dbada/c08c5/oai-avengers.jpg&quot;
        srcset=&quot;/static/2abf22c3cf4464db47fafa95964dbada/7809d/oai-avengers.jpg 192w,
/static/2abf22c3cf4464db47fafa95964dbada/4ecad/oai-avengers.jpg 384w,
/static/2abf22c3cf4464db47fafa95964dbada/c08c5/oai-avengers.jpg 640w&quot;
        sizes=&quot;(max-width: 640px) 100vw, 640px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;A OAI é tipo os Avengers do mundo das APIs (bestbuy.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Isso tudo, claro, com supervisão do consórcio que a mesma &lt;em&gt;SmartBear&lt;/em&gt; ajudou a construir:
O &lt;a href=&quot;https://www.openapis.org/&quot; title=&quot;OAI Consortium&quot;&gt;&lt;em&gt;Open API Initiative&lt;/em&gt;&lt;/a&gt;. Que é também &quot;curador&quot;
do &lt;em&gt;OpenAPI Specification&lt;/em&gt; e tem como integrantes alguns gigantes da indústria como &lt;em&gt;Google&lt;/em&gt;, &lt;em&gt;IBM&lt;/em&gt;, &lt;em&gt;Microsoft&lt;/em&gt;,
e as próprias &lt;em&gt;MuleSoft&lt;/em&gt; e &lt;em&gt;SmartBear&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;Swagger &amp;#x26; OpenAPI&lt;/h2&gt;
&lt;p&gt;Novamente, deixa eu corrigir o parágrafo do primeiro capítulo:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;As vantagens de utilizar &lt;em&gt;Swagger&lt;/em&gt; com &lt;em&gt;OpenAPI Spec&lt;/em&gt; são: Além de confiar
em uma especificação aberta e &lt;em&gt;vendor-neutral&lt;/em&gt;, você ainda conta com o poderoso ferramental
de código aberto provido pelo Swagger.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;O &lt;em&gt;Swagger&lt;/em&gt; &quot;gira em torno&quot; do &lt;em&gt;OpenAPI&lt;/em&gt;, provendo ferramentas para a modelagem e documentação.
É sem dúvida uma combinação espetacular, e não a toa é a mais famosa e eficiente no momento.&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;Confesso que eu tive problemas para entender o relacionamento entre &lt;em&gt;RAML&lt;/em&gt;, &lt;em&gt;Swagger&lt;/em&gt; e &lt;em&gt;OpenAPI&lt;/em&gt;,
principalmente por ter adotado o &lt;em&gt;RAML&lt;/em&gt; e não seguido o desenvolvimento do &lt;em&gt;Swagger&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Hoje, se você for usar &lt;em&gt;OpenAPI&lt;/em&gt; (você deveria) é improvável que não recorra ao &lt;em&gt;Swagger&lt;/em&gt;
para produzir os seus documentos. Portanto, não é incomum vermos muitos materiais onde esses
dois conceitos se misturam e aparentam ser um só.&lt;/p&gt;
&lt;p&gt;No próximo &lt;em&gt;post&lt;/em&gt; sobre &lt;em&gt;Swagger&lt;/em&gt;, vamos para uma abordagem mais prática, mostrando como utilizar
as ferramentas com &lt;em&gt;OpenAPI&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Até a próxima.&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.caelum.com.br/modelando-apis-rest-com-swagger/&quot;&gt;Caelum - Modelando APIs REST com Swagger&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://cloud.google.com/endpoints/docs/open-api-spec?hl=pt-br&quot;&gt;Google Cloud Platform - A especificação OpenAPI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.openapis.org/about&quot;&gt;Open API Initiative - About&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://swagger.io/&quot;&gt;Swagger - The world&apos;s most popular API tooling&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/OpenAPI_Specification&quot;&gt;Wikipedia - OpenAPI Specification&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Swagger_(software)&quot;&gt;Wikipedia - Swagger (software)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Documentando a sua API com raml2html]]></title><description><![CDATA[Uma das coisas mais legais em relação ao RAML
(e afins) é a diversidade de ferramentas que existem em seu ecossistema.
Embora a especificação por si cumpra o seu papel, são elas que trazem
"mais cores" aos resultados práticos de ter uma spec para a sua API. No universo do RAML, existe algumas boas…]]></description><link>https://klauslaube.com.br/2017/09/16/documentando-sua-api-com-raml2html.html</link><guid isPermaLink="false">https://klauslaube.com.br/2017/09/16/documentando-sua-api-com-raml2html.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Sat, 16 Sep 2017 00:15:00 GMT</pubDate><content:encoded>&lt;p&gt;Uma das coisas mais legais em relação ao &lt;a href=&quot;/tag/raml.html&quot; title=&quot;Leia mais sobre RAML&quot;&gt;&lt;em&gt;RAML&lt;/em&gt;&lt;/a&gt;
(e afins) é a diversidade de ferramentas que existem em seu ecossistema.
Embora a especificação por si cumpra o seu papel, são elas que trazem
&quot;mais cores&quot; aos resultados práticos de ter uma &lt;em&gt;spec&lt;/em&gt; para a sua &lt;a href=&quot;/tag/api.html&quot; title=&quot;Leia mais sobre API&quot;&gt;&lt;em&gt;API&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;No universo do &lt;em&gt;RAML&lt;/em&gt;, existe algumas boas ferramentas que geram documentação a partir da especificação.
Soluções que vão do &lt;a href=&quot;https://github.com/spotify/ramlfications&quot; title=&quot;Conheça o Ramlfications&quot;&gt;&lt;em&gt;Python&lt;/em&gt;&lt;/a&gt;,
&lt;a href=&quot;https://github.com/jhitchcock/raml2wiki&quot; title=&quot;Conheça o raml2wiki&quot;&gt;&lt;em&gt;Wikis&lt;/em&gt;&lt;/a&gt;,
&lt;a href=&quot;https://github.com/QuickenLoans/RAMLsharp&quot; title=&quot;Leia mais sobre o RAMLsharp&quot;&gt;&lt;em&gt;ASP.net&lt;/em&gt;&lt;/a&gt; e até ao
&lt;a href=&quot;https://github.com/isaacloud/sdk-gen&quot; title=&quot;Gere SDKs usando RAML&quot;&gt;&lt;em&gt;Java&lt;/em&gt;&lt;/a&gt;. Mas acredito
que a ferramenta mais atual seja o
&lt;a href=&quot;https://github.com/raml2html/raml2html&quot; title=&quot; RAML to HTML documentation generator&quot;&gt;&lt;em&gt;raml2html&lt;/em&gt;&lt;/a&gt;,
feito em &lt;a href=&quot;/tag/nodejs.html&quot; title=&quot;Leia mais sobre Node.js&quot;&gt;&lt;em&gt;Node.js&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Simples, como as melhores coisas da vida&lt;/h2&gt;
&lt;p&gt;O &lt;a href=&quot;https://github.com/raml2html/raml2html&quot; title=&quot;RAML to HTML documentation generator&quot;&gt;&lt;em&gt;raml2html&lt;/em&gt;&lt;/a&gt;
é uma biblioteca que transforma &lt;em&gt;specs&lt;/em&gt; &lt;em&gt;RAML&lt;/em&gt; em &lt;a href=&quot;/tag/html.html&quot; title=&quot;Leia mais sobre HTML&quot;&gt;&lt;em&gt;HTML&lt;/em&gt;&lt;/a&gt;.
E o mais legal é que a sua versão 4 suporta a versão 1.0 da linguagem.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 600px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/38bde1abbcaf123f1744a17ab3a04572/b4294/poesia-vogon.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 57.29166666666667%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHnpqJqZpP/xAAaEAADAQADAAAAAAAAAAAAAAABAgMAEiIy/9oACAEBAAEFAo0ZdU8bMxYg9n1PX//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABoQAAMAAwEAAAAAAAAAAAAAAAABERASQYH/2gAIAQEABj8C1i9KlCsvc//EABsQAQACAwEBAAAAAAAAAAAAAAEAESFBUTGR/9oACAEBAAE/IUPkExipyOfRiNq5XcWV27m/oT//2gAMAwEAAgADAAAAEHsf/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEx/9oACAEDAQE/ENR//8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERMf/aAAgBAgEBPxDHS0//xAAbEAEBAAIDAQAAAAAAAAAAAAABEQAhMUFRcf/aAAgBAQABPxB+kZru06xBUEkzfK/d4hS8i5Sk6Xu+3EBrBqa8Yls7Qvus/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Aguenta mais um pouco dessa poesia Vogon (imagilendo.wordpress.com)&amp;quot;&quot;
        title=&quot;Aguenta mais um pouco dessa poesia Vogon (imagilendo.wordpress.com)&quot;
        src=&quot;/static/38bde1abbcaf123f1744a17ab3a04572/b4294/poesia-vogon.jpg&quot;
        srcset=&quot;/static/38bde1abbcaf123f1744a17ab3a04572/7809d/poesia-vogon.jpg 192w,
/static/38bde1abbcaf123f1744a17ab3a04572/4ecad/poesia-vogon.jpg 384w,
/static/38bde1abbcaf123f1744a17ab3a04572/b4294/poesia-vogon.jpg 600w&quot;
        sizes=&quot;(max-width: 600px) 100vw, 600px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Aguenta mais um pouco dessa poesia Vogon (imagilendo.wordpress.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Vamos aproveitar o &quot;mini IMDB&quot; construído no
&lt;a href=&quot;/2017/01/31/ramilificando-as-suas-apis.html&quot; title=&quot;Ramilificando as suas APIs&quot;&gt;&lt;em&gt;post&lt;/em&gt; de &lt;em&gt;RAML&lt;/em&gt;&lt;/a&gt;, para
ilustrar como essa ferramenta funciona. Mas antes, aquele &lt;code class=&quot;language-text&quot;&gt;npm install&lt;/code&gt; clássico:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ npm i -g raml2html&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Agora é só chamar o utilitário de linha de comando:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ raml2html api.raml &amp;gt; index.html&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Pronto! Basta abrir o arquivo no seu navegador favorito:&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3d450d7316eac432c912aacbbdbe36b9/6af66/raml2html-example.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 65.10416666666666%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAABaklEQVQoz5WS21KDMBCGeXNfw3fQF/DCG2e807EzrT0oVMqhLeeQQAI5gEugWHG04zdc7O7kz27+xXAc56BxXXe323me55+wLCsIAsYYpbRpmlajdHB9b17dLgzbttfrtWmaW8sKowghFIZhHMdpmsKNkFZVBfpR3JOQOsgrA6pFUZRlCUfaf2LkeZ4kCee8rmv2J7T/KIWTg5hgcgzCHGMt7+C/oCRXQkguhRCDGKolyVo15PAKpcCUb0BVSDVzq2d/v0xWteSDWEo5dwozAFtoQUg/UvMDqVRSyrgsc4YgHsTQ59F/f/K3KMvA5CzLGKsm8olPY6XrjEiESAy3QCw0o0xvtQmwWBzoQ4o3rkc3K8nPxvaOZB8SITrHIJ2MDVlaCCtiM1y6YVjbH3I0DB5w4+A7D6MkPo3NzptfGHs+e3lbvsZxEkURxhj+mYltqltB51m3CL2LL8NalDV5zmFuWKZ2srlEL/4E5M3vVnQUf6wAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Exemplo de documentação RAML&amp;quot;&quot;
        title=&quot;Exemplo de documentação RAML&quot;
        src=&quot;/static/3d450d7316eac432c912aacbbdbe36b9/6af66/raml2html-example.png&quot;
        srcset=&quot;/static/3d450d7316eac432c912aacbbdbe36b9/8514f/raml2html-example.png 192w,
/static/3d450d7316eac432c912aacbbdbe36b9/804b2/raml2html-example.png 384w,
/static/3d450d7316eac432c912aacbbdbe36b9/6af66/raml2html-example.png 640w&quot;
        sizes=&quot;(max-width: 640px) 100vw, 640px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Exemplo de documentação RAML&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Simples, não? Calma que ainda não acabou! Existe a possibilidade de utilizar temas juntamente com o &lt;code class=&quot;language-text&quot;&gt;raml2html&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ npm i -g raml2html-markdown-theme&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Agora basta passar o tema na hora de gerar a documentação:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ raml2html --theme raml2html-markdown-theme api.raml &amp;gt; index.md&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Sem dúvida, um dos templates mais legais que temos disponível é o &lt;code class=&quot;language-text&quot;&gt;raml2html-slate-theme&lt;/code&gt;.
Completo, e baseado no próprio
&lt;a href=&quot;https://github.com/lord/slate&quot; title=&quot;Beautiful static documentation for your API&quot;&gt;&lt;em&gt;Slate&lt;/em&gt;&lt;/a&gt;,
famosa ferramenta para criação de documentação de &lt;em&gt;APIs&lt;/em&gt;:&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fa67e81f6682a91ec52b768cbcd65d95/6af66/raml2html-example-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.125%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABXElEQVQoz21S/06CUBjlRaq1ZmJwub9IRG2aW60eopaIGOupq39KcAkKZAj0AbMY49yzO+7G4ZzvXITXt3dgEIRxHP8csNvtsiwz5gtVG0xu79XeQCYcUbVGwd9sNtttkiRZBUmawm5adltSuvqQqFqzOIq+AaVVTWzMLYnwq/GEd3sSoYiykgrL9wuFCkvHdVx36Tie7/+LiyCP09lJS0SUI6IojGBGFIYxJ4QTRHBbQkIYhvDqfh9Xk5fPhrk4bYkKUyXMJcwqhCOHQYS0SAhIK9gXYst+EWUCbbGu3sg89sfnMgjD6szlF82FrWr9yc1dbzhqLmydw/M8PwyjWmEzy4ZW9KsxmKBG8TYAwOARrL8RDuJnmfLB6Jpe6h1EZcJqBGcPjL/W62rysrCH6eyoJaqapvXBm2KoOm+7ICN523BP7moFPwrcdk38ZJjHZ+eYqZgxhdIOwjX+AtYmbk4Lol1rAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Exemplo de documentação RAML&amp;quot;&quot;
        title=&quot;Exemplo de documentação RAML&quot;
        src=&quot;/static/fa67e81f6682a91ec52b768cbcd65d95/6af66/raml2html-example-2.png&quot;
        srcset=&quot;/static/fa67e81f6682a91ec52b768cbcd65d95/8514f/raml2html-example-2.png 192w,
/static/fa67e81f6682a91ec52b768cbcd65d95/804b2/raml2html-example-2.png 384w,
/static/fa67e81f6682a91ec52b768cbcd65d95/6af66/raml2html-example-2.png 640w&quot;
        sizes=&quot;(max-width: 640px) 100vw, 640px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Exemplo de documentação RAML&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Você pode criar o seu próprio template! Eles são escritos utilizando o
&lt;a href=&quot;https://mozilla.github.io/nunjucks/&quot; title=&quot; A rich and powerful templating language for JavaScript.&quot;&gt;&lt;em&gt;Nunjucks&lt;/em&gt;&lt;/a&gt;,
linguagem de templates &lt;a href=&quot;/tag/javascript.html&quot; title=&quot;Leia mais sobre Javascript&quot;&gt;&lt;em&gt;Javascript&lt;/em&gt;&lt;/a&gt; da &lt;em&gt;Mozilla&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;O &lt;em&gt;post&lt;/em&gt; de hoje foi uma dica rápida e rasteira.&lt;/p&gt;
&lt;p&gt;A partir do momento que você pratica o
&lt;a href=&quot;https://swaggerhub.com/blog/api-design/design-first-or-code-first-api-development/&quot; title=&quot;Design First or Code First: What’s the Best Approach to API Development?&quot;&gt;&lt;em&gt;design first&lt;/em&gt;&lt;/a&gt;,
ter uma especificação &lt;em&gt;RAML&lt;/em&gt; como &quot;single source of truth&quot; é um caminho no mínimo razoável.
Com isso, gerar documentações através de ferramentas como a apresentada nesse artigo torna-se
algo rápido e prático.&lt;/p&gt;
&lt;p&gt;Até a próxima!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Ramilificando as suas APIs]]></title><description><![CDATA[Você já tem a sua API! Ela é REST,
performa muito bem, e todos os seus aplicativos estão
conversando com a mesma. Vem uma oportunidade de negócio de abrí-la para consumo
de parceiros. Agora não basta só a técnica perfeita, você precisa de especificação, documentações,
exemplos de uso e validadores…]]></description><link>https://klauslaube.com.br/2017/01/31/ramilificando-as-suas-apis.html</link><guid isPermaLink="false">https://klauslaube.com.br/2017/01/31/ramilificando-as-suas-apis.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Tue, 31 Jan 2017 21:30:00 GMT</pubDate><content:encoded>&lt;p&gt;Você já tem a sua &lt;a href=&quot;/tag/api.html&quot; title=&quot;Leia mais sobre APIs&quot;&gt;&lt;em&gt;API&lt;/em&gt;&lt;/a&gt;! Ela é &lt;a href=&quot;/tag/rest.html&quot; title=&quot;Leia mais sobre REST&quot;&gt;&lt;em&gt;REST&lt;/em&gt;&lt;/a&gt;,
performa muito bem, e todos os seus aplicativos estão
conversando com a mesma. Vem uma oportunidade de negócio de abrí-la para consumo
de parceiros. Agora não basta só a técnica perfeita, você precisa de especificação, documentações,
exemplos de uso e validadores para garantir que os contratos da sua &lt;em&gt;API&lt;/em&gt; não sofram alterações drásticas,
deixando seu cliente na mão.&lt;/p&gt;
&lt;p&gt;Essa é a realidade da &lt;a href=&quot;http://loadsmart.com&quot; title=&quot;Book a truck with Loadsmart&quot;&gt;&lt;em&gt;Loadsmart&lt;/em&gt;&lt;/a&gt; no momento da
publicação desse &lt;em&gt;post&lt;/em&gt;. Lá, optamos por seguir os mesmos passos do &lt;a href=&quot;http://spotify.com&quot; title=&quot;Você já sabe o que é isso :)&quot;&gt;&lt;em&gt;Spotify&lt;/em&gt;&lt;/a&gt;
e utilizar o &lt;em&gt;RAML&lt;/em&gt; para descrever as nossas &lt;em&gt;APIs&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;RAML é quase YAML&lt;/h2&gt;
&lt;p&gt;O &lt;em&gt;RAML&lt;/em&gt; (RESTful API Modeling Language) é uma maneira simples
de descrever/projetar suas &lt;em&gt;APIs&lt;/em&gt;. Através de uma linguagem concisa, baseada
em YAML, você é capaz de escrever especificações que podem ser usadas como
documentação, ferramenta de &lt;em&gt;build&lt;/em&gt; e de testes automatizados.&lt;/p&gt;
&lt;p&gt;Ao invés de tentar cultivar a motivação para a utilização do &lt;em&gt;RAML&lt;/em&gt;, vou descrever
de forma prática os principais aspectos do padrão. Para tanto, já começo
recomendando a instalação do &lt;a href=&quot;http://apiworkbench.com/&quot; title=&quot;IDE for designing APIs&quot;&gt;&lt;em&gt;API Workbench&lt;/em&gt;&lt;/a&gt;,
um excelente &lt;em&gt;plugin&lt;/em&gt; para o &lt;em&gt;Atom&lt;/em&gt; que facilita (e muito) a escrita de documentos &lt;em&gt;RAML&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;Como começar?&lt;/h2&gt;
&lt;p&gt;Vamos voltar ao nosso &quot;mini IMDB&quot;, exemplo utilizado em &lt;a href=&quot;/tag/rest.html&quot; title=&quot;Veja os posts sobre REST&quot;&gt;alguns &lt;em&gt;posts&lt;/em&gt;&lt;/a&gt; aqui do &lt;em&gt;blog&lt;/em&gt;.
Os principais &lt;em&gt;endpoints&lt;/em&gt; que temos são:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;GET /movies&lt;/code&gt;: Listagem de filmes;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;POST /movies&lt;/code&gt;: Adição de um filme;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;GET /movies/{id}&lt;/code&gt;: Detalhes de um filme;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;PUT /movies/{id}&lt;/code&gt;: Atualização de um filme;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;DELETE /movies/{id}&lt;/code&gt;: Remoção de um filme.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Podemos começar criando um arquivo &lt;code class=&quot;language-text&quot;&gt;api.raml&lt;/code&gt; com o seguinte conteúdo:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;#%RAML 1.0&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Movies API&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;No momento desse artigo, o &lt;em&gt;RAML&lt;/em&gt; possui duas especificações ativas: a &lt;code class=&quot;language-text&quot;&gt;0.8&lt;/code&gt; e a &lt;code class=&quot;language-text&quot;&gt;1.0&lt;/code&gt;. Dependendo
das ferramentas que você for utilizar posteriormente, talvez seja interessante optar pela especificação &lt;code class=&quot;language-text&quot;&gt;0.8&lt;/code&gt;.
Nesse exemplo utilizaremos a &lt;code class=&quot;language-text&quot;&gt;1.0&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Vamos continuar descrevendo a nossa &lt;em&gt;API&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;#%RAML 1.0&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Movies API
&lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
&lt;span class=&quot;token key atrule&quot;&gt;baseUri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//api.movies.com/&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;version&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;mediaType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; application/json&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Setamos a versão da &lt;em&gt;API&lt;/em&gt; como &lt;code class=&quot;language-text&quot;&gt;v1&lt;/code&gt;, atendendo pelo endereço &lt;code class=&quot;language-text&quot;&gt;https://api.movies.com/v1&lt;/code&gt;. Trabalharemos
com objetos &lt;em&gt;JSON&lt;/em&gt;. Caso a &lt;em&gt;API&lt;/em&gt; necessite trabalhar com mais de um tipo (&lt;em&gt;XML&lt;/em&gt;, por exemplo),
é possível declará-lo no &lt;code class=&quot;language-text&quot;&gt;mediaType&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;mediaType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;application/json&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; application/xml&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Descrevendo os dados&lt;/h2&gt;
&lt;p&gt;Se você optar pela versão &lt;code class=&quot;language-text&quot;&gt;0.8&lt;/code&gt; do padrão, a palavra &lt;code class=&quot;language-text&quot;&gt;schemas&lt;/code&gt; aparecerá com certa frequência durante
a construção do documento. Com a &lt;code class=&quot;language-text&quot;&gt;1.0&lt;/code&gt;, a comunidade depreciou o termo em prol da palavra-chave &lt;code class=&quot;language-text&quot;&gt;types&lt;/code&gt;, e é com
ela que descreveremos o tipo &lt;code class=&quot;language-text&quot;&gt;Movie&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;(&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)

&lt;span class=&quot;token key atrule&quot;&gt;types&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;Movie&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string
      &lt;span class=&quot;token key atrule&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string
      &lt;span class=&quot;token key atrule&quot;&gt;description?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Movie&lt;/code&gt; possui três propriedades do tipo &lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;title&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;description&lt;/code&gt;. O &lt;code class=&quot;language-text&quot;&gt;?&lt;/code&gt; em &lt;code class=&quot;language-text&quot;&gt;description?&lt;/code&gt;
indica que essa última é uma propriedade opcional (ao contrário de &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;title&lt;/code&gt; que são obrigatórias).&lt;/p&gt;
&lt;p&gt;O &lt;em&gt;RAML&lt;/em&gt; suporta uma série de tipos &lt;em&gt;built-in&lt;/em&gt;, para saber mais, leia sobre &lt;a href=&quot;https://github.com/raml-org/raml-spec/blob/master/versions/raml-10/raml-10.md/#defining-types&quot;&gt;definição de tipos&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Descrevendo os endpoints&lt;/h2&gt;
&lt;p&gt;Agora que temos um tipo definido, podemos partir para a descrição dos nossos &lt;em&gt;endpoints&lt;/em&gt;. Em &lt;em&gt;RAML&lt;/em&gt;,
a semântica correta é chamarmos um &lt;em&gt;endpoint&lt;/em&gt; de &lt;em&gt;Resource&lt;/em&gt;. Vamos iniciar pelo &lt;code class=&quot;language-text&quot;&gt;/movies&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;(&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)

&lt;span class=&quot;token key atrule&quot;&gt;/movies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; A set of movies.

  &lt;span class=&quot;token key atrule&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Get a list of movies.
    &lt;span class=&quot;token key atrule&quot;&gt;responses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Movie&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Add a new movie to the set.
    &lt;span class=&quot;token key atrule&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Movie
    &lt;span class=&quot;token key atrule&quot;&gt;responses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;201&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Returns the new movie.
        &lt;span class=&quot;token key atrule&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Movie&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Começamos ao criar um bloco &lt;code class=&quot;language-text&quot;&gt;/movies&lt;/code&gt;. Nele, além de adicionarmos uma descrição através da propriedade
&lt;code class=&quot;language-text&quot;&gt;description&lt;/code&gt;, também deixamos explícito a possibilidade de enviarmos dois métodos: &lt;code class=&quot;language-text&quot;&gt;get&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;post&lt;/code&gt;.
Em &lt;code class=&quot;language-text&quot;&gt;get&lt;/code&gt;, podemos ter como resposta um &lt;em&gt;status code&lt;/em&gt; &lt;code class=&quot;language-text&quot;&gt;200&lt;/code&gt; e uma lista de &lt;code class=&quot;language-text&quot;&gt;Movie&lt;/code&gt; (por isso o sufixo &lt;code class=&quot;language-text&quot;&gt;[]&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Já em &lt;code class=&quot;language-text&quot;&gt;post&lt;/code&gt;, além de deixar claro que retornaremos o objeto recém criado, apontamos que a resposta
será um &lt;code class=&quot;language-text&quot;&gt;201&lt;/code&gt; com um único &lt;code class=&quot;language-text&quot;&gt;Movie&lt;/code&gt;. Note que nesse caso descrevemos que o &lt;code class=&quot;language-text&quot;&gt;post&lt;/code&gt; também possui um tipo,
através da palavra-chave &lt;code class=&quot;language-text&quot;&gt;body&lt;/code&gt;. Isso quer dizer que, ao fazermos &lt;code class=&quot;language-text&quot;&gt;POST /movies/&lt;/code&gt;, precisamos
passar um objeto que atenda as especificações do tipo &lt;code class=&quot;language-text&quot;&gt;Movie&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e838b044ee5537cedc7d18d8a7c0d732/c08c5/raml-vogons.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 67.70833333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGJ0FEZEB//xAAbEAABBAMAAAAAAAAAAAAAAAAAAQIDERITIv/aAAgBAQABBQKOZ6j22UpGvWyjM//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABoQAAICAwAAAAAAAAAAAAAAAAABAhEQITH/2gAIAQEABj8Cim9WXA6IpY//xAAZEAADAQEBAAAAAAAAAAAAAAABESEAQWH/2gAIAQEAAT8hKeLgaQQsXMXUcuUxIUSrEjS3v//aAAwDAQACAAMAAAAQ/wD/AP/EABURAQEAAAAAAAAAAAAAAAAAABBB/9oACAEDAQE/EKf/xAAWEQEBAQAAAAAAAAAAAAAAAAAAASH/2gAIAQIBAT8QrX//xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMUGBofH/2gAIAQEAAT8Qw/A1Aq9sOfMV0rgYntPWRq0GYWQgNrJU4cKg7VfZRokavc//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;RAML pode parecer poesia Vogon, mas não entre em pânico! (fundividedattention)&amp;quot;&quot;
        title=&quot;RAML pode parecer poesia Vogon, mas não entre em pânico! (fundividedattention)&quot;
        src=&quot;/static/e838b044ee5537cedc7d18d8a7c0d732/c08c5/raml-vogons.jpg&quot;
        srcset=&quot;/static/e838b044ee5537cedc7d18d8a7c0d732/7809d/raml-vogons.jpg 192w,
/static/e838b044ee5537cedc7d18d8a7c0d732/4ecad/raml-vogons.jpg 384w,
/static/e838b044ee5537cedc7d18d8a7c0d732/c08c5/raml-vogons.jpg 640w&quot;
        sizes=&quot;(max-width: 640px) 100vw, 640px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;RAML pode parecer poesia Vogon, mas não entre em pânico! (fundividedattention)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Caso a sua regra de negócio vá além da criação de um elemento, é possível descrevê-la
também. Por exemplo, vamos imaginar que exista a necessidade de verificar se o filme já existe no
banco de dados:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;(&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)

      &lt;span class=&quot;token key atrule&quot;&gt;201&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Returns the new movie.
        &lt;span class=&quot;token key atrule&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Movie
      &lt;span class=&quot;token key atrule&quot;&gt;409&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; The movie already exists in our database.
        &lt;span class=&quot;token key atrule&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note que o padrão &lt;em&gt;RAML&lt;/em&gt; é flexível. Nesse caso não criamos um tipo &lt;code class=&quot;language-text&quot;&gt;Error&lt;/code&gt;, apenas descrevemos o corpo
da resposta através das palavras-chave &lt;code class=&quot;language-text&quot;&gt;body&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;properties&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Vamos finalizar descrevendo os dois métodos restantes:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;(&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)

  /&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;uriParameters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; The Movie identifier.
        &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string

     &lt;span class=&quot;token key atrule&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
       &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Gets a specific movie.
       &lt;span class=&quot;token key atrule&quot;&gt;responses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
         &lt;span class=&quot;token key atrule&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
           &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Returns the specific movie.
           &lt;span class=&quot;token key atrule&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Movie

    &lt;span class=&quot;token key atrule&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Movie
      &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Updates an already created movie.
      &lt;span class=&quot;token key atrule&quot;&gt;responses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Returns the updated movie.
          &lt;span class=&quot;token key atrule&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Movie

    &lt;span class=&quot;token key atrule&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Deletes the movie.
      &lt;span class=&quot;token key atrule&quot;&gt;responses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;204&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Confirms the deletion.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dentro de &lt;code class=&quot;language-text&quot;&gt;/movies&lt;/code&gt;, criamos um novo bloco chamado &lt;code class=&quot;language-text&quot;&gt;/{id}&lt;/code&gt;. Através da propriedade &lt;code class=&quot;language-text&quot;&gt;uriParameters&lt;/code&gt; deixamos
claro que &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt; é na verdade uma &lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt; (no nosso caso, estamos usando um &lt;code class=&quot;language-text&quot;&gt;uuid&lt;/code&gt;). Além disso, descrevemos
os métodos &lt;code class=&quot;language-text&quot;&gt;get&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;put&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;delete&lt;/code&gt; para &lt;code class=&quot;language-text&quot;&gt;/movies/{id}&lt;/code&gt;, que não diferem tanto assim dos demais explicados
anteriormente.&lt;/p&gt;
&lt;h2&gt;Descrevendo sem se repetir&lt;/h2&gt;
&lt;p&gt;No nosso &lt;a href=&quot;/2017/01/06/construindo-apis-em-django-com-restless.html&quot; title=&quot;Construindo APIs em Django com Restless&quot;&gt;exemplo utilizando &lt;em&gt;Restless&lt;/em&gt;&lt;/a&gt;,
ao fazer um &lt;code class=&quot;language-text&quot;&gt;POST&lt;/code&gt; ou &lt;code class=&quot;language-text&quot;&gt;PUT&lt;/code&gt; com dados inválidos, retornamos um &lt;code class=&quot;language-text&quot;&gt;BadRequest&lt;/code&gt;. Podemos especificar esse
comportamento para o recurso &lt;code class=&quot;language-text&quot;&gt;POST movies/&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;PUT movies/{id}&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Logo após o bloco &lt;code class=&quot;language-text&quot;&gt;types&lt;/code&gt;, vamos adicionar um novo bloco chamado &lt;code class=&quot;language-text&quot;&gt;traits&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;(&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)

&lt;span class=&quot;token key atrule&quot;&gt;mediaType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; application/json

&lt;span class=&quot;token key atrule&quot;&gt;types&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
(&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)

&lt;span class=&quot;token key atrule&quot;&gt;traits&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;dataValidation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;responses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; A BadRequest happens when data validation fails.
        &lt;span class=&quot;token key atrule&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Através de &lt;code class=&quot;language-text&quot;&gt;traits&lt;/code&gt; somos capazes de escrever regras de uso que podem ser reaproveitadas por dados e recursos.
No exemplo acima, dizemos que recursos que utilizarem esse &lt;em&gt;trait&lt;/em&gt; terão como resposta o &lt;em&gt;status code&lt;/em&gt; &lt;code class=&quot;language-text&quot;&gt;400&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Agora basta apontarmos nossos recursos ao &lt;em&gt;trait&lt;/em&gt; de nome &lt;code class=&quot;language-text&quot;&gt;dataValidation&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;(&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)

&lt;span class=&quot;token key atrule&quot;&gt;/movies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
(&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)

  &lt;span class=&quot;token key atrule&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dataValidation&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

  (&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)

  /&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  (&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)

    &lt;span class=&quot;token key atrule&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dataValidation&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

(&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Traits&lt;/em&gt; são extremamente úteis para descrever comportamentos que são comuns entre recursos (por exemplo, listagens
que possuem paginação). Outro conceito similar é o &lt;em&gt;Resource Types&lt;/em&gt;, no qual você pode ler mais sobre na &lt;a href=&quot;https://github.com/raml-org/raml-spec/blob/master/versions/raml-10/raml-10.md/#declaration-resource-types-and-traits&quot; title=&quot;Resource Types and Traits&quot;&gt;documentação oficial&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Descrevendo a segurança&lt;/h2&gt;
&lt;p&gt;Para finalizar nosso exemplo. Vamos supor que o acesso à &lt;em&gt;API&lt;/em&gt; é limitado, e o usuário precisa ter uma
conta para acessá-la. Para não reinventar a roda, vamos supor que optamos pelo padrão &lt;a href=&quot;https://aaronparecki.com/oauth-2-simplified/&quot; title=&quot;OAuth 2 simplified&quot;&gt;&lt;em&gt;OAuth 2&lt;/em&gt;&lt;/a&gt;
para autenticação e autorização.&lt;/p&gt;
&lt;p&gt;Abaixo da propriedade &lt;code class=&quot;language-text&quot;&gt;mediaType&lt;/code&gt; vamos criar um novo bloco chamado &lt;code class=&quot;language-text&quot;&gt;securitySchemes&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;(&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)

&lt;span class=&quot;token key atrule&quot;&gt;securitySchemes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;oauth_2_0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; We support OAuth 2.0 for authenticating all API requests.
    &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; OAuth 2.0
    &lt;span class=&quot;token key atrule&quot;&gt;describedBy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;headers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;Authorization&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
             Used to send a valid OAuth 2 access token. Do not use
             with the &quot;access_token&quot; query string parameter.&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string
      &lt;span class=&quot;token key atrule&quot;&gt;queryParameters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;access_token&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
             Used to send a valid OAuth 2 access token.
             Do not use with the &quot;Authorization&quot; header.&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string
      &lt;span class=&quot;token key atrule&quot;&gt;responses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;401&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
              Bad or expired token. This can happen if the
              user or Movie API revoked or expired an access
              token. To fix, re-authenticate the user.&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;403&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
              Bad OAuth request (wrong consumer key, bad nonce,
              expired timestamp...). Unfortunately,
              re-authenticating the user won&apos;t help here.&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;settings&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;authorizationUri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//www.movies.com/1/oauth2/authorize
      &lt;span class=&quot;token key atrule&quot;&gt;accessTokenUri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//api.movies.com/1/oauth2/token
      &lt;span class=&quot;token key atrule&quot;&gt;authorizationGrants&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; authorization_code&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; implicit &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Serei sincero com você, caro leitor, o código acima é uma receita de bolo para descrever
o &lt;code class=&quot;language-text&quot;&gt;securitySchemes&lt;/code&gt; do tipo &lt;em&gt;OAuth 2&lt;/em&gt;. Nada de muito diferente do que a gente viu até aqui,
com exceção do uso do &lt;code class=&quot;language-text&quot;&gt;|&lt;/code&gt;, que nesse caso serve para fazer textos em bloco, e da
propriedade &lt;code class=&quot;language-text&quot;&gt;type&lt;/code&gt; com valor &lt;code class=&quot;language-text&quot;&gt;OAuth 2.0&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;No nosso cenário, apenas temos intenção de proteger a escrita de dados na &lt;em&gt;API&lt;/em&gt;. Para tanto,
Vamos adicionar a propriedade &lt;code class=&quot;language-text&quot;&gt;securedBy&lt;/code&gt; aos blocos &lt;code class=&quot;language-text&quot;&gt;post&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;put&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;(&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)

  &lt;span class=&quot;token key atrule&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dataValidation&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;securedBy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;oauth_2_0&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

(&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)

    &lt;span class=&quot;token key atrule&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dataValidation&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;securedBy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;oauth_2_0&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

(&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Pronto! A especificação da nossa &lt;em&gt;API&lt;/em&gt; está completa! Temos uma documentação forte, que pode ser lida
por humanos e máquinas. Para fins didáticos não utilizei recursos
interessantes como a propriedade &lt;code class=&quot;language-text&quot;&gt;example&lt;/code&gt; ou a ferramenta &lt;code class=&quot;language-text&quot;&gt;!include&lt;/code&gt;. Mas você pode ler sobre
eles na &lt;a href=&quot;https://github.com/raml-org/raml-spec/blob/master/versions/raml-10/raml-10.md&quot;&gt;especificação do &lt;em&gt;RAML&lt;/em&gt; 1.0&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/kplaube/post-raml/blob/8e580fa4d328a3f5f9e89e23d8b283ec04cf9637/api.raml&quot;&gt;Veja como ficou a versão final do nosso arquivo api.raml&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Através de uma linguagem clara fomos capazes de construir uma especificação legível para a nossa &lt;em&gt;API&lt;/em&gt;.
Com isso, outros desenvolvedores (ou até mesmo máquinas) serão capazes de entender como funciona cada &lt;em&gt;endpoint&lt;/em&gt;.
Com a adição de ferramentas como o &lt;a href=&quot;https://github.com/cybertk/abao&quot; title=&quot;REST API automated testing tool&quot;&gt;&lt;em&gt;Abao&lt;/em&gt;&lt;/a&gt;
e &lt;a href=&quot;https://github.com/raml2html/raml2html&quot; title=&quot;RAML to HTML documentation generator&quot;&gt;&lt;em&gt;raml2html&lt;/em&gt;&lt;/a&gt;, os resultados
do uso do &lt;em&gt;RAML&lt;/em&gt; podem ser surpreendentes, como no exemplo abaixo:&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7ff9fbba0eafbab830fbc156798eb2bd/6af66/example-raml.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.895833333333336%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABp0lEQVQoz4WSTVOCUBiF+actayYBv0AQP9Df0qZFOxct2pTi2KTZrhpScXIYBRoDgUAEOkgLi6bO3GHgcp/3PefeSxSLxXK5zLJsqVTCO0Xmzs4vLu/km9v7+9GdLMsvGWFyNpsNh0OCoqhcLkeSJE3T+Xyepsira+nVjXV76/l+FP+iKEqmdV0nWq0Wz/Mcx/EcL4pivV6/liTFCh7U9wfVfDLc57ePHwOT8nvwOFeJWq0GstFoAGs2mxxX6Un9jbfTzY293blBmB3OdreNY3WlESALhQKeqAKeYRhJkuDsw3XiKIyi8C/bAIS90Ba2EQGwbduaphuGrq2dIExWHyoMk4qaphFgGJYVhLq4VwobhuE4ju/7ruumS7OdE7gliiel6hFZqWDP+CRCr9dbLpeKoqiqalnWP/BphT5mTqtVXqgKOOput2uaJv55npea3H1XEASAV6tVYhuBcUmw4e12G7b7/b692YyGo/F4PJlOkR+1rAPhE6EWi0UCQyAROD3zwWCQulqv1yDDjND8y7Z4IMBw0el0UFXZC9dwmtFkMpnP5/D1CVzWOmRB+U3BAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Exemplo de documentação gerada pelo raml2html&amp;quot;&quot;
        title=&quot;Exemplo de documentação gerada pelo raml2html&quot;
        src=&quot;/static/7ff9fbba0eafbab830fbc156798eb2bd/6af66/example-raml.png&quot;
        srcset=&quot;/static/7ff9fbba0eafbab830fbc156798eb2bd/8514f/example-raml.png 192w,
/static/7ff9fbba0eafbab830fbc156798eb2bd/804b2/example-raml.png 384w,
/static/7ff9fbba0eafbab830fbc156798eb2bd/6af66/example-raml.png 640w&quot;
        sizes=&quot;(max-width: 640px) 100vw, 640px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Exemplo de documentação gerada pelo raml2html&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Até a próxima.&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/raml-org/raml-spec/blob/master/versions/raml-10/raml-10.md&quot;&gt;Github: RAML Version 1.0 specification&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.sitepoint.com/raml-restful-api-modeling-language/&quot;&gt;Sitepoint: RAML, the RESTful API modeling language&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Construindo APIs em Django com Restless]]></title><description><![CDATA[Construir APIs REST em
Django nos dias atuais é uma
tarefa no máximo corriqueira. Com a ajuda de bibliotecas consagradas, como
Django REST Framework e
Tastypie,
e utilizando toda a abstração que envolve os Models do framework, é
possível ter endpoints respondendo em questão de minutos. Mas existem…]]></description><link>https://klauslaube.com.br/2017/01/06/construindo-apis-em-django-com-restless.html</link><guid isPermaLink="false">https://klauslaube.com.br/2017/01/06/construindo-apis-em-django-com-restless.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Fri, 06 Jan 2017 10:45:00 GMT</pubDate><content:encoded>&lt;p&gt;Construir &lt;em&gt;APIs&lt;/em&gt; &lt;a href=&quot;/tag/rest.html&quot; title=&quot;Leia mais sobre REST&quot;&gt;&lt;em&gt;REST&lt;/em&gt;&lt;/a&gt; em
&lt;a href=&quot;/tag/django.html&quot; title=&quot;Leia mais sobre Django&quot;&gt;&lt;em&gt;Django&lt;/em&gt;&lt;/a&gt; nos dias atuais é uma
tarefa no máximo corriqueira. Com a ajuda de bibliotecas consagradas, como
&lt;a href=&quot;http://www.django-rest-framework.org/&quot;&gt;&lt;em&gt;Django REST Framework&lt;/em&gt;&lt;/a&gt; e
&lt;a href=&quot;https://django-tastypie.readthedocs.io/en/latest/&quot;&gt;&lt;em&gt;Tastypie&lt;/em&gt;&lt;/a&gt;,
e utilizando toda a abstração que envolve os &lt;em&gt;Models&lt;/em&gt; do &lt;em&gt;framework&lt;/em&gt;, é
possível ter &lt;em&gt;endpoints&lt;/em&gt; respondendo em questão de minutos.&lt;/p&gt;
&lt;p&gt;Mas existem alternativas que são capazes de tornar esse processo ainda
mais prático, e com uma curva de aprendizado um pouquinho menor. Nesse
seleto grupo, uma biblioteca que me agrada é o &lt;a href=&quot;https://github.com/toastdriven/restless&quot;&gt;&lt;em&gt;Restless&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Por que Restless (e não as outras)?&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/toastdriven&quot;&gt;&lt;em&gt;Daniel Lindsley&lt;/em&gt;&lt;/a&gt; (também conhecido como &lt;em&gt;Toast Driven&lt;/em&gt;),
um dos criadores do &lt;em&gt;Tastypie&lt;/em&gt; (famosa biblioteca &lt;em&gt;Django&lt;/em&gt; para construção de &lt;em&gt;APIs RESTful&lt;/em&gt;),
também é criador do &lt;em&gt;Restless&lt;/em&gt;. Segundo ele, o que o motivou a escrever uma alternativa ao &lt;em&gt;Tastypie&lt;/em&gt; foi:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Quite simply, I care about creating flexible &amp;#x26; RESTFul APIs. In building Tastypie, I tried
to create something extremely complete &amp;#x26; comprehensive. The result was writing a lot of hook
methods (for easy extensibility) &amp;#x26; a lot of (perceived) bloat, as I tried to accommodate for
everything people might want/need in a flexible/overridable manner.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Não há dúvidas que as duas bibliotecas citadas no início desse artigo são extremamente completas.
Se você estiver procurando um &lt;em&gt;engine&lt;/em&gt; poderoso para a criação de &lt;em&gt;APIs&lt;/em&gt; em &lt;em&gt;Django&lt;/em&gt;, pule logo
para a &lt;a href=&quot;http://www.django-rest-framework.org/tutorial/quickstart/&quot; title=&quot;Comece agora com o REST Framework&quot;&gt;documentação do &lt;em&gt;Django REST Framework&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Mas nem sempre precisamos de todo esse poderio para dar vida ao nosso projeto. E é exatamente
com esse posicionamento que &lt;em&gt;Daniel&lt;/em&gt; fecha o seu argumento:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;But in reality, all I really ever personally want are the RESTful verbs, JSON serialization &amp;#x26;
the ability of override behavior.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Se assim como o autor você só precisa dos verbos &lt;em&gt;HTTP&lt;/em&gt;, serialização &lt;em&gt;JSON&lt;/em&gt; e uma leve camada
de customização, talvez o &lt;em&gt;Restless&lt;/em&gt; seja tudo o que você necessita.&lt;/p&gt;
&lt;p&gt;Por último mas não menos importante: O &lt;em&gt;Restless&lt;/em&gt;, é &quot;framework agnostic&quot; e funciona com &lt;em&gt;Django&lt;/em&gt;,
&lt;em&gt;Flask&lt;/em&gt;, &lt;em&gt;Pyramid&lt;/em&gt; e &lt;em&gt;Tornado&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;Mão na massa&lt;/h2&gt;
&lt;p&gt;Lembra do nosso &quot;mini IMDB&quot;, lá do &lt;a href=&quot;/2016/05/20/rest-parte-2.html&quot; title=&quot;Leia mais sobre REST&quot;&gt;&lt;em&gt;post&lt;/em&gt; sobre &lt;em&gt;REST&lt;/em&gt;&lt;/a&gt;? Vamos aproveitar a temática para exemplificar
o uso de &lt;em&gt;Restless&lt;/em&gt; com &lt;em&gt;Django&lt;/em&gt;. Mas antes, aquele &lt;code class=&quot;language-text&quot;&gt;pip&lt;/code&gt; &quot;de leve&quot; para instalar o pacote:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ pip install restless&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Não é necessária a adição da biblioteca ao &lt;code class=&quot;language-text&quot;&gt;settings.py&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Relembrando o exemplo do &lt;em&gt;post&lt;/em&gt; anterior, precisaremos construir os seguintes recursos:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;GET /movies&lt;/code&gt;: Trará uma lista de filmes&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;POST /movies&lt;/code&gt;: Adicionará um novo filme ao banco de dados&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;GET /movies/{id}&lt;/code&gt;: Trará um filme específico&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;PUT /movies/{id}&lt;/code&gt;: Atualizará um filme específico&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;DELETE /movies/{id}&lt;/code&gt;: Removerá um filme específico do banco de dados&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Para tanto, teremos um &lt;em&gt;model&lt;/em&gt; &lt;em&gt;Django&lt;/em&gt; similar ao abaixo:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# movies/models.py&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; uuid
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; django&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;db &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; models


&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Movie&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;models&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Model&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token builtin&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; models&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;UUIDField&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;primary_key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; default&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;uuid&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;uuid4&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; editable&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    title &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; models&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;CharField&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;max_length&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    description &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; models&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;TextField&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;blank&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; null&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Podemos partir agora para a criação dos &lt;em&gt;resources&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;Resourcers e Preparers&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Resources&lt;/em&gt; são classes que descrevem um recurso &lt;em&gt;REST&lt;/em&gt;, dentro do &lt;em&gt;Restless&lt;/em&gt;. É através deles
que definiremos &lt;em&gt;endpoints&lt;/em&gt; e todos os verbos suportados. Já os &lt;em&gt;Preparers&lt;/em&gt; fazem
o papel do &quot;mapping&quot; do objeto que você está expondo na API.&lt;/p&gt;
&lt;p&gt;Para começar, vamos criar um arquivo &lt;code class=&quot;language-text&quot;&gt;api.py&lt;/code&gt; dentro do nosso &lt;em&gt;app&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# movies/api.py&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; restless&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dj &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; DjangoResource
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; restless&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;preparers &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; FieldsPreparer

&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; movies&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;models &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Movie


&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MovieResource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;DjangoResource&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    preparer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; FieldsPreparer&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fields&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;description&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;description&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Movie&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;objects&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;O &lt;code class=&quot;language-text&quot;&gt;DjangoResource&lt;/code&gt; é um &lt;em&gt;Resource&lt;/em&gt; &lt;em&gt;Restless&lt;/em&gt; com algumas &quot;facilidades&quot; para funcionar dentro do
framework &lt;em&gt;Django&lt;/em&gt;. Uma dessas facilidades é o roteamento (que veremos logo abaixo).&lt;/p&gt;
&lt;p&gt;Todo recurso precisa de um atributo &lt;code class=&quot;language-text&quot;&gt;preparer&lt;/code&gt;, é através dele que o &lt;em&gt;Resource&lt;/em&gt; fará o &quot;de-para&quot;
dos campos no seu banco dados, e os campos que serão exibidos em sua &lt;em&gt;API&lt;/em&gt;. Nesse caso
estamos utilizando o &lt;code class=&quot;language-text&quot;&gt;FieldsPreparer&lt;/code&gt;, e através de um dicionário (onde a chave é o nome do campo
na &lt;em&gt;API&lt;/em&gt; e o valor é o caminho para o dado) fazemos o mapeamento necessário para expor os
dados do recurso.&lt;/p&gt;
&lt;p&gt;O método &lt;code class=&quot;language-text&quot;&gt;list&lt;/code&gt; será o responsável por responder uma rota &lt;code class=&quot;language-text&quot;&gt;GET /movies/&lt;/code&gt; em nosso projeto. Aqui já
podemos ver o conceito de &lt;em&gt;BYOD&lt;/em&gt; (&lt;em&gt;Bring Your Own Data&lt;/em&gt;) em ação. O &lt;em&gt;Restless&lt;/em&gt; não &quot;introspecta&quot;
os seus &lt;em&gt;models&lt;/em&gt; &lt;em&gt;Django&lt;/em&gt; para entender o que e como ele deve expor dados. É necessário que
você faça isso explicitamente... é esse princípio que torna fácil o trabalho da biblioteca com outros
&lt;em&gt;frameworks&lt;/em&gt; e bancos de dados.&lt;/p&gt;
&lt;p&gt;Falta atualizar o &lt;code class=&quot;language-text&quot;&gt;urls.py&lt;/code&gt; para que o &lt;em&gt;Django&lt;/em&gt; possa fazer o roteamento dos endereços
com as &lt;em&gt;views&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# urls.py&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; django&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;conf&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;urls &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; url&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; include

&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; movies&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;api &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; MovieResource

urlpatterns &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    url&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;r&apos;movies/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; include&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;MovieResource&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;urls&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Aquele &lt;code class=&quot;language-text&quot;&gt;.urls()&lt;/code&gt; é uma das facilidades que o &lt;code class=&quot;language-text&quot;&gt;DjangoResource&lt;/code&gt; oferece. Caso você esteja trabalhando
com algum outro &lt;em&gt;framework&lt;/em&gt;, você pode estender o comportamento de &lt;code class=&quot;language-text&quot;&gt;Resource&lt;/code&gt; e resolver o roteamento
manualmente.&lt;/p&gt;
&lt;p&gt;Pronto! O &lt;em&gt;endpoint&lt;/em&gt; &lt;code class=&quot;language-text&quot;&gt;movies/&lt;/code&gt; já está respondendo:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ curl -X GET http://localhost:8000/movies/ | json_pp

{
   &amp;quot;objects&amp;quot; : [
      {
         &amp;quot;description&amp;quot; : &amp;quot;The Rebel Alliance makes a risky move to steal the plans for the Death Star, setting up the epic saga to follow. (133 mins.)&amp;quot;,
         &amp;quot;id&amp;quot; : &amp;quot;7e383f9c-5dc4-4b0d-9864-71e05a5d271b&amp;quot;,
         &amp;quot;title&amp;quot; : &amp;quot;Rogue One&amp;quot;
      },
      (...)
   ]
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Criação e autorização&lt;/h2&gt;
&lt;p&gt;Para adicionar um filme, faremos um POST em &lt;code class=&quot;language-text&quot;&gt;movies/&lt;/code&gt;, para isso, precisamos adicionar um método &lt;code class=&quot;language-text&quot;&gt;create&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# movies/api.py&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MovieResource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;DjangoResource&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Movie&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;objects&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Movie&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;objects&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;create&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            title&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            description&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;description&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Mais uma vez o &lt;em&gt;Restless&lt;/em&gt; não introspecta o modelo, logo, é necessário fazer a validação e criação do objeto
em banco &quot;na mão&quot;.&lt;/p&gt;
&lt;p&gt;Vamos testar se o comportamento é o esperado:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ curl -X POST -H &amp;quot;Content-Type: application/json&amp;quot; -d &amp;#39;{&amp;quot;title&amp;quot;: &amp;quot;just a test&amp;quot;, &amp;quot;description&amp;quot;: &amp;quot;foo bar&amp;quot;}&amp;#39; http://localhost:8000/movies/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Provavelmente retornará um &lt;em&gt;exception&lt;/em&gt; dizendo que o acesso não foi autorizado. O &lt;em&gt;Restless&lt;/em&gt; por padrão espera
que todo o &lt;code class=&quot;language-text&quot;&gt;POST&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;PUT&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;DELETE&lt;/code&gt; seja realizado através de uma requisição autenticada. Para isso, antes
de executar cada verbo, ele consulta o método &lt;code class=&quot;language-text&quot;&gt;is_authenticated&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 600px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4e027daa42357f668194d325afbcf154/b4294/deathstar.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.60416666666667%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABQADBP/EABYBAQEBAAAAAAAAAAAAAAAAAAIBA//aAAwDAQACEAMQAAABL7ydaX4mWf8A/8QAGxAAAgIDAQAAAAAAAAAAAAAAAQIAEQMSEyH/2gAIAQEAAQUCxlL6rS+gRZsZ/8QAFhEAAwAAAAAAAAAAAAAAAAAAAhAx/9oACAEDAQE/ASi//8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8BJ//EABsQAAICAwEAAAAAAAAAAAAAAAABAhEQISIx/9oACAEBAAY/AulYow0i8+n/xAAaEAEBAAIDAAAAAAAAAAAAAAABABExIUFR/9oACAEBAAE/ISc8RjD0mMnbbXdkdK//2gAMAwEAAgADAAAAEBQv/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAEx/9oACAEDAQE/ENEj/8QAFREBAQAAAAAAAAAAAAAAAAAAEDH/2gAIAQIBAT8Qo//EABoQAQADAQEBAAAAAAAAAAAAAAEAESExQWH/2gAIAQEAAT8QZPJAefYb2oA7Kklzp2LRMUdlQAAMGf/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;is_authenticated retornando True é pior que o problema de segurança na Estrela da Morte (movieweb.com)&amp;quot;&quot;
        title=&quot;is_authenticated retornando True é pior que o problema de segurança na Estrela da Morte (movieweb.com)&quot;
        src=&quot;/static/4e027daa42357f668194d325afbcf154/b4294/deathstar.jpg&quot;
        srcset=&quot;/static/4e027daa42357f668194d325afbcf154/7809d/deathstar.jpg 192w,
/static/4e027daa42357f668194d325afbcf154/4ecad/deathstar.jpg 384w,
/static/4e027daa42357f668194d325afbcf154/b4294/deathstar.jpg 600w&quot;
        sizes=&quot;(max-width: 600px) 100vw, 600px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;is_authenticated retornando True é pior que o problema de segurança na Estrela da Morte (movieweb.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Para fins educacionais, vamos informar à biblioteca que todas as requisições são aceitas:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# movies/api.py&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MovieResource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;DjangoResource&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Movie&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;objects&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;create&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            title&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            description&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;description&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;is_authenticated&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;True&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Mais uma vez executamos o &lt;em&gt;POST&lt;/em&gt; via &lt;code class=&quot;language-text&quot;&gt;curl&lt;/code&gt;, e &lt;em&gt;voilà&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;just a test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;bd02d0eb-4b75-4bfe-8222-ba24f7a1cad4&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;description&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;foo bar&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Verbos por ID&lt;/h2&gt;
&lt;p&gt;Já listamos e criamos novos filmes. Como fazemos para ver os detalhes de um filme através do
seu &lt;em&gt;ID&lt;/em&gt;? Simples! O método &lt;code class=&quot;language-text&quot;&gt;detail&lt;/code&gt; resolve essa para a gente:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# movies/api.py&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; django&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;shortcuts &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; get_object_or_404

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MovieResource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;DjangoResource&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;detail&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pk&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; get_object_or_404&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Movie&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pk&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;pk&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Um &lt;code class=&quot;language-text&quot;&gt;GET&lt;/code&gt; para &lt;code class=&quot;language-text&quot;&gt;movies/{id}&lt;/code&gt; retornará os detalhes do recurso:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ curl -X GET http://localhost:8000/movies/7e383f9c-5dc4-4b0d-9864-71e05a5d271b/

{
  &amp;quot;description&amp;quot;: &amp;quot;The Rebel Alliance makes a risky move to steal the plans for the Death Star, setting up the epic saga to follow. (133 mins.)&amp;quot;,
  &amp;quot;id&amp;quot;: &amp;quot;7e383f9c-5dc4-4b0d-9864-71e05a5d271b&amp;quot;,
  &amp;quot;title&amp;quot;: &amp;quot;Rogue One&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note que o &lt;code class=&quot;language-text&quot;&gt;DjangoResource&lt;/code&gt; resolveu a passagem do parâmetro &lt;code class=&quot;language-text&quot;&gt;pk&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Para finalizar, vamos criar os métodos &lt;code class=&quot;language-text&quot;&gt;update&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;delete&lt;/code&gt;, que serão responsáveis
por atualizar e remover o recurso:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# movies/api.py&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MovieResource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;DjangoResource&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;

    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;detail&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pk&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; get_object_or_404&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Movie&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pk&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;pk&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pk&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        movie &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;detail&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pk&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        movie&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        movie&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;description &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;description&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        movie&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;save&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; movie

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pk&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        movie &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;detail&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pk&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        movie&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;delete&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Assim como o método &lt;code class=&quot;language-text&quot;&gt;create&lt;/code&gt;, não há nenhuma &quot;mágica&quot; resolvendo a operação para a gente.
Precisamos explicitamente realizar a atualização e remoção do dado através do &lt;em&gt;ORM&lt;/em&gt; do &lt;em&gt;Django&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Agora somos capazes de atualizar:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ curl -X PUT -H &amp;quot;Content-Type: application/json&amp;quot; -d &amp;#39;{&amp;quot;title&amp;quot;: &amp;quot;Zombieland&amp;quot;, &amp;quot;description&amp;quot;: &amp;quot;So much fun&amp;quot;}&amp;#39; http://localhost:8000/movies/bd02d0eb-4b75-4bfe-8222-ba24f7a1cad4/

{
  &amp;quot;title&amp;quot;: &amp;quot;Zombieland&amp;quot;,
  &amp;quot;description&amp;quot;: &amp;quot;So much fun&amp;quot;,
  &amp;quot;id&amp;quot;: &amp;quot;bd02d0eb-4b75-4bfe-8222-ba24f7a1cad4&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;E remover um filme através da API:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl -X DELETE http://localhost:8000/movies/bd02d0eb-4b75-4bfe-8222-ba24f7a1cad4/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;Gosto bastante do &lt;em&gt;Restless&lt;/em&gt; pela sua filosofia de manter-se simples. Mas nem tudo são rosas!
A falta de autorização, &lt;em&gt;HATEOAS&lt;/em&gt; e saídas em outros formatos (como &lt;em&gt;XML&lt;/em&gt;, por exemplo)
podem ser argumentos decisivos para a escolha de uma biblioteca mais completa.&lt;/p&gt;
&lt;p&gt;Eu costumo utilizar o &lt;em&gt;Restless&lt;/em&gt; em projetos muito específicos, onde sei que a &lt;em&gt;API&lt;/em&gt; será sempre
&lt;em&gt;JSON&lt;/em&gt;, e integrações com o &lt;em&gt;ORM&lt;/em&gt; trarão mais dores de cabeça do que soluções (em um cenário
onde há interação com bancos &lt;em&gt;NoSQL&lt;/em&gt;, o &lt;em&gt;Restless&lt;/em&gt; se mostra uma ferramenta muito útil).&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/kplaube/post-django-restless&quot; title=&quot;Veja o exemplo completo no Github&quot;&gt;Confira o exemplo desse &lt;em&gt;post&lt;/em&gt; no Github&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Até a próxima.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[REST - Parte 2]]></title><description><![CDATA[No post anterior, demos uma pequena introdução
ao conceito de REST e fizemos um raso comparativo com o seu "rival", o SOAP.
Nesse artigo falaremos mais sobre como interagir com APIs REST utilizando
os verbos do protocolo HTTP, e a biblioteca hug,
que nos ajudará a ilustrar como uma API funciona na…]]></description><link>https://klauslaube.com.br/2016/05/20/rest-parte-2.html</link><guid isPermaLink="false">https://klauslaube.com.br/2016/05/20/rest-parte-2.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Fri, 20 May 2016 12:35:00 GMT</pubDate><content:encoded>&lt;p&gt;No &lt;a href=&quot;/2016/01/06/rest-parte-1.html&quot; title=&quot;Leia a parte 1&quot;&gt;&lt;em&gt;post&lt;/em&gt; anterior&lt;/a&gt;, demos uma pequena introdução
ao conceito de &lt;em&gt;REST&lt;/em&gt; e fizemos um raso comparativo com o seu &quot;rival&quot;, o &lt;em&gt;SOAP&lt;/em&gt;.
Nesse artigo falaremos mais sobre como interagir com &lt;em&gt;APIs&lt;/em&gt; &lt;em&gt;REST&lt;/em&gt; utilizando
os verbos do protocolo &lt;em&gt;HTTP&lt;/em&gt;, e a biblioteca &lt;a href=&quot;http://www.hug.rest/&quot; title=&quot;Embrace APIs of the future&quot;&gt;&lt;em&gt;hug&lt;/em&gt;&lt;/a&gt;,
que nos ajudará a ilustrar como uma &lt;em&gt;API&lt;/em&gt; funciona na prática.&lt;/p&gt;
&lt;p&gt;Segundo o &lt;a href=&quot;https://www.infoq.com/br/articles/rest-introduction&quot; title=&quot;Introdução ao REST&quot;&gt;&lt;em&gt;InfoQ&lt;/em&gt;&lt;/a&gt;,
o &lt;em&gt;REST&lt;/em&gt; possui cinco princípios fundamentais:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Dê a todas as coisas um identificador&lt;/li&gt;
&lt;li&gt;Vincule as coisas&lt;/li&gt;
&lt;li&gt;Utilize métodos padronizados&lt;/li&gt;
&lt;li&gt;Recursos com múltiplas representações&lt;/li&gt;
&lt;li&gt;Comunique sem estado&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Esses cinco itens nos guiarão daqui para frente.&lt;/p&gt;
&lt;h2&gt;O Uniform Resource Identifier&lt;/h2&gt;
&lt;p&gt;Você já parou para pensar que na &lt;em&gt;Internet&lt;/em&gt; tudo tem um &quot;endereço único&quot;?
Do formulário de contato do seu &lt;em&gt;blog&lt;/em&gt; até um vídeo no &lt;em&gt;Youtube&lt;/em&gt;?&lt;/p&gt;
&lt;p&gt;Todo recurso tem um nome e pode ser identificado de forma única.
Esse conceito é conhecido por &lt;em&gt;Uniform Resource Identifier&lt;/em&gt; (&lt;em&gt;URI&lt;/em&gt;) e é
composto pelo &lt;em&gt;Uniform Resource Locator&lt;/em&gt; (&lt;em&gt;URL&lt;/em&gt;) e &lt;em&gt;Uniform Resource Name&lt;/em&gt; (&lt;em&gt;URN&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;Logo, quando falamos do endereço &lt;code class=&quot;language-text&quot;&gt;http://google.com/index.html&lt;/code&gt;, podemos assumir a seguinte
estrutura:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;http://google.com/index.html
|------ URL -----|-- URN --|
|----------- URI ----------|&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Como uma &lt;em&gt;API&lt;/em&gt; &lt;em&gt;REST&lt;/em&gt; é um recurso disponível na &lt;a href=&quot;/tag/desenvolvimento-web.html&quot; title=&quot;Leia mais sobre web&quot;&gt;&lt;em&gt;web&lt;/em&gt;&lt;/a&gt;,
essa regra não é diferente. Daremos identificadores únicos para cada recurso exposto.&lt;/p&gt;
&lt;p&gt;Utilizaremos o &lt;code class=&quot;language-text&quot;&gt;localhost:8000&lt;/code&gt; para os exemplos a seguir. Portanto, vamos imaginar que
temos uma &lt;em&gt;API&lt;/em&gt; de filmes, e gostaríamos de listar todos os filmes. Uma boa prática
é utilizarmos o substantivo no plural. Exemplo:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;http://localhost:8000/movies/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vamos supor que o filme &quot;The Matrix&quot;, dentro da nossa base de dados, tenha o &lt;em&gt;ID&lt;/em&gt; &lt;code class=&quot;language-text&quot;&gt;20&lt;/code&gt;.
Na nossa &lt;em&gt;API&lt;/em&gt; poderíamos acessá-lo através da seguinte &lt;em&gt;URI&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;http://localhost:8000/movies/20/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Consequentemente, outro filme teria um identificador diferente. Por exemplo, para acessarmos
o filme &quot;Swordfish&quot;, que no nosso exemplo possui o &lt;em&gt;ID&lt;/em&gt; &lt;code class=&quot;language-text&quot;&gt;55&lt;/code&gt;, temos:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;http://localhost:8000/movies/55/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Outra boa prática é utilizarmos &lt;a href=&quot;https://en.wikipedia.org/wiki/Universally_unique_identifier&quot; title=&quot;Leia mais sobre UUID&quot;&gt;&lt;em&gt;UUIDs&lt;/em&gt;&lt;/a&gt;
ao invés das chaves primárias do nosso banco de dados. Isso obscurece o funcionamento da
aplicação, tornando-a ligeiramente mais segura:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;http://localhost:8000/movies/DED621D5-08F4-4D32-ADFA-84375BA415B9/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Legal! Já tenho como acessar o filme &lt;em&gt;The Matrix&lt;/em&gt;, dentro da nossa &quot;&lt;em&gt;API&lt;/em&gt; imaginária&quot;. Será
que temos alguma maneira fácil de acessar, por exemplo, os atores que fazem parte desse
filme?&lt;/p&gt;
&lt;h2&gt;Hipermídia&lt;/h2&gt;
&lt;p&gt;O conceito de hipermídia pode ser bastante abstrato. Segundo o &lt;em&gt;Wikipedia&lt;/em&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Hipermídia é a reunião de várias mídias num ambiente computacional, suportada por sistemas eletrônicos
de comunicação. Hipermídia, diferentemente de multimídia, não é a mera reunião dos meios existentes, e
sim a fusão desses meios a partir de elementos não-lineares.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;A melhor forma de entender esse conceito é se olharmos para uma forma de hipermídia muito conhecida: o hipertexto (sim,
o &quot;H&quot; do &lt;a href=&quot;/tag/html.html&quot; title=&quot;Leia mais sobre HTML&quot;&gt;&lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/a&gt;). Nele, temos um &quot;texto interativo&quot;,
não necessariamente linear e composto por diferentes outras mídias (como som, vídeo, imagens, etc).&lt;/p&gt;
&lt;p&gt;Mas o ponto que mais ilustra o que é um hipertexto é a capacidade de um texto referenciar a outro. Esse
conceito, chamado de hiperlinks (ou somente &lt;em&gt;links&lt;/em&gt;, para os mais jovens) permite com que eu seja capaz de navegar
entre documentos apenas seguindo as suas referências, sem conhecer previamente o destino do meu passo seguinte.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 619px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3c33d9c73b53a52b480dad1527ce9c9d/a530b/social-network-movie.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAwX/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAc8aRwgoK//EABsQAAEEAwAAAAAAAAAAAAAAAAABAxESAhAh/9oACAEBAAEFAqmaJFZHhzmv/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAgMBAAAAAAAAAAAAAAAAABABAhEx/9oACAEBAAY/AjanVC//xAAbEAEAAgIDAAAAAAAAAAAAAAABACERMUFhgf/aAAgBAQABPyHAzlJyoLUNgPZXVUTRKOots//aAAwDAQACAAMAAAAQH8//xAAWEQEBAQAAAAAAAAAAAAAAAAAAEQH/2gAIAQMBAT8Qq4//xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQIBAT8QCxv/xAAaEAEBAAMBAQAAAAAAAAAAAAABEQAhMVFB/9oACAEBAAE/ECUtEiOkwC8HlddLksD4gjcM+gM1TCINHZoO8bs9c//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Aqui de boas fazendo umas APIs com os meus amigos (cosmopolitan.com)&amp;quot;&quot;
        title=&quot;Aqui de boas fazendo umas APIs com os meus amigos (cosmopolitan.com)&quot;
        src=&quot;/static/3c33d9c73b53a52b480dad1527ce9c9d/a530b/social-network-movie.jpg&quot;
        srcset=&quot;/static/3c33d9c73b53a52b480dad1527ce9c9d/7809d/social-network-movie.jpg 192w,
/static/3c33d9c73b53a52b480dad1527ce9c9d/4ecad/social-network-movie.jpg 384w,
/static/3c33d9c73b53a52b480dad1527ce9c9d/a530b/social-network-movie.jpg 619w&quot;
        sizes=&quot;(max-width: 619px) 100vw, 619px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Aqui de boas fazendo umas APIs com os meus amigos (cosmopolitan.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Quando esse conceito é aplicado ao contexto de &lt;em&gt;REST&lt;/em&gt;, temos o que chamamos de &lt;em&gt;Hypermedia as the Engine
of Application State&lt;/em&gt; (&lt;a href=&quot;https://en.wikipedia.org/wiki/HATEOAS&quot; title=&quot;Leia mais sobre HATEOAS&quot;&gt;&lt;em&gt;HATEOAS&lt;/em&gt;&lt;/a&gt;).
Segundo ele, nosso cliente deve ser capaz de interagir com a nossa aplicação
(e até mesmo demais aplicações vinculadas a ela) através de hipermídia. Dessa forma, eu não preciso necessariamente
conhecer todos os &lt;em&gt;endpoints&lt;/em&gt; de uma &lt;em&gt;API&lt;/em&gt;, ela me informará dada uma determinada &lt;em&gt;URI&lt;/em&gt;, para onde eu posso navegar.&lt;/p&gt;
&lt;p&gt;Pegando a nossa &lt;em&gt;API&lt;/em&gt; de filmes, eu deveria ter dentro da resposta do filme &quot;The Matrix&quot; alguma informação me dizendo
que para listar os atores desse filme, eu deveria acessar &lt;code class=&quot;language-text&quot;&gt;http://localhost:8000/movies/DED621D5-08F4-4D32-ADFA-84375BA415B9/actors/&lt;/code&gt;.
E uma vez eu estando nessa listagem, deveria haver um &lt;em&gt;link&lt;/em&gt; me dizendo que para ver os detalhes da
&lt;a href=&quot;http://www.imdb.com/name/nm0005251/&quot; title=&quot;Carrie-Anne Moss no IMDB&quot;&gt;&lt;em&gt;Carrie-Anne Moss&lt;/em&gt;&lt;/a&gt;, por exemplo,
eu devo acessar a &lt;em&gt;URI&lt;/em&gt; &lt;code class=&quot;language-text&quot;&gt;http://localhost:8000/actors/A3531BF5-C089-4A44-8A92-5A5AC08261AA/&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Exemplo:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;&lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;movie&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;uuid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;DED621D5-08F4-4D32-ADFA-84375BA415B9&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;uuid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;The Matrix&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;actors&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;http://localhost:8000/movies/DED621D5-08F4-4D32-ADFA-84375BA415B9/actors/&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;movie&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ou em uma resposta em &lt;em&gt;JSON&lt;/em&gt;, poderíamos ter algo parecido com o exemplo abaixo:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;uuid&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;DED621D5-08F4-4D32-ADFA-84375BA415B9&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;The Matrix&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

  &lt;span class=&quot;token property&quot;&gt;&quot;_links&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;actors&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://localhost:8000/movies/DED621D5-08F4-4D32-ADFA-84375BA415B9/actors/&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Um pouquinho de prática&lt;/h2&gt;
&lt;p&gt;Antes de falarmos sobre os verbos &lt;em&gt;HTTP&lt;/em&gt;, vamos utilizar o &lt;em&gt;hug&lt;/em&gt; para uma abordagem um
pouco mais prática. Iniciamos com a instalação da biblioteca:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ pip3 install hug&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Para tornar as coisas simples, vamos simular o acesso ao banco de dados com o uso de dicionários &lt;em&gt;Python&lt;/em&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# api.py&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; hug

MOVIES &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;DED621D5-08F4-4D32-ADFA-84375BA415B9&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;The Matrix&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;description&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A &lt;em&gt;URI&lt;/em&gt; por si só não significa nada. Precisamos de métodos para acessá-la (e manipulá-la), e o protocolo &lt;em&gt;HTTP&lt;/em&gt;
possui alguns verbos que podem executar essas operações para nós.&lt;/p&gt;
&lt;h3&gt;Listagem e detalhes&lt;/h3&gt;
&lt;p&gt;O &lt;em&gt;GET&lt;/em&gt; é sem dúvida o mais famoso deles. É através dele que somos capazes de &quot;pegar&quot; os recursos da &lt;em&gt;web&lt;/em&gt;, incluindo
páginas na Internet como essa que você está lendo. Com esse verbo, podemos listar e visualizar mais detalhes de um
determinado recurso na &lt;em&gt;web&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Vamos começar retornando a listagem de filmes:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# api.py&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; hug

&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;

&lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@hug&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;movies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;objects&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; MOVIES&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Para executar a &lt;em&gt;API&lt;/em&gt; no seu ambiente local, utilize o seguinte comando:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ hug -f api.py&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Agora, ao acessar a &lt;em&gt;URI&lt;/em&gt; &lt;code class=&quot;language-text&quot;&gt;http://localhost:8000/movies/&lt;/code&gt;, obtemos a seguinte resposta:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;objects&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;description&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;The Matrix&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;DED621D5-08F4-4D32-ADFA-84375BA415B9&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vamos ilustrar como seria o acesso via &lt;em&gt;GET&lt;/em&gt; para ver detalhes do recurso &quot;The Matrix&quot;. Primeiro,
criamos o método na aplicação que é responsável por dar detalhes de um filme:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; hug
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; falcon &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; HTTP_404

&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;

&lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@hug&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/movies/{movie_id}/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;movie&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;movie_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  movie_ids &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;lambda&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; MOVIES&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; movie_id &lt;span class=&quot;token keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; movie_ids&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; HTTP_404
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Not found&apos;&lt;/span&gt;

  movie &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; MOVIES&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;movie_ids&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;movie_id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Seguindo uma boa prática, visualizar detalhes de um determinado recurso deveria ter um endereço
composto pelo seu nome (no caso, &lt;code class=&quot;language-text&quot;&gt;movies&lt;/code&gt;), mais o seu identificador (no caso, &lt;code class=&quot;language-text&quot;&gt;DED621D5-08F4-4D32-ADFA-84375BA415B9&lt;/code&gt;):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ curl -i http://localhost:8000/movies/DED621D5-08F4-4D32-ADFA-84375BA415B9/

HTTP/1.0 200 OK
Date: Fri, 13 May 2016 00:58:57 GMT
Server: WSGIServer/0.2 CPython/3.4.4
content-type: application/json
content-length: 221

{&amp;quot;description&amp;quot;: &amp;quot;A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.&amp;quot;, &amp;quot;title&amp;quot;: &amp;quot;The Matrix&amp;quot;, &amp;quot;id&amp;quot;: &amp;quot;DED621D5-08F4-4D32-ADFA-84375BA415B9&amp;quot;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Adicionando&lt;/h3&gt;
&lt;p&gt;Outro verbo bem conhecido do protocolo é o &lt;em&gt;POST&lt;/em&gt;. Quem aqui nunca submeteu um formulário &lt;em&gt;web&lt;/em&gt;?&lt;/p&gt;
&lt;p&gt;O princípio desse método é o envio de dados, do cliente para o servidor. Vamos aproveitar dessa sua
natureza para adicionar o filme &quot;Swordish&quot; à nossa &lt;em&gt;API&lt;/em&gt;. Para isso, precisamos alterar nossa função &lt;code class=&quot;language-text&quot;&gt;movies&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; hug
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; uuid
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; falcon &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; HTTP_201&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; HTTP_404

&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;

&lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@hug&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get_post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;movies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;request&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;method &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;GET&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&apos;objects&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; MOVIES&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;# We are assuming it&apos;s a POST&lt;/span&gt;
    movie &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&apos;uuid&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;uuid&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;uuid4&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&apos;title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get_param&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&apos;description&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get_param&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;description&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    MOVIES&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;append&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;movie&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; HTTP_201
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; movie

&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Como é possível reparar no código acima, pretendemos adicionar um filme e o destino da nossa requisição
será o &lt;code class=&quot;language-text&quot;&gt;/movies/&lt;/code&gt;. Desse modo, o &lt;em&gt;GET&lt;/em&gt; lista e o &lt;em&gt;POST&lt;/em&gt; adiciona novos filmes:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ curl -i -XPOST -d &amp;quot;title=Swordfish&amp;amp;description=Some hackish description...&amp;quot; http://localhost:8000/movies

HTTP/1.0 201 Created
Date: Fri, 13 May 2016 01:51:43 GMT
Server: WSGIServer/0.2 CPython/3.4.4
content-type: application/json
content-length: 116

{&amp;quot;title&amp;quot;: &amp;quot;Swordfish&amp;quot;, &amp;quot;uuid&amp;quot;: &amp;quot;a96e7212-6a29-478a-a24e-07720a286944&amp;quot;, &amp;quot;description&amp;quot;: &amp;quot;Some hackish description...&amp;quot;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Agora temos dois filmes cadastrados na nossa API:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;objects&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;description&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;The Matrix&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;DED621D5-08F4-4D32-ADFA-84375BA415B9&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;description&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Some hackish description...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Swordfish&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a96e7212-6a29-478a-a24e-07720a286944&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Atualizando e removendo&lt;/h3&gt;
&lt;p&gt;Uma vez que &lt;em&gt;POST&lt;/em&gt; e &lt;em&gt;GET&lt;/em&gt; acontecem no &lt;em&gt;endpoint&lt;/em&gt; responsável por &quot;listar&quot; os nossos filmes,
é natural assumirmos que o &lt;em&gt;PUT&lt;/em&gt; e &lt;em&gt;DELETE&lt;/em&gt; acontecerão no &lt;em&gt;endpoint&lt;/em&gt; responsável por
&quot;detalhar&quot; determinado filme.&lt;/p&gt;
&lt;p&gt;O &lt;em&gt;PUT&lt;/em&gt; é o método &lt;em&gt;HTTP&lt;/em&gt; responsável por atualizar um determinado recurso. Assim como o &lt;em&gt;POST&lt;/em&gt;,
ele permite a passagem de parâmetros que podem ser interpretados como &quot;campos&quot;.&lt;/p&gt;
&lt;p&gt;Já o &lt;em&gt;DELETE&lt;/em&gt;, como o nome sugere, é o método padrão quando insinuamos a remoção de um determinado
recurso à nossa &lt;em&gt;API&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Na prática, para suportar esses dois verbos, nossa função &lt;code class=&quot;language-text&quot;&gt;movie&lt;/code&gt; ficará assim:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@hug&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;http&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/movies/{movie_id}/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; accept&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;get&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;put&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;delete&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;movie&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;movie_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  movie_ids &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;lambda&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; MOVIES&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; movie_id &lt;span class=&quot;token keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; movie_ids&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; HTTP_404
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Not found&apos;&lt;/span&gt;

  movie &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; MOVIES&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;movie_ids&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;movie_id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;method &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;DELETE&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    MOVIES&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;remove&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;movie&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Deleted&apos;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;method &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;PUT&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    movie&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get_param&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    movie&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;description&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get_param&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;description&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; movie

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; movie&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Agora podemos atualizar o filme &quot;Swordfish&quot;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl -i -XPUT -d &amp;quot;title=A Senha&amp;amp;description=Um filme sobre Hackers&amp;quot; http://localhost:8000/movies/a96e7212-6a29-478a-a24e-07720a286944/

HTTP/1.0 200 OK
Date: Fri, 13 May 2016 02:25:42 GMT
Server: WSGIServer/0.2 CPython/3.4.4
content-type: application/json
content-length: 107

{&amp;quot;title&amp;quot;: &amp;quot;A Senha&amp;quot;, &amp;quot;id&amp;quot;: &amp;quot;a96e7212-6a29-478a-a24e-07720a286944&amp;quot;, &amp;quot;description&amp;quot;: &amp;quot;Um filme sobre Hackers&amp;quot;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;E até mesmo apagá-lo:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl -i -XDELETE http://localhost:8000/movies/a96e7212-6a29-478a-a24e-07720a286944/

HTTP/1.0 200 OK
Date: Fri, 13 May 2016 02:26:52 GMT
Server: WSGIServer/0.2 CPython/3.4.4
content-type: application/json
content-length: 9

&amp;quot;Deleted&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;E com isso fechamos as operações de &lt;em&gt;CRUD&lt;/em&gt; através dos métodos &lt;em&gt;POST&lt;/em&gt;, &lt;em&gt;GET&lt;/em&gt;, &lt;em&gt;PUT&lt;/em&gt; e &lt;em&gt;DELETE&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;Ser JSON, ou não ser...&lt;/h2&gt;
&lt;p&gt;Uma das premissas do &lt;em&gt;REST&lt;/em&gt; é que um recurso possa ser apresentado de diferentes maneiras.
Por exemplo, o nosso filme se acessado pelo navegador, poderia ser representado através de
um &lt;em&gt;HTML&lt;/em&gt;. Por outro lado, se ele fosse acessado por uma requisição &lt;em&gt;Ajax&lt;/em&gt;, ele poderia
ser representado por um &lt;em&gt;JSON&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Uma terceira modalidade de entrega poderia ser em &lt;em&gt;XML&lt;/em&gt;, ou em qualquer formato
que tanto cliente quanto fornecedor entendam. Esse &quot;acordo&quot; entre as partes é realizado
através do cabeçalho de requisição &lt;code class=&quot;language-text&quot;&gt;Accept&lt;/code&gt;, e pelo cabeçalho de resposta &lt;code class=&quot;language-text&quot;&gt;content-type&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ curl -v -H &amp;quot;Accept: application/json&amp;quot; http://localhost:8000/movies/DED621D5-08F4-4D32-ADFA-84375BA415B9/

GET /movies/DED621D5-08F4-4D32-ADFA-84375BA415B9/ HTTP/1.1
Host: localhost:8000
User-Agent: curl/7.43.0
Accept: application/json

HTTP/1.0 200 OK
Date: Fri, 13 May 2016 02:41:07 GMT
Server: WSGIServer/0.2 CPython/3.4.4
content-length: 221
content-type: application/json&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Com isso, permitimos que tanto cliente quanto fornecedor conversem livremente,
desde que em um mesmo dialeto. Embora não haja um padrão formal, é comum vermos
&lt;em&gt;APIs&lt;/em&gt; dando suporte a renderizações em &lt;em&gt;JSON&lt;/em&gt; e &lt;em&gt;XML&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Isso pode parecer até um exagero, e uma complexidade questionável na sua aplicação.
A boa notícia é que a maioria das bibliotecas &lt;em&gt;REST&lt;/em&gt; dão suporte &lt;em&gt;built-in&lt;/em&gt; a essa
funcionalidade.&lt;/p&gt;
&lt;h2&gt;Stateless&lt;/h2&gt;
&lt;p&gt;Uma das premissas do &lt;em&gt;REST&lt;/em&gt; é a comunicação sem estados. Isso significa que,
assim como o próprio &lt;a href=&quot;/2012/04/05/entendendo-os-cookies-e-sessoes.html&quot; title=&quot;Leia mais sobre stateless, Cookies e Sessions&quot;&gt;protocolo &lt;em&gt;HTTP&lt;/em&gt;&lt;/a&gt;,
não &quot;conserva-se informações&quot; entre as requisições.&lt;/p&gt;
&lt;p&gt;Na prática, isso significa que cliente pode enviar múltiplas requisições
para o servidor, no entanto, cada uma delas deve ser independente. Cada uma
deve possuir toda a informação necessária para que o servidor possa interpretá-las
completamente (e separadamente).&lt;/p&gt;
&lt;p&gt;Isso facilita o &lt;a href=&quot;/2012/05/14/o-cache-e-o-http.html&quot; title=&quot;O Cache e o HTTP&quot;&gt;&lt;em&gt;caching&lt;/em&gt;&lt;/a&gt; e
escalabilidade da sua solução.&lt;/p&gt;
&lt;p&gt;Caso estados precisem ser armazenados, é uma responsabilidade do cliente fazê-los.&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;Chegamos ao fim desse artigo, e uma pergunta fica: Mas o que é &lt;em&gt;RESTful&lt;/em&gt;?&lt;/p&gt;
&lt;p&gt;Uma &lt;em&gt;API RESTful&lt;/em&gt; na verdade é uma &lt;em&gt;API&lt;/em&gt; que segue os princípios do &lt;em&gt;REST&lt;/em&gt; de
forma mais &quot;fiel&quot;. Enquadrando-se plenamente nas seguintes regras:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Cliente/servidor&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Stateless&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Cacheável&lt;/li&gt;
&lt;li&gt;Interface uniforme para comunicação entre o cliente e o servidor&lt;/li&gt;
&lt;li&gt;Uso de camadas (facilitando escalabilidade, confiabilidade e segurança)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;No fim das contas, sendo &lt;em&gt;REST&lt;/em&gt; ou &lt;em&gt;RESTful&lt;/em&gt;, utilizar os conceitos
é uma boa forma de criar serviços (de baixo custo) para as suas aplicações,
que podem ser aplicados, por exemplo, dentro de uma arquitetura de microserviços.&lt;/p&gt;
&lt;p&gt;Até a próxima.&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.hug.rest/website/quickstart&quot;&gt;&lt;em&gt;Hug - Embrace APIs from the future&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://imasters.expert/rest-architecture-model-definition-constraints-benefits/&quot;&gt;&lt;em&gt;iMasters - REST Architecture Model: Definition, Constraints and Benefits&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.infoq.com/br/articles/rest-introduction&quot;&gt;&lt;em&gt;InfoQ - REST Introduction&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/HATEOAS&quot;&gt;&lt;em&gt;Wikipedia - HATEOAS&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://pt.wikipedia.org/wiki/Hiperm%C3%ADdia&quot;&gt;&lt;em&gt;Wikipedia&lt;/em&gt; - Hipermídia&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://pt.wikipedia.org/wiki/Hipertexto&quot;&gt;&lt;em&gt;Wikipedia&lt;/em&gt; - Hipertexto&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://pt.wikipedia.org/wiki/URI&quot;&gt;&lt;em&gt;Wikipedia - URI&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[REST - Parte 1]]></title><description><![CDATA[Em tempos onde os microservices ganham cada vez mais força, e aplicações de sucesso liberam a sua API para desenvolvedores construírem um ecossistema ao redor delas, não considerar seguir boas práticas na construção de um serviço pode ser uma tomada de decisão arriscada, tanto no quesito do negócio…]]></description><link>https://klauslaube.com.br/2016/01/06/rest-parte-1.html</link><guid isPermaLink="false">https://klauslaube.com.br/2016/01/06/rest-parte-1.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Wed, 06 Jan 2016 13:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Em tempos onde os &lt;a href=&quot;http://www.infoq.com/br/news/2015/04/microservices-current-state&quot; title=&quot;O estado da arte em micro serviços&quot;&gt;microservices&lt;/a&gt; ganham cada vez mais força, e &lt;a href=&quot;https://dev.twitter.com/rest/public&quot; title=&quot;Conheça a API do Twitter&quot;&gt;aplicações de sucesso&lt;/a&gt; liberam a sua &lt;em&gt;API&lt;/em&gt; para desenvolvedores construírem um ecossistema ao redor delas, não considerar seguir boas práticas na construção de um serviço pode ser uma tomada de decisão arriscada, tanto no quesito do negócio, quanto no quesito técnico.&lt;/p&gt;
&lt;p&gt;A &lt;em&gt;Internet&lt;/em&gt; já passou por muita coisa quando o assunto é &lt;em&gt;API&lt;/em&gt;, desde a total falta de padrões até a criação de protocolos exageradamente complexos. O &lt;em&gt;REST&lt;/em&gt; vem como uma solução elegante que está longe de ser &quot;anárquica&quot;, porém mais longe ainda de ser complicada.&lt;/p&gt;
&lt;h2&gt;Serviços web podem ser burocráticos&lt;/h2&gt;
&lt;p&gt;Antes de mais nada é preciso dizer que a &quot;&lt;em&gt;internet&lt;/em&gt; é maior que a &lt;a href=&quot;/tag/desenvolvimento-web.html&quot; title=&quot;Leia mais sobre web&quot;&gt;&lt;em&gt;web&lt;/em&gt;&lt;/a&gt;&quot;. Ou seja, quando digo que você deveria utilizar &lt;em&gt;REST&lt;/em&gt;, estou sendo específico para um determinado tipo de solução na camada &lt;em&gt;HTTP&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Quando falo sobre serviços na &lt;em&gt;web&lt;/em&gt;, automaticamente sou remetido a &lt;a href=&quot;https://en.wikipedia.org/wiki/Service-oriented_architecture&quot; title=&quot;Leia mais sobre SOA&quot;&gt;&lt;em&gt;SOA&lt;/em&gt;&lt;/a&gt; ou &lt;a href=&quot;https://pt.wikipedia.org/wiki/SOAP&quot; title=&quot;Leia mais sobre SOAP&quot;&gt;&lt;em&gt;SOAP&lt;/em&gt;&lt;/a&gt;. Até então, nunca consegui pensar nesses dois termos de forma dissociada, mas não é bem assim que as coisas funcionam...&lt;/p&gt;
&lt;p&gt;A Arquitetura Orientada a Serviço (SOA) é um padrão onde aplicações provém serviços para demais componentes através de protocolos de comunicação. Uma arquitetura &lt;em&gt;SOA&lt;/em&gt; vai além de definir uma &lt;a href=&quot;https://en.wikipedia.org/wiki/Application_programming_interface&quot; title=&quot;Leia mais sobre API&quot;&gt;&lt;em&gt;API&lt;/em&gt;&lt;/a&gt;, ela define a interface em termos de protocolo e funcionalidade, provendo assim uma maior interoperabilidade do seu serviço.&lt;/p&gt;
&lt;p&gt;Mas o que necessariamente significa o termo &quot;serviço&quot;? Segundo o &lt;a href=&quot;https://en.wikipedia.org/wiki/The_Open_Group&quot; title=&quot;Leia mais sobre o Open Group&quot;&gt;&lt;em&gt;Open Group&lt;/em&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Is a logical representation of a repeatable business activity that has a specified outcome (e.g., check customer credit, provide weather data, consolidate drilling reports).
Is self-contained.
May be composed of other services.
Is a &quot;black box&quot; to consumers of the service.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Já o &lt;em&gt;SOAP&lt;/em&gt;, de forma bem resumida, é um protocolo que utiliza a linguagem de marcação &lt;em&gt;XML&lt;/em&gt; e baseia-se nos protocolos de comunicação &lt;em&gt;RPC&lt;/em&gt; e &lt;em&gt;HTTP&lt;/em&gt; para negociação e transmissão de mensagens. Quem já trabalhou com a tecnologia pode até duvidar, mas a sua premissa é simplicidade e independência de linguagem, modelo e transporte.&lt;/p&gt;
&lt;p&gt;Com o passar do tempo os termos acima ficaram estigmatizados por serem &quot;bloated&quot;. O excesso de &quot;corporativismo&quot; para construir um serviço e distribuir dados pode terminar em um processo muito bem documentado, porém, é uma &quot;carga&quot; de banda e desenvolvimento que nem sempre estamos dispostos a pagar.&lt;/p&gt;
&lt;p&gt;É aí que entra o &lt;em&gt;REST&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;Serviços web podem ser simples&lt;/h2&gt;
&lt;p&gt;O &lt;em&gt;REpresentational State Transfer&lt;/em&gt; (&lt;em&gt;REST&lt;/em&gt;) é um estilo de arquitetura amplamente utilizado no desenvolvimento de serviços &lt;em&gt;web&lt;/em&gt;. Segundo o &lt;em&gt;InfoQ&lt;/em&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;REST é um conjunto de princípios que definem como Web Standards como HTTP e URIs devem ser usados (o que freqüentemente difere um pouco do que muitas pessoas atualmente fazem). A promessa é que se você aderir a princípios REST enquanto estiver desenhando sua aplicação, você terá um sistema que explora a arquitetura da Web em seu benefício.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Em outras palavras, você não precisa de um programa específico no lado do &lt;em&gt;back-end&lt;/em&gt; e um &lt;em&gt;client&lt;/em&gt; exclusivo no &lt;em&gt;front-end&lt;/em&gt; para consumir serviços &lt;em&gt;REST&lt;/em&gt;... Basta lermos arquivos &lt;em&gt;XML&lt;/em&gt; ou &lt;em&gt;JSON&lt;/em&gt; utilizando os verbos (&lt;em&gt;GET&lt;/em&gt;, &lt;em&gt;POST&lt;/em&gt;, &lt;em&gt;PUT&lt;/em&gt; e &lt;em&gt;DELETE&lt;/em&gt;) do protocolo &lt;em&gt;HTTP&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 600px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/59463921aa4b2519d11ccc59fd9e4978/b4294/soap-vs-rest-lawrence.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 93.75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB7FbxLqLMtwA//8QAFxABAQEBAAAAAAAAAAAAAAAAAgEQEv/aAAgBAQABBQJMxRHFx1AcZlWf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHBAAAgICAwAAAAAAAAAAAAAAAQIAMRAREmFi/9oACAEBAAY/AlBtovrC8tboQUNVLidHP//EABsQAQACAwEBAAAAAAAAAAAAAAEAESExUUGB/9oACAEBAAE/IbqsgfI7ZfME1yO5sNvYQw4XkOS9pmwlSif/2gAMAwEAAgADAAAAEKsAAP/EABcRAAMBAAAAAAAAAAAAAAAAAAERIEH/2gAIAQMBAT8QC2P/xAAVEQEBAAAAAAAAAAAAAAAAAAAgIf/aAAgBAgEBPxCj/8QAHBABAQADAAMBAAAAAAAAAAAAAREAITFBUWGB/9oACAEBAAE/EBjo1XwrmmhTfJMMQIaZYlWOhGw/DBPcuwduvNYgtGMbMJurepGdyPRnwM//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Considere o Martin Lawrence como seu dado (stackoverflow.com)&amp;quot;&quot;
        title=&quot;Considere o Martin Lawrence como seu dado (stackoverflow.com)&quot;
        src=&quot;/static/59463921aa4b2519d11ccc59fd9e4978/b4294/soap-vs-rest-lawrence.jpg&quot;
        srcset=&quot;/static/59463921aa4b2519d11ccc59fd9e4978/7809d/soap-vs-rest-lawrence.jpg 192w,
/static/59463921aa4b2519d11ccc59fd9e4978/4ecad/soap-vs-rest-lawrence.jpg 384w,
/static/59463921aa4b2519d11ccc59fd9e4978/b4294/soap-vs-rest-lawrence.jpg 600w&quot;
        sizes=&quot;(max-width: 600px) 100vw, 600px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Considere o Martin Lawrence como seu dado (stackoverflow.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Na verdade, espera-se que o consumidor e produtor do serviço não possuam qualquer vínculo maior que o &quot;respeito&quot; ao contrato daquela determinada &lt;em&gt;API&lt;/em&gt;, reduzindo consideravelmente o consumo de banda, limitando o número de operações ao número de verbos do protocolo e evitando ambigüidade.&lt;/p&gt;
&lt;p&gt;Na &lt;strong&gt;parte 2&lt;/strong&gt; desse artigo iremos explorar de forma prática a utilização de &lt;em&gt;REST&lt;/em&gt; para a construção de uma &lt;em&gt;API&lt;/em&gt; na &lt;em&gt;web&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Até a próxima...&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.infoq.com/br/articles/rest-introduction&quot;&gt;&lt;em&gt;InfoQ&lt;/em&gt;: Uma rápida introdução ao &lt;em&gt;REST&lt;/em&gt; &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.salesforce.com/page/REST_API&quot;&gt;&lt;em&gt;Salesfoce Developers: REST API&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/209905/representational-state-transfer-rest-and-simple-object-access-protocol-soap&quot;&gt;&lt;em&gt;Stackoverflow: Representational state transfer (REST) and Simple Object Access Protocol (SOAP)&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://searchsoa.techtarget.com/definition/REST&quot;&gt;&lt;em&gt;TechTarget: REST (representational state transfer) definition&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.webopedia.com/TERM/A/API.html&quot;&gt;&lt;em&gt;Webopedia: API - application program interface&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Service-oriented_architecture&quot; title=&quot;Leia sobre SOA no Wikipedia&quot;&gt;&lt;em&gt;Wikipedia: Service-oriented Architecture&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://pt.wikipedia.org/wiki/SOAP&quot;&gt;&lt;em&gt;Wikipedia: SOAP&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item></channel></rss>