<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Klaus Laube - infraestrutura]]></title><description><![CDATA[Python, Django e desenvolvimento Web]]></description><link>https://klauslaube.com.br</link><generator>RSS for Node</generator><lastBuildDate>Fri, 22 May 2020 15:04:23 GMT</lastBuildDate><author><![CDATA[Klaus Peter Laube]]></author><item><title><![CDATA[Uma ode ao Docker - Parte 3]]></title><description><![CDATA[Nos posts
anteriores
arranhamos um pouco o conceito por trás do Docker,
bem como introduzimos o utilitário de linha de comando . Nesse último artigo da série, vamos
explorar como usar o Dockerfile no empacotamento de uma aplicação Django. Se você ainda tem dúvidas em como "encaixar" o Docker no seu…]]></description><link>https://klauslaube.com.br/2017/08/11/uma-ode-ao-docker-parte-3.html</link><guid isPermaLink="false">https://klauslaube.com.br/2017/08/11/uma-ode-ao-docker-parte-3.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Fri, 11 Aug 2017 18:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Nos &lt;a href=&quot;/2017/01/14/uma-ode-ao-docker-parte-1.html&quot; title=&quot;Uma ode ao Docker - Parte 1&quot;&gt;&lt;em&gt;posts&lt;/em&gt;&lt;/a&gt;
&lt;a href=&quot;/2017/05/01/uma-ode-ao-docker-parte-2.html&quot; title=&quot;Uma ode ao Docker - Parte 2&quot;&gt;anteriores&lt;/a&gt;
arranhamos um pouco o conceito por trás do &lt;a href=&quot;/tag/docker.html&quot; title=&quot;Leia mais sobre Docker&quot;&gt;&lt;em&gt;Docker&lt;/em&gt;&lt;/a&gt;,
bem como introduzimos o utilitário de linha de comando &lt;code class=&quot;language-text&quot;&gt;docker&lt;/code&gt;. Nesse último artigo da série, vamos
explorar como usar o &lt;em&gt;Dockerfile&lt;/em&gt; no empacotamento de uma aplicação &lt;a href=&quot;/tag/django.html&quot; title=&quot;Leia mais sobre Django&quot;&gt;&lt;em&gt;Django&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Se você ainda tem dúvidas em como &quot;encaixar&quot; o &lt;em&gt;Docker&lt;/em&gt; no seu fluxo de desenvolvimento,
o artigo &lt;a href=&quot;http://www.patricksoftwareblog.com/why-i-switched-from-a-traditional-deployment-to-using-docker/&quot; title=&quot;Leia na íntegra&quot;&gt;&quot;Why I Switched from a Traditional Deployment to Using Docker&quot;&lt;/a&gt;
pode ser uma boa leitura.&lt;/p&gt;
&lt;h2&gt;Configurando a aplicação Django&lt;/h2&gt;
&lt;p&gt;Vamos configurar uma aplicação de exemplo para sermos capazes de dar os passos necessários
na criação do &lt;code class=&quot;language-text&quot;&gt;Dockerfile&lt;/code&gt;. Primeiramente, vamos criar
&lt;em&gt;&lt;a href=&quot;/tag/virtualenv.html&quot; title=&quot;Leia mais sobre virtualenv&quot;&gt;virtualenv&lt;/a&gt; Python&lt;/em&gt; com &lt;a href=&quot;/tag/pyenv.html&quot; title=&quot;Leia mais sobre Pyenv&quot;&gt;&lt;em&gt;pyenv&lt;/em&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ pyenv virtualenv 3.6.1 helloworld-django-docker&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Criamos o diretório para o projeto:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ mkdir ~/Workspace/helloworld
$ cd ~/Workspace/helloworld/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ativamos o &lt;em&gt;virtualenv&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ pyenv activate helloworld-django-docker&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Instalamos as dependências &lt;em&gt;Django&lt;/em&gt; e iniciamos o projeto:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ pip install django gunicorn
(...)

$ pip freeze &amp;gt; requirements.txt
$ django-admin startproject helloworld ~/Workspace/helloworld&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Rodamos o &lt;code class=&quot;language-text&quot;&gt;python manage.py runserver&lt;/code&gt; só para termos certeza que está tudo ok:&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 680px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5a7440d2ea5c9d929abc9e6b2ea893c9/c5bb3/django-it-worked.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 19.270833333333332%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsSAAALEgHS3X78AAAAq0lEQVQI13WKyw6CMBQF+f8/Mu6MKzcGLuVxKwIWKrQgyEOBKFirGxcmk5PJ5Bjrrb3awB7lMX9SPv6QDkH2iOTyD2MHbAcJBBc37pyogaBSrrcyaYHJPS6WUGjkHIpZy7cYCS8yUbFUJFwyLnNZp1mpylnDs7Juh7afmn5sb9NHmk6V8doNBlimQ2wCYClxiOe5vufGUUgR390G1yHKKfqUojocKCoQfcZOL97B1oafqCcPAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;It worked&amp;quot;&quot;
        title=&quot;It worked&quot;
        src=&quot;/static/5a7440d2ea5c9d929abc9e6b2ea893c9/c5bb3/django-it-worked.png&quot;
        srcset=&quot;/static/5a7440d2ea5c9d929abc9e6b2ea893c9/8514f/django-it-worked.png 192w,
/static/5a7440d2ea5c9d929abc9e6b2ea893c9/804b2/django-it-worked.png 384w,
/static/5a7440d2ea5c9d929abc9e6b2ea893c9/c5bb3/django-it-worked.png 680w&quot;
        sizes=&quot;(max-width: 680px) 100vw, 680px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;It worked&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Além disso, garantimos que o &lt;code class=&quot;language-text&quot;&gt;gunicorn&lt;/code&gt; rodará sem maiores problemas:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ gunicorn helloworld.wsgi:application \
    --bind 0.0.0.0:8000 \
    --workers 3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Para saber mais sobre o &lt;em&gt;Gunicorn&lt;/em&gt;, leia a &lt;a href=&quot;http://docs.gunicorn.org/en/stable/design.html&quot; title=&quot;Documentação do Gunicorn&quot;&gt;documentação oficial&lt;/a&gt; do projeto.&lt;/p&gt;
&lt;h2&gt;Entra o Dockerfile&lt;/h2&gt;
&lt;p&gt;Com o &lt;a href=&quot;https://docs.docker.com/engine/installation/&quot; title=&quot;Instalando o Docker&quot;&gt;&lt;em&gt;Docker&lt;/em&gt; instalado&lt;/a&gt;,
vamos começar a escrever o &lt;code class=&quot;language-text&quot;&gt;Dockerfile&lt;/code&gt;. O &lt;a href=&quot;http://www.mundodocker.com.br/o-que-e-dockerfile/&quot; title=&quot;O que é o Dockerfile&quot;&gt;&lt;em&gt;Mundo Docker&lt;/em&gt;&lt;/a&gt; define o arquivo como:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;(...) um arquivo de definição onde é possível realizar ou preparar todo ambiente a
partir de um script de execução. Em resumo, o Dockerfile é um arquivo texto
com instruções, comandos e passos que você executaria manualmente, basicamente
o Docker executa uma receita de bolo.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;É nesse arquivo que escreveremos todos os procedimentos que o &lt;em&gt;Docker&lt;/em&gt; executará para criar
a imagem da nossa aplicação.&lt;/p&gt;
&lt;h3&gt;Por partes, como diria Jack&lt;/h3&gt;
&lt;p&gt;Começamos especificando qual será a &quot;imagem base&quot; da nossa imagem/&lt;em&gt;container&lt;/em&gt;. Faremos isso
através da expressão &lt;code class=&quot;language-text&quot;&gt;FROM&lt;/code&gt;. Poderíamos dizer aqui que queremos estender a imagem &lt;a href=&quot;https://hub.docker.com/_/debian/&quot; title=&quot;Imagem Debian no Dockerhub&quot;&gt;_/debian&lt;/a&gt;
e realizar toda a instalação do &lt;a href=&quot;/tag/python.html&quot; title=&quot;Leia mais sobre Python&quot;&gt;&lt;em&gt;Python&lt;/em&gt;&lt;/a&gt;.
Mas felizmente já existem imagens prontas com a linguagem no &lt;em&gt;Docker Hub&lt;/em&gt;.
Vamos com a &lt;a href=&quot;https://hub.docker.com/_/python/&quot; title=&quot;Imagem Python no Docker Hub&quot;&gt;imagem oficial&lt;/a&gt; como base:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dockerfile&quot;&gt;&lt;pre class=&quot;language-dockerfile&quot;&gt;&lt;code class=&quot;language-dockerfile&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# Dockerfile&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; python&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Quando &quot;buildarmos&quot;, o &lt;em&gt;Docker&lt;/em&gt; baixará a imagem do &lt;em&gt;Python&lt;/em&gt; do repositório (se ela já não existir localmente
em sua máquina), e dará sequência às instruções encontradas no &lt;code class=&quot;language-text&quot;&gt;Dockerfile&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Uma boa prática é &quot;fecharmos o escopo&quot; de trabalho ao setar explicitamente qual será o
diretório no qual iremos realizar demais operações como cópia de arquivos ou execução de binários. Para isso
temos o comando &lt;code class=&quot;language-text&quot;&gt;WORKDIR&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dockerfile&quot;&gt;&lt;pre class=&quot;language-dockerfile&quot;&gt;&lt;code class=&quot;language-dockerfile&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; python&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;3

&lt;span class=&quot;token keyword&quot;&gt;WORKDIR&lt;/span&gt; /usr/src/app&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Agora podemos instalar o &lt;em&gt;Django&lt;/em&gt; e o &lt;em&gt;Gunicorn&lt;/em&gt;, assim como fizemos no início desse artigo:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dockerfile&quot;&gt;&lt;pre class=&quot;language-dockerfile&quot;&gt;&lt;code class=&quot;language-dockerfile&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; python&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;3

&lt;span class=&quot;token keyword&quot;&gt;WORKDIR&lt;/span&gt; /usr/src/app

&lt;span class=&quot;token keyword&quot;&gt;COPY&lt;/span&gt; requirements.txt ./
&lt;span class=&quot;token keyword&quot;&gt;RUN&lt;/span&gt; pip install &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;r requirements.txt&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Você já deve ter reparado um padrão na escrita do &lt;code class=&quot;language-text&quot;&gt;Dockerfile&lt;/code&gt;, certo? Os comandos (em maiúsculo)
determinam qual operação será realizada. Os parâmetros (em minúsculo) determinam como isso irá ocorrer.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f70d10e197bf514f40c7912e834b89cb/c08c5/docker-dory-whale.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAgX/xAAVAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAABlXpNZ9IjEP/EABsQAAIBBQAAAAAAAAAAAAAAAAECAxAREiEy/9oACAEBAAEFAncscjZZNDmn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFxAAAwEAAAAAAAAAAAAAAAAAAAIQMf/aAAgBAQAGPwI2Nf/EABoQAQEAAgMAAAAAAAAAAAAAAAEAEXExocH/2gAIAQEAAT8hwUcG4LIepEt0PYji/9oADAMBAAIAAwAAABB4/wD/xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQMBAT8QACy//8QAFhEBAQEAAAAAAAAAAAAAAAAAARAh/9oACAECAQE/EHWf/8QAHBABAAMAAgMAAAAAAAAAAAAAAQARITFBUWHB/9oACAEBAAE/ELGRLDF19hoZXtbFc7W+4C2tBT4xOUaCln//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Escrever Dockerfile é tipo falar baleiês (insidethemagic.net)&amp;quot;&quot;
        title=&quot;Escrever Dockerfile é tipo falar baleiês (insidethemagic.net)&quot;
        src=&quot;/static/f70d10e197bf514f40c7912e834b89cb/c08c5/docker-dory-whale.jpg&quot;
        srcset=&quot;/static/f70d10e197bf514f40c7912e834b89cb/7809d/docker-dory-whale.jpg 192w,
/static/f70d10e197bf514f40c7912e834b89cb/4ecad/docker-dory-whale.jpg 384w,
/static/f70d10e197bf514f40c7912e834b89cb/c08c5/docker-dory-whale.jpg 640w&quot;
        sizes=&quot;(max-width: 640px) 100vw, 640px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Escrever Dockerfile é tipo falar baleiês (insidethemagic.net)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;No caso do comando &lt;code class=&quot;language-text&quot;&gt;COPY&lt;/code&gt;, passamos o arquivo &lt;code class=&quot;language-text&quot;&gt;requirements.txt&lt;/code&gt; da nossa &quot;máquina local&quot; para
o &lt;em&gt;container&lt;/em&gt;, assim o &lt;em&gt;Docker&lt;/em&gt; será capaz de encontrar o arquivo e realizar a instalação das dependências
através do comando &lt;code class=&quot;language-text&quot;&gt;pip&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Para finalizar, podemos copiar o resto do projeto e executar o servidor &lt;em&gt;WSGI&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dockerfile&quot;&gt;&lt;pre class=&quot;language-dockerfile&quot;&gt;&lt;code class=&quot;language-dockerfile&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; python&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;3

&lt;span class=&quot;token keyword&quot;&gt;WORKDIR&lt;/span&gt; /usr/src/app

&lt;span class=&quot;token keyword&quot;&gt;COPY&lt;/span&gt; requirements.txt ./
&lt;span class=&quot;token keyword&quot;&gt;RUN&lt;/span&gt; pip install &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;r requirements.txt

&lt;span class=&quot;token keyword&quot;&gt;COPY&lt;/span&gt; . .

&lt;span class=&quot;token keyword&quot;&gt;CMD&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;gunicorn&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;helloworld.wsgi:application&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;--bind=0.0.0.0:8000&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;--workers=3&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Comandos &lt;code class=&quot;language-text&quot;&gt;RUN&lt;/code&gt; serão executados em tempo de &lt;em&gt;build&lt;/em&gt;. São essenciais para a construção do ambiente,
e são responsáveis pelos &quot;layers&quot; discutidos nos &lt;em&gt;posts&lt;/em&gt; anteriores. Portanto é bem comum
vermos comandos como &lt;code class=&quot;language-text&quot;&gt;RUN apt-get dist-upgrade -y&lt;/code&gt;. Já o &lt;code class=&quot;language-text&quot;&gt;CMD&lt;/code&gt; será executado no momento que a sua
imagem for executada.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://goinbigdata.com/docker-run-vs-cmd-vs-entrypoint/&quot; title=&quot;Docker RUN vs CMD vs ENTRYPOINT&quot;&gt;Diferença entre &lt;code class=&quot;language-text&quot;&gt;RUN&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;CMD&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;ENTRYPONT&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;E se você está se perguntando o motivo de termos dois &lt;code class=&quot;language-text&quot;&gt;COPY&lt;/code&gt;, essa prática é útil para o mecanismo de &lt;em&gt;caching&lt;/em&gt;
do &lt;em&gt;Docker&lt;/em&gt; e invalidação do mesmo, como pode ser visto no &lt;a href=&quot;https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices/#add-or-copy&quot; title=&quot;Dockerfile best practices&quot;&gt;guia de boas práticas&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;&quot;Build&quot; é quase BIRL!&lt;/h3&gt;
&lt;p&gt;Hora de &quot;buildar&quot;! Execute o seguinte comando:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ docker build -t &amp;lt;docker-hub-user&amp;gt;/helloworld-django-docker .&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Onde:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;build&lt;/code&gt;: É o comando para criar uma imagem &lt;em&gt;Docker&lt;/em&gt; a partir de um &lt;em&gt;Dockerfile&lt;/em&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;-t&lt;/code&gt;: O parâmetro &lt;code class=&quot;language-text&quot;&gt;-t&lt;/code&gt; é utilizado para nomear e tagear a imagem em questão.
É interessante usar o padrão &lt;code class=&quot;language-text&quot;&gt;&amp;lt;usuario-ou-repositorio&amp;gt;/nome-da-imagem&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;.&lt;/code&gt;: O caminho onde encontra-se o &lt;em&gt;Dockerfile&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Se tudo der certo, será possível listar a imagem recém criada:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ docker images

REPOSITORY                         TAG    IMAGE ID
kplaube/helloworld-django-docker   latest b8d3b0c234a9&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Agora sim seremos capazes de executar a aplicação &lt;em&gt;Django&lt;/em&gt; através de um &lt;em&gt;container&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ docker run -it -p 8000:8000 &amp;lt;docker-hub-user&amp;gt;/helloworld-django-docker&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;E mais uma vez seremos capazes de ver o &quot;It worked!&quot; em &lt;code class=&quot;language-text&quot;&gt;http://localhost:8000&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Belezura! Uma vez que a imagem esteja ok, podemos publicá-la no &lt;em&gt;Docker Hub&lt;/em&gt; (afinal,
propaganda é a alma do negócio):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ docker push &amp;lt;docker-hub-user&amp;gt;/helloworld-django-docker&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;E... &lt;em&gt;voilá&lt;/em&gt;! A imagem foi publicada no &lt;a href=&quot;https://hub.docker.com/r/kplaube/helloworld-django-docker/&quot;&gt;&lt;em&gt;Docker Hub&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Antes de ir: Efêmero&lt;/h3&gt;
&lt;p&gt;Nos &lt;em&gt;posts&lt;/em&gt; anteriores demos uma pincelada numa das características dos &lt;em&gt;containers&lt;/em&gt;
que é a sua &quot;efemeridade&quot;. Isso significa que, a cada nova versão da sua &lt;em&gt;app Django&lt;/em&gt;
você terá que &quot;buildar&quot; uma nova versão da imagem &lt;em&gt;Docker&lt;/em&gt;. A boa notícia é que com
o mecanismo de &lt;em&gt;caching&lt;/em&gt; do &lt;em&gt;Docker&lt;/em&gt; essa operação deverá ser ligeiramente mais
rápida do que da primeira vez.&lt;/p&gt;
&lt;p&gt;Além disso, mesmo que você tenha uma leve camada de escrita ao executar um &lt;em&gt;container&lt;/em&gt;,
a informação será perdida ao parar/reiniciar o mesmo. Portanto, o uso de &lt;a href=&quot;https://docs.docker.com/engine/admin/volumes/volumes/&quot; title=&quot;Use volumes&quot;&gt;&lt;em&gt;Docker Volumes&lt;/em&gt;&lt;/a&gt;
é essencial quando se faz necessária a persistência de dados.&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;Com esse &lt;em&gt;post&lt;/em&gt; fechamos essa pequena ode ao &lt;em&gt;Docker&lt;/em&gt;. Sem dúvida, uma ferramenta que vem mudando
paradigmas (o mais recente deles com o &lt;a href=&quot;https://www.opencontainers.org/announcement/2017/07/19/open-container-initiative-oci-releases-v1-0-of-container-standards&quot; title=&quot;Open Container Initiative (OCI) Releases v1.0 of Container Standards&quot;&gt;lançamento da versão 1.0&lt;/a&gt; do &lt;em&gt;Container Standards&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;Pretendo abordar mais sobre &lt;em&gt;Docker&lt;/em&gt; aqui no &lt;em&gt;blog&lt;/em&gt;, principalmente detalhando melhor
o uso do mesmo no &lt;a href=&quot;/tag/deploy.html&quot; title=&quot;Leia mais sobre deploy&quot;&gt;&lt;em&gt;deploy&lt;/em&gt;&lt;/a&gt; de aplicações &lt;em&gt;Django&lt;/em&gt;.
Com a adoção de conteinerização por serviços &lt;em&gt;PaaS&lt;/em&gt; como &lt;em&gt;Heroku&lt;/em&gt; e &lt;em&gt;Openshift&lt;/em&gt;,
há muito assunto a ser explorado nessa seara.&lt;/p&gt;
&lt;p&gt;Até a próxima!&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices/&quot;&gt;Docker Docs - Best practices for writing Dockerfiles&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://flaviosilveira.com/2017/criando-seu-container-com-dockerfile/&quot;&gt;Flavio Silveira - Criando Seu Container Com Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.mundodocker.com.br/o-que-e-dockerfile/&quot;&gt;Mundo Docker - O que é Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.patricksoftwareblog.com/how-to-use-docker-and-docker-compose-to-create-a-flask-application/&quot;&gt;Patrick&apos;s Software Blog - How to use Docker and Docker Compose to Create a Flask Application&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://semaphoreci.com/community/tutorials/dockerizing-a-python-django-web-application&quot;&gt;Semaphore - Dockerizing a Python Django web Application&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Uma ode ao Docker - Parte 2]]></title><description><![CDATA[No post anterior
falamos sobre o Docker, e arranhamos um pouco sobre a diferença entre
virtualização com Hypervisor e Container. Nesse post,
vamos explorar um pouquinho mais alguns conceitos, mostrando como funciona essa
ferramenta que é sensação quando o assunto é virtual machines. Mas antes, vamos…]]></description><link>https://klauslaube.com.br/2017/05/01/uma-ode-ao-docker-parte-2.html</link><guid isPermaLink="false">https://klauslaube.com.br/2017/05/01/uma-ode-ao-docker-parte-2.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Mon, 01 May 2017 22:25:00 GMT</pubDate><content:encoded>&lt;p&gt;No &lt;a href=&quot;/2017/01/14/uma-ode-ao-docker-parte-1.html&quot; title=&quot;Uma ode ao Docker - Parte 1&quot;&gt;&lt;em&gt;post&lt;/em&gt; anterior&lt;/a&gt;
falamos sobre o &lt;em&gt;Docker&lt;/em&gt;, e arranhamos um pouco sobre a diferença entre
virtualização com &lt;em&gt;Hypervisor&lt;/em&gt; e &lt;em&gt;Container&lt;/em&gt;. Nesse &lt;em&gt;post&lt;/em&gt;,
vamos explorar um pouquinho mais alguns conceitos, mostrando como funciona essa
ferramenta que é sensação quando o assunto é &lt;em&gt;virtual machines&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Mas antes, vamos relembrar o que é o &lt;em&gt;Docker&lt;/em&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&quot;Docker is an open platform for building, shipping and running distributed
applications. It gives programmers, development teams, and operations engineers
the common toolbox they need to take advantage of the distributed and networked
nature of modern applications.&quot;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Em uma linguagem mais simples, &lt;em&gt;Docker&lt;/em&gt; lhe dá a habilidade de executar
aplicações dentro de um ambiente controlado, conhecido como &lt;em&gt;Container&lt;/em&gt;.
&lt;em&gt;Containers&lt;/em&gt; são similares às tradicionais máquinas virtuais, contudo, eles
compartilham o mesmo sistema operacional e provém um conjunto de comandos
que permitem a execução e controle da sua aplicação ou processo.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=pGYAg7TMmp0&quot; title=&quot;Docker Tutorial - What is Docker &amp;#x26; Docker Containers, Images, etc?&quot;&gt;Veja a diferença entre &lt;em&gt;Vagrant&lt;/em&gt; e &lt;em&gt;Docker&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Instalando&lt;/h2&gt;
&lt;p&gt;Talvez você se depare com alguns artigos na &lt;em&gt;Internet&lt;/em&gt;, que ao falar sobre a
instalação do &lt;em&gt;Docker&lt;/em&gt;, também mencionem &lt;strong&gt;boot2docker&lt;/strong&gt; ou a necessidade do
&lt;strong&gt;docker-machine&lt;/strong&gt;. Houve um tempo onde utilizar &lt;em&gt;Docker&lt;/em&gt; em máquinas
&lt;em&gt;Windows&lt;/em&gt; ou &lt;em&gt;OSX&lt;/em&gt; não era tão trivial assim... mas esse tempo ficou para trás.&lt;/p&gt;
&lt;p&gt;Hoje, basta acessar a &lt;a href=&quot;https://www.docker.com/community-edition#/download&quot; title=&quot;Baixe o Docker Community Edition&quot;&gt;página de &lt;em&gt;download&lt;/em&gt;&lt;/a&gt;,
selecionar o seu sistema operacional, e seguir o passo a passo
(que geralmente consiste em uma série de &quot;next-next-finish&quot;).&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.docker.com/docker-for-mac/docker-toolbox/&quot; title=&quot;Docker for Mac vs. Docker Toolbox&quot;&gt;Entenda a diferença entre o Docker Toolbox e Docker for Mac&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Uma vez instalado, através do terminal execute o seguinte comando:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ docker images

REPOSITORY   TAG   IMAGE  ID   CREATED   SIZE&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Esse é o momento ideal para falarmos de outro conceito muito importante dentro
do &lt;em&gt;Docker&lt;/em&gt;: &lt;strong&gt;Images&lt;/strong&gt;.&lt;/p&gt;
&lt;h2&gt;Imagens&lt;/h2&gt;
&lt;p&gt;Segundo a documentação oficial:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;An image is a lightweight, stand-alone, executable package that includes
everything needed to run a piece of software, including the code, a runtime,
libraries, environment variables, and config files.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Ou seja, um &lt;em&gt;Docker Image&lt;/em&gt; é um binário que inclui todos os requisitos
necessários para rodar um &lt;em&gt;Container&lt;/em&gt;. Podemos pensar sobre esse
conceito como uma tecnologia para empacotamento (ou até mesmo como uma espécie &lt;em&gt;snapshot&lt;/em&gt;),
onde não só definimos nossa distribuição &lt;em&gt;Linux&lt;/em&gt; ou serviços utilizados
(como &lt;em&gt;Postgres&lt;/em&gt; ou &lt;em&gt;Nginx&lt;/em&gt;, por exemplo), como também adicionamos a nossa própria aplicação
ao pacote.&lt;/p&gt;
&lt;p&gt;Uma imagem é imutável, ou seja, &lt;em&gt;read only&lt;/em&gt;. Imagens
geralmente são compostas por outras camadas de imagens (&lt;em&gt;image layers&lt;/em&gt;). Isso é um
&lt;em&gt;approach&lt;/em&gt; interessante, já que uma vez que uma camada seja baixada ela não precisará ser
baixada novamente, mesmo se outras imagens utilizarem da mesma camada:&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 610px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8e197844bf74ca6668d7b39d88ad54d5/073a0/docker-image-container.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 69.27083333333334%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHZV1YuML//xAAZEAADAQEBAAAAAAAAAAAAAAABAgMAESH/2gAIAQEAAQUCardlQs3maI05hTv/xAAVEQEBAAAAAAAAAAAAAAAAAAAQIf/aAAgBAwEBPwGn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAgMBAAAAAAAAAAAAAAAAAAEQETFB/9oACAEBAAY/AuFONZacf//EABoQAAIDAQEAAAAAAAAAAAAAAAERACFREEH/2gAIAQEAAT8hDIayVZSyMIyTcbjUD5fP/9oADAMBAAIAAwAAABDnz//EABcRAQADAAAAAAAAAAAAAAAAAAEQESH/2gAIAQMBAT8QC2x//8QAFhEBAQEAAAAAAAAAAAAAAAAAARAR/9oACAECAQE/EFMn/8QAHRABAQABBAMAAAAAAAAAAAAAAREAECExwUFRcf/aAAgBAQABPxABMCCn39xavMJHeBIJl0ocA8uXkpsB1p//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Esquema representando o Sistema de Arquivo (docs.docker.com)&amp;quot;&quot;
        title=&quot;Esquema representando o Sistema de Arquivo (docs.docker.com)&quot;
        src=&quot;/static/8e197844bf74ca6668d7b39d88ad54d5/073a0/docker-image-container.jpg&quot;
        srcset=&quot;/static/8e197844bf74ca6668d7b39d88ad54d5/7809d/docker-image-container.jpg 192w,
/static/8e197844bf74ca6668d7b39d88ad54d5/4ecad/docker-image-container.jpg 384w,
/static/8e197844bf74ca6668d7b39d88ad54d5/073a0/docker-image-container.jpg 610w&quot;
        sizes=&quot;(max-width: 610px) 100vw, 610px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Esquema representando o Sistema de Arquivo (docs.docker.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Um &lt;em&gt;Docker Container&lt;/em&gt; em vias práticas é uma &quot;instância&quot; da imagem... é o que a imagem se torna em memória
ao ser executada. De forma preguiçosa, podemos fazer a analogia com a &lt;a href=&quot;/tag/oop.html&quot; title=&quot;Leia mais sobre OOP&quot;&gt;Orientação a Objetos&lt;/a&gt;,
onde a imagem pode ser comparada com uma classe, e a instância com um &lt;em&gt;Container&lt;/em&gt;. Podemos ter
tantos &lt;em&gt;containers&lt;/em&gt; quanto necessário para uma mesma imagem.&lt;/p&gt;
&lt;h2&gt;Um pouco de prática&lt;/h2&gt;
&lt;p&gt;Vamos baixar a nossa primeira imagem &lt;em&gt;Docker&lt;/em&gt;. Para isso, execute o seguinte comando:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ docker pull docker/whalesay&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;O comando &lt;code class=&quot;language-text&quot;&gt;docker pull&lt;/code&gt; fará o &lt;em&gt;download&lt;/em&gt; da imagem &lt;code class=&quot;language-text&quot;&gt;docker/whalesay&lt;/code&gt;
para o seu computador. Essa imagem está hospedada (por padrão) no &lt;a href=&quot;https://hub.docker.com/r/docker/whalesay/&quot;&gt;&lt;em&gt;Docker Hub&lt;/em&gt;&lt;/a&gt;,
uma espécie de &quot;Github para imagens Docker&quot;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://hub.docker.com/&quot; title=&quot;Docker Hub&quot;&gt;Leia mais sobre o &lt;em&gt;Docker Hub&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;É possível visualizarmos a imagem através do comando &lt;code class=&quot;language-text&quot;&gt;docker images&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ docker images

REPOSITORY         TAG       IMAGE ID        CREATED          SIZE
docker/whalesay    latest    6b362a9f73eb    23 months ago    247 MB&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;É uma prática comum o repositório/nome da imagem ser chamado de
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;repositório&amp;gt;/&amp;lt;nome de imagem&amp;gt;&lt;/code&gt;. Isso evita que haja duplicidade no &lt;em&gt;Docker Hub&lt;/em&gt;. Para
executar a imagem (e por consequência criar um &lt;em&gt;Container&lt;/em&gt;), temos o comando &lt;code class=&quot;language-text&quot;&gt;docker run&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ docker run docker/whalesay cowsay boo
 _____
&amp;lt; boo &amp;gt;
 -----
    \
     \
      \
                    ##        .
              ## ## ##       ==
           ## ## ## ##      ===
       /&amp;quot;&amp;quot;&amp;quot;&amp;quot;&amp;quot;&amp;quot;&amp;quot;&amp;quot;&amp;quot;&amp;quot;&amp;quot;&amp;quot;&amp;quot;&amp;quot;&amp;quot;&amp;quot;___/ ===
  ~~~ {~~ ~~~~ ~~~ ~~~~ ~~ ~ /  ===- ~~~
       \______ o          __/
        \    \        __/
          \____\______/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Também é possível executarmos através do &lt;code class=&quot;language-text&quot;&gt;ID&lt;/code&gt; da imagem:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ docker run 6b362a9f73eb cowsay boo2&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Welcome to Nginx!&lt;/h2&gt;
&lt;p&gt;É claro que o &lt;em&gt;Docker&lt;/em&gt; é muito mais poderoso do que isso. Por exemplo, vamos baixar o
&lt;a href=&quot;/tag/nginx.html&quot; title=&quot;Leia mais sobre o Nginx&quot;&gt;&lt;em&gt;Nginx&lt;/em&gt;&lt;/a&gt; e ver como podemos receber uma simpática tela de &quot;It&apos;s working&quot;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ docker pull nginx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notou a ausência do &lt;code class=&quot;language-text&quot;&gt;&amp;lt;repositório&amp;gt;/&lt;/code&gt;? Repositórios oficiais no &lt;em&gt;Docker Hub&lt;/em&gt; não necessitam
de um prefixo, e você pode encontrá-los na interface &lt;em&gt;web&lt;/em&gt; através do &lt;em&gt;path&lt;/em&gt; &lt;code class=&quot;language-text&quot;&gt;_/&amp;lt;nome da imagem&amp;gt;&lt;/code&gt;.
Por exemplo, o endereço do &lt;em&gt;Nginx&lt;/em&gt; no &lt;em&gt;Docker Hub&lt;/em&gt; é &lt;a href=&quot;https://hub.docker.com/_/nginx/&quot;&gt;https://hub.docker.com/_/nginx/&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 610px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fb8a561d8561fc395633a751c6b93aa5/5aae9/memento-docker.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsSAAALEgHS3X78AAADnklEQVQozwGTA2z8AFhYVGdqaYaFh5iVl4+NjtXKx8nDwezr3eTj1ePh0+Xj1+Hc1NbPztTQ0crFyMbBwtHKzMrEx8e+wsO6vwDU1duvs7ucoa6NlaB4f4W0vMeSmqWiq7DY2tPZ08rSy8jSzMvHtrOXfHObh4bHwcTJxcrNyMu6tLikm6UA1dDRtLK0x8fKzNDQwMTC197eq7KztLu829/X5+vg5uzl2NjTsIyLmGJff1JIqp6Yu8DNq663zNHYpKayAGNiboJ8hYh/gZKSkl9iXrWyr9/b2tjV083My9TS0qWopmxiXI5kZpBjZYxgXWlNP35/gWJqdXB0eYKFigAWGRRTVFQxLyYmLSBUW1kxNTNycnNSUlE6Ojg0NDJpbnCHfICCU1WRX2KPX11gQjVfXFxub3JISUlHSksAUVNPcG1rTEtDOUAxWlpNZVpMYFtSRkg8PUA3ODs0YGVhdWdhgFZRek9IbkM6cU5Jem9nf3VzdXN0cnFwAGRmZGRiXXFtaHx4dnZwa29oXmllXGxpX21uZm5vaV5dUUBCPUlHR2lkXkoyJ11WUWFfV1pVSVlYS1VXUQBcXlpWVEtcVEiOhIOUh4Z+c2tPU0hhX1FoY1RjW0tcV0csMDNHREQvLi5wTkl1aWdpZmJyYlNxYE9vXlMAd2plfGxlhG9pgXFukYB/l4B6d2leeW5khnJilHxvjXFrODI1ISYpLCssVExWh3p/oYWDk3p0l3t3j3t/AH9wdIN1d4t7fYt6fI17fpeDhp6JjZ2JjJuJjKSEgn9bUzk0NS4tLxQSEEpHT42Bh5iIjZuLkJqHjYt4fwCBfYRmaXJucHdscXlqb3dscHdscXZzdXqYkpWAamI7JhovHhQ3IRg7IRplS0N2bm1oY2N6cnOIe31/dnoAu62wiISLVF1lXWZtXmhuXmhtWmVqZGtvfX6BVElDPTIoSkM6UjQkdEk7bE5AUlNKXFxXamdmZmNea2doAHl4fdjMyqilpmFpb2FqbmJqbl1ma319gXh6fSgtOjI2MTlFQS4lI1Q2JXRRRV1aU0tPR1BTS1JRSGRiYgBVXGF2eXuXlZZrcXRdZmphaWxtcHNscGxOWE0sMiwnLSUqMCgZIy0tKSVPRjxpaGRYWFFBRTxQT0hVVVIAUVpdS1ZaS1ZaVGBjVWFlX2doV11WPkc7LC8iIiMWISQYICEaHCYsLDQvPUU8SVBIYWFbWltWVVVPVFVTJc2TKg08qrQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Assim como em Memento, o Docker também depende de imagens e tem memória curta (problemasfilosoficos.blogspot.com.br)&amp;quot;&quot;
        title=&quot;Assim como em Memento, o Docker também depende de imagens e tem memória curta (problemasfilosoficos.blogspot.com.br)&quot;
        src=&quot;/static/fb8a561d8561fc395633a751c6b93aa5/5aae9/memento-docker.png&quot;
        srcset=&quot;/static/fb8a561d8561fc395633a751c6b93aa5/8514f/memento-docker.png 192w,
/static/fb8a561d8561fc395633a751c6b93aa5/804b2/memento-docker.png 384w,
/static/fb8a561d8561fc395633a751c6b93aa5/5aae9/memento-docker.png 610w&quot;
        sizes=&quot;(max-width: 610px) 100vw, 610px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Assim como em Memento, o Docker também depende de imagens e tem memória curta (problemasfilosoficos.blogspot.com.br)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Vamos executar o &lt;em&gt;Nginx&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ docker run -p 5000:80 nginx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Mapemos a porta &lt;code class=&quot;language-text&quot;&gt;5000&lt;/code&gt; da nossa máquina para apontar para a porta &lt;code class=&quot;language-text&quot;&gt;80&lt;/code&gt; do &lt;em&gt;Container&lt;/em&gt;. Logo, ao acessarmos
o &lt;code class=&quot;language-text&quot;&gt;http://localhost:5000&lt;/code&gt;, recebemos a simpática tela de boas vindas ao &lt;em&gt;Nginx&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Podemos dar um nome ao processo, e ainda executá-lo em modo &lt;em&gt;daemon&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ docker run --name docker-nginx -p 5000:80 -d nginx

796ab2f0a662c045d0cfc99ff836a364a384406b8c6eaf03bcfb65e6cfd87751&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;O valor de retorno é o &lt;em&gt;ID&lt;/em&gt; do &lt;em&gt;Container&lt;/em&gt;. Note a presença dos parâmetros &lt;code class=&quot;language-text&quot;&gt;--name&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;-d&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Para listar os &lt;em&gt;Containers&lt;/em&gt; ativos, usamos o comando &lt;code class=&quot;language-text&quot;&gt;ps&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ docker ps

CONTAINER ID    IMAGE    COMMAND
796ab2f0a662    nginx    &amp;quot;nginx -g &amp;#39;daemon ...&amp;quot;
CREATED           STATUS           PORTS                  NAMES
12 seconds ago    Up 11 seconds    0.0.0.0:5000-&amp;gt;80/tcp   docker-nginx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Para parar o serviço:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ docker stop docker-nginx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Pronto! Simples como as melhores coisas da vida.&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;Lembro até hoje do momento em que ouvi falar sobre &lt;em&gt;Docker&lt;/em&gt; pela primeira vez,
e me questionei: Onde é que eu encaixo a minha ferramenta de provisionamento?&lt;/p&gt;
&lt;p&gt;Pois bem, não se faz necessário ter uma ferramenta de provisionamento uma vez que a sua
aplicação seja empacotada em uma imagem &lt;em&gt;Docker&lt;/em&gt;. A forma de pensar no &lt;em&gt;deploy&lt;/em&gt; da
aplicação muda, uma vez que ela esteja &quot;containerizada&quot;.&lt;/p&gt;
&lt;p&gt;No próximo &lt;em&gt;post&lt;/em&gt; da série vamos utilizar &lt;em&gt;Docker&lt;/em&gt; em uma aplicação &lt;a href=&quot;/tag/python.html&quot; title=&quot;Leia mais sobre Python&quot;&gt;&lt;em&gt;Python&lt;/em&gt;&lt;/a&gt;
e &lt;a href=&quot;/tag/django.html&quot; title=&quot;Leia mais sobre Django&quot;&gt;&lt;em&gt;Django&lt;/em&gt;&lt;/a&gt;, e nos deparar com
algumas peculiaridades de ambientes &lt;em&gt;Docker&lt;/em&gt; (como por exemplo, os ambiente efêmeros).&lt;/p&gt;
&lt;p&gt;Até a próxima!&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.docker.com/get-started/&quot;&gt;&lt;em&gt;Docker Docs&lt;/em&gt; - &lt;em&gt;Get started, Part 1: Orientation and Setup&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.mundodocker.com.br/o-que-e-uma-imagem/&quot;&gt;&lt;em&gt;MundoDocker&lt;/em&gt; - O que é uma imagem?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.openshift.com/enterprise/3.0/architecture/core_concepts/containers_and_images.html#docker-images&quot;&gt;&lt;em&gt;Openshift&lt;/em&gt; - &lt;em&gt;Docker images&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://semaphoreci.com/community/tutorials/dockerizing-a-python-django-web-application&quot;&gt;&lt;em&gt;Semaphore&lt;/em&gt; - &lt;em&gt;Dockerizing a Python Django web Application&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/23735149/docker-image-vs-container&quot;&gt;&lt;em&gt;Stackoverflow&lt;/em&gt; - &lt;em&gt;Docker image vs container&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Uma ode ao Docker - Parte 1]]></title><description><![CDATA[Virtualização é um dos assuntos que mais evoluiu nesses últimos anos de TI. Mas
foi o termo "containerização" que teve um "boom" de popularidade recentemente. Isso graças
ao Docker, popular ferramenta que tem
tornado a virtualização/containerização em uma commodity no universo de desenvolvimento de…]]></description><link>https://klauslaube.com.br/2017/01/14/uma-ode-ao-docker-parte-1.html</link><guid isPermaLink="false">https://klauslaube.com.br/2017/01/14/uma-ode-ao-docker-parte-1.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Sat, 14 Jan 2017 18:20:00 GMT</pubDate><content:encoded>&lt;p&gt;Virtualização é um dos assuntos que mais evoluiu nesses últimos anos de TI. Mas
foi o termo &quot;containerização&quot; que teve um &quot;boom&quot; de popularidade recentemente. Isso graças
ao &lt;a href=&quot;https://www.docker.com/&quot; title=&quot;Build, ship, run&quot;&gt;&lt;em&gt;Docker&lt;/em&gt;&lt;/a&gt;, popular ferramenta que tem
tornado a virtualização/containerização em uma &lt;em&gt;commodity&lt;/em&gt; no universo de desenvolvimento de &lt;em&gt;Software&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Para ser sincero, eu só &quot;parei para olhar&quot; o &lt;em&gt;Docker&lt;/em&gt; no final do ano passado,
através de um
&lt;a href=&quot;https://www.udemy.com/docker-tutorial-for-devops-run-docker-containers/learn/v4/overview&quot; title=&quot;The Complete Docker Course for DevOps and Developers&quot;&gt;excelente curso do &lt;em&gt;Udemy&lt;/em&gt;&lt;/a&gt;.
Se você assim como eu ainda não teve tempo para ver &quot;qualé&quot;, vem comigo que eu te mostro :)&lt;/p&gt;
&lt;h2&gt;Antes do Docker: Containers&lt;/h2&gt;
&lt;p&gt;Eu só comecei a entender realmente o que era o &lt;em&gt;Docker&lt;/em&gt; a partir do momento
que compreendi o que é um container.&lt;/p&gt;
&lt;p&gt;No mundo &quot;pré-virtualização&quot;, quando lidávamos com problemas como escalabilidade ou isolamento,
precisávamos adquirir uma nova máquina física, instalar e configurar o Sistema Operacional,
bem como instalar e configurar a própria aplicação:&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d425cc1d35536371cd50cb1ee29f083f/e17e5/docker-pre-virtualization.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.91666666666666%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsSAAALEgHS3X78AAACxklEQVQoz2WM2VOSYRTGv/+hy5qsbiprqskcN8q13BFFcSmRAIEIkEwKxQ8BxS02TVn8gGQVN5CtG8ZlRCsSFdRmlJtu+ju0Q0wzqO/85pnznud5DhL5Y1s+fudL9HkTwgt4TnqWj7tWTj5ctgBfohdxHjJ6N65IwrcGwhlp3EA3r6p/FJmj5OHtB+LNa7A5H7guCd9EgsdDmm8l2kjtdKQ6nalIlXm3Y2FfMLNDmopUXnCnI1VQQcK/TbYYY/6A7zrgpeOMs20xujVGtccZzjjngus64EIFmT/iiTcz5Nv3h7Yz/3NvcOu2YYcI6H4STNGXiu95g1t3YJ+WuQsVxJcQKqKPJvdwE3v5SXZBCzS7ObZDiuuI5TikLvziYDG8ejcH9v/cFHlQQTajG188RkfAavdbQOe+2p1BG6gtYLIGMHvQbPVjjuAsLFNALAWEkaWVVeHAlHQUQ4cMIyqL0eLTmdyT+gWTJTBj9ia/mEeLufVmNzbrNZg9sjGTWG4YGJ6RjGDIvDf0XqJBR3WiES2Ajun7R3VSBSZVYuJxg0xplKmMsBSP61NWKgbAjAwosIdl7TgCKx/PyKvtzK2mZZVT8BSBQDbBR1Vs4RgAQxmJm11JLahjQiyVhAoiVZmyyjuKieynBObzZm4DTQhUtPGLG9+SmH0tb1AivRes0iZODbmnAM+A+Vk9C7SIyEYG1WY4WUri4uqYRHqyWd7a1cwUVb/q5ovVHJGyC1XBrXaehMQUtbHF0AEKG9glTRxENKbPLGzJraE9fkGup34k86RtbLSZ1Y8jMKndcnrPcAdPlo/vrKMIKlr5jfReSD6poGRXvs6ppiGB0JZ8Ylapdyp0Dg3m0lqWdVa3Uu8ARqcsGmxeaXCOfLaoDHPTs0uQ+aS1J1UHASdydv6dnp6CHsb319fW1ldDfp836PcvLy6uhkJnl95fsD3tTyVDuwwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Diagrama de era pré-virtualização (udemy.com)&amp;quot;&quot;
        title=&quot;Diagrama de era pré-virtualização (udemy.com)&quot;
        src=&quot;/static/d425cc1d35536371cd50cb1ee29f083f/e17e5/docker-pre-virtualization.png&quot;
        srcset=&quot;/static/d425cc1d35536371cd50cb1ee29f083f/8514f/docker-pre-virtualization.png 192w,
/static/d425cc1d35536371cd50cb1ee29f083f/804b2/docker-pre-virtualization.png 384w,
/static/d425cc1d35536371cd50cb1ee29f083f/e17e5/docker-pre-virtualization.png 400w&quot;
        sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Diagrama de era pré-virtualização (udemy.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Além do custo altíssimo para replicar a arquitetura acima, o tempo para solicitar uma
nova máquina e realizar uma possível migração eram absurdamente altos. Além disso,
há um incrível desperdício de recursos, já que não é necessário um &lt;em&gt;hardware&lt;/em&gt;
exclusivo para servir uma aplicação &lt;a href=&quot;/tag/desenvolvimento-web.html&quot; title=&quot;Leia mais sobre web&quot;&gt;&lt;em&gt;web&lt;/em&gt;&lt;/a&gt; simples.&lt;/p&gt;
&lt;h3&gt;Hypervisor&lt;/h3&gt;
&lt;p&gt;O conceito de &lt;a href=&quot;/tag/virtualizacao.html&quot; title=&quot;Leia mais sobre virtualização&quot;&gt;máquina virtual&lt;/a&gt; vem bem a calhar para sanar o problema acima: Através de uma
configuração de &lt;em&gt;hardware&lt;/em&gt;, ser possível servir de forma isolada diferentes aplicações.&lt;/p&gt;
&lt;p&gt;Quando falamos de máquinas virtuais &lt;a href=&quot;/tag/virtualbox.html&quot; title=&quot;Leia mais sobre Virtualbox&quot;&gt;&lt;em&gt;Virtualbox&lt;/em&gt;&lt;/a&gt; ou &lt;em&gt;VMWare&lt;/em&gt;,
estamos nos referindo ao &lt;em&gt;Hypervisor-based Virtualization&lt;/em&gt;. Nessa modalidade temos uma ferramenta responsável
por abstrair diferentes Sistemas Operacionais funcionando dentro de um mesmo &lt;em&gt;hardware&lt;/em&gt;:&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b7427364000354866ddc3d4a700b811d/e17e5/docker-hypervisor-virtualization.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 125%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAIAAAC+dZmEAAAACXBIWXMAAAsSAAALEgHS3X78AAAFrUlEQVQ4yzWSB1BTdxzH37W9a3tnXe31zqtVvKtnbT0VRK0sFVuGMsNGZUPYBBURZFREIDLUJCQyBAkpOyArO2SSAGYAkZF6Dk7AQs0Aw8pLeP2Hs+8+97vf+73f9zf+7w8trKjHFp6NL3YDq1rsG1/sXYF1yKzENN1inm41q9stvGVtri5viKkbvKZ1LnlD0LzOo8ATYkj0jpQnsHoyGkiUu5dKTxYID86vvUJ6go3E743tbjDlFEz6wdRsZ9bOaQK266IO6DGndPGHNZ6fG0qvQKrFnrqxQOp0OnUaQ1FFUlThH9ZnEWkR3OEKs9AwPdLUecnES9tcWly+672U775cHrZcHLCU6bjaXgyNLXQ1T6JbJxObJmLap1IaVRELq68QabGxNxDuCTL1BMDd/iZOolnz7iM2BMiW73gsF/os57mtUvKh4XkyUe5WPxZaq/SrHw8lyd3nVtQIP8vY/jvc7Qd3egJM9DDzh7f69NP662f0Gfb663a6FGsDKQUaXaBWylxrlagapW+VwhuUWFybQWQ4uBtlol010cJMoLM4x7y0sJTlrE8+psfY6q9Z1rZ0ls4+uSM6iJWeKJFYl0iOYyXW82uvkf5I48OvYNIeC7jtpnZncGC68B+1qK+1gTu0QTs1np8ZcLHQ0Fw9EN+XngCyksFjwL5fe4Mw0Eb8Drh6vwXCbhPV1ax7r4vcZxEH7NAG79Z4QIbKeGh4rqFi2JEov1gpd3us8CDK3OZXXyKcVGPdYZjyG0w5DTeeNPWHmv99q0+z1aEP6RKP6BJ+0aF/NhCTLOJKuTt5PKxG6VetRFUrvLbEmI0mO7jTC251hpscTIwI8+IbfYbDUqaT/tY5fYq1PtXGQEreGlv4E3Zr4WLJUezg8a2xY424bXDVXgv4nSaqi1k3r4vYp/X5Uuv/jTZol+YSZCDEgwOrKxAdKpWewkosZ4aV2MyB/0yL3cDvNFZbGav2GwnfgQtj0sxqI600fts0YOHgbz94ffERj4ZkC5Sy5zZ45VmcwgmncMArHBeMMwi4UrV7kcYjSOOvSN0BpB+FLP2zknzEEL7HEL3PEGP1MXTXeg0GevXu5eDowLBKNKQSbiF4oVa/HB9Ry7jTMp5awVfLBtRKsXrq7ykxb0rEmRJxp0QDEwLWzLgCGh5RNbcxqM+4HV0cALWL20pl9LMHuSIFRyRn8ka4InlnH7+VSm/rGQC09nDberlNXewBsQwan1T3MXnMATGDKwLQ2AI6R8zkiFlcEZMDEDLYQuDQ2WI6U8BgCZlsC3Qmf2hkFOrsG7iRW5FXTMq+iy95WF9NpuJrmgFVTztIdW3AEmpaCLUtj+vbgX8f//R2ISG3iHirAEd80gbROIMFZTWlleQSfAOwuJqWCtJfWIvfWEoglxHI5UQKlkB+VN2Mq24uJzaCT/cJ5KKHdQ0tfVB5VbO9N9r98jWXEIxLSNp5vySv8IysQsK1/Acpt8tSc8rTcirScx+A4IXAFJAA0lxD08/7Jydll0H3cA1HL1x19Im384pz8Eaf80t0CU4NSciJTi+Mu1EUibkbnvoneHXyTTh9MdreKw6kgWa27lFR6fegEgLZxiX8vH+SvVcsKjozCH3bPzb7j6BU15C0sNSCuIwSj7AbZzxiQhLzUNG3HLzjnHzjz6ISQCTmetEnsbN/kp1nbGhirk/UTe+IDFAlEJ2dUUjIuV91OSk/0FIxKzK90D8u284zBkz3SXzv0dOjzlccvdGOvvHBCbnom1h0JtYvJsstFBOBKYy7ifWKyABzgQgqJgvs7OCDBv1t3SJBLej1zJxEppKNTdNYgl4mv4/F7+rj0DlCi8+0+F19LBpb2MvgddM4ABZPMqKcHFZMvFC/hhAE2dzcBFY1qqB2tEslUpGQ/3xkeEgi4bAYksHBUaVCwOcJBXwum82g0xRyGfL/8x/TepHl+78bEwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Diagrama de virtualização por hypervisor (udemy.com)&amp;quot;&quot;
        title=&quot;Diagrama de virtualização por hypervisor (udemy.com)&quot;
        src=&quot;/static/b7427364000354866ddc3d4a700b811d/e17e5/docker-hypervisor-virtualization.png&quot;
        srcset=&quot;/static/b7427364000354866ddc3d4a700b811d/8514f/docker-hypervisor-virtualization.png 192w,
/static/b7427364000354866ddc3d4a700b811d/804b2/docker-hypervisor-virtualization.png 384w,
/static/b7427364000354866ddc3d4a700b811d/e17e5/docker-hypervisor-virtualization.png 400w&quot;
        sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Diagrama de virtualização por hypervisor (udemy.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Para cada máquina virtual, é necessário um Sistema Operacional instalado e configurado, bem como
a própria aplicação.&lt;/p&gt;
&lt;p&gt;Agora somos capazes de reaproveitar o processador, memória e banda de rede, reduzindo consideravelmente o custo.
Essa &quot;abstração&quot; que há entre a aplicação e o &lt;em&gt;hardware&lt;/em&gt; permite maior flexibilidade quando houver a necessidade
de escalar ou migrar a aplicação para outra máquina física.&lt;/p&gt;
&lt;p&gt;Bom! Mas e se pudéssemos compartilhar o mesmo Sistema Operacional para as 3 &lt;em&gt;apps&lt;/em&gt; ilustradas acima, mas ainda assim
mantê-las isoladas?&lt;/p&gt;
&lt;h3&gt;Containers&lt;/h3&gt;
&lt;p&gt;Segundo o &lt;em&gt;ZDNet&lt;/em&gt;, &lt;em&gt;containers&lt;/em&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;(...) use shared operating systems. That means they are much more efficient than hypervisors
in system resource terms. Instead of virtualizing hardware, containers rest on top of a single
Linux instance. This in turn means you can leave behind the useless 99.9% VM junk, leaving you
with a small, neat capsule containing your application.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Através de &lt;em&gt;Containers&lt;/em&gt; é possível utilizar o conceito de virtualização, só que de uma
maneira diferente: Não temos mais um Sistema Operacional por ambiente virtualizado,
e sim compartilhamos os mesmos recursos do Sistema Operacional da máquina hospedeira:&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9ea3fb8893942fb7fe069f2b415bf160/e17e5/docker-containers.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.895833333333336%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAACm0lEQVQoz11Qa09SARjmr/SpvrXVZrU+5OxiossKFZRSAUUQuZhoKAKCJYIiKpbzgHmp5qWNRE28gKbJUryhHlFwmhiX1KPLLTE4nHM6s9aiZ8+e7d37Pu+NgJ0BRVFcA4GAxa2z7KisO9oBd9nm8QzmMoYniyMzyshHIbrdF5oz/2jmnLyRneifnPZWEdxu9+LCgmNpCQTBtTVn23wW4EjuXKWpP1+ePTBituc/Oy6G+9NChvPIvCrYpzuin/suSzzKu3AsIxIgCPL7fX6fD4IOnc41E1jWs07vdea+XiGvHA5gywBiJGIDqRiuqy/Cls6gOC6oSArKEk61WYR/1z6ADnrAunZQ0gHK9cvCqcAE5Oj1DvF9Y2L/kCAAvtsdN26paNsN3C1NnsdQTkDPgOBmFA0haKkTzV1EOA6E7UC5jpB4PSxzYVIXKt7AFBuw1AUzQSwXRBkgyl9H/0z+DRhBXloWnr2fru63KU02zZC9cXhONzLXaLbXm+1No/MNZnu1yYZT2Tdd/2E2yhyJRPSt3Up1c02dXl3bAhi6DG09uAKt3XpDl/5VdzPwVl0LqDWAqralsan9781nk+FIoaw+hVmWwZGRWZI0VnmBWFOk0HHL63gSLV+qJbMl6flSnHiWIayKelgYhlOZpZfiM68l5cSlchKogngKL5lWks6W3MsW3qHwYkn5MUT61SRGDJF2m8z934zXXSHSY0lsCltCyhElPi6isCTFlbpMvpxILczkye/TSq4nM3HiYZQZhuFsQeUNEvsuVZDFV7BE6oyCCnxJtqjmEVeOn0PlVDzMEd0ic2+mcR8wnkY9DG/h34M83m9f/fub255R6+SgedQyPmWd+DQ8Nm4aHB6xTn7Z9e/69jzePW9g/xfuBPA5oX/fsgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Diagrama de containerização (udemy.com)&amp;quot;&quot;
        title=&quot;Diagrama de containerização (udemy.com)&quot;
        src=&quot;/static/9ea3fb8893942fb7fe069f2b415bf160/e17e5/docker-containers.png&quot;
        srcset=&quot;/static/9ea3fb8893942fb7fe069f2b415bf160/8514f/docker-containers.png 192w,
/static/9ea3fb8893942fb7fe069f2b415bf160/804b2/docker-containers.png 384w,
/static/9ea3fb8893942fb7fe069f2b415bf160/e17e5/docker-containers.png 400w&quot;
        sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Diagrama de containerização (udemy.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Com isso reduzimos ainda mais os custos de operação, além de proporcionar um tempo ainda menor
de &lt;em&gt;deployment&lt;/em&gt; de uma nova aplicação. Agora, do ponto de vista da aplicação, precisamos apenas
do &lt;em&gt;app&lt;/em&gt; instalado e configurado.&lt;/p&gt;
&lt;h2&gt;Enfim: O que é Docker?&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Docker&lt;/em&gt; é uma ferramenta &lt;em&gt;open source&lt;/em&gt;, responsável por tornar fácil a criação, &lt;em&gt;deploy&lt;/em&gt; e execução
de aplicações através do uso de &lt;em&gt;containers&lt;/em&gt;. Com a containerização &lt;em&gt;Docker&lt;/em&gt;, o desenvolver pode
empacotar a aplicação com todas as suas dependências, e distribuí-la através de um pacote único. Esse
pacote único executará em qualquer máquina &lt;em&gt;Linux&lt;/em&gt; (com &lt;em&gt;Docker&lt;/em&gt;, claro), podendo ser o seu ambiente
de desenvolvimento local, seu &lt;a href=&quot;/2011/03/07/diferentes-ambientes.html&quot; title=&quot;Development, staging e production&quot;&gt;ambiente de testes e homologação&lt;/a&gt;,
ou até mesmo o ambiente de produção.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5d152fc2a3973376025d04527b1dd2ac/6af66/iron-man-containers.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.645833333333336%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAACNklEQVQoz1WQS2/TQBSFLRrb47fj5zi2xzOe8diTOI82SZu0paFVJFqVImgkFlVZsEEIJLawROxgC38B/gf/DMMCCenT1dXROVc6V9oDdg84subK3QRO7y9/FtV6oBiy5gDD00xP1R1ZNWRV/0dP0STVDk0nkHVX1vsdit5XDV81AtvPfIg1K1J1H3SK9l9YATrQTWm2v6wo7Wl9xQw7VDPSLbgHwrI5WJ1eaDaUgat0p4ElA7PLK8BUgGWYduD70kgInMWWaQErVsyoc+tO7MWYiOPp6saNqN2HimYD3VE1u0MzXMPyLavv2o5083iDB2HkGiWldoANJ+lwQ3T5/O3nLz8yOne9WO9q665mOJ4XVIxFUZLAQRrHUpeEnu07ZoliOCC2h7yIFM1yef5svdkh0gZhZrsxoVUUBHma1awa1sMhrxnKpQL6eBAkQT+NfFY1acZ5Kfh4QccL1x8gRPIUwShteEWLjJeFYGzciGFV1SWReA45gjhNcgiHFb+/evTh7no1mdFSBD7sHK+uTl5slgKjtqZjUY1FPeScFZgVhcRyWBeDEmU1JQdt+/X9y1/fP96cHOYZsU2nrfDPT6+/vdvtc7Kctav59Gg+G3GOkoQiJE1r3LK8LvNJww6mi93Z6s3l+mjEK4JhGJI0vT5eXC4nDS1Pjubb84dPrraTrjLGDSmk69NmPSGCoobi9VQsGnY2bUZlLhjJkhgjwgoiumfwenux2d0+vb+7XS/2p0IcTtrfFaVSbY4zWZ8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Vim falar de Docker mas só encontrei containers (marvelcinematicuniverse.wikia.com)&amp;quot;&quot;
        title=&quot;Vim falar de Docker mas só encontrei containers (marvelcinematicuniverse.wikia.com)&quot;
        src=&quot;/static/5d152fc2a3973376025d04527b1dd2ac/6af66/iron-man-containers.png&quot;
        srcset=&quot;/static/5d152fc2a3973376025d04527b1dd2ac/8514f/iron-man-containers.png 192w,
/static/5d152fc2a3973376025d04527b1dd2ac/804b2/iron-man-containers.png 384w,
/static/5d152fc2a3973376025d04527b1dd2ac/6af66/iron-man-containers.png 640w&quot;
        sizes=&quot;(max-width: 640px) 100vw, 640px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Vim falar de Docker mas só encontrei containers (marvelcinematicuniverse.wikia.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Se até aqui você achou o &lt;em&gt;Docker&lt;/em&gt; semelhante ao &lt;a href=&quot;/2015/10/03/esse-e-mais-um-post-sobre-vagrant.html&quot; title=&quot;Esse é mais um post sobre Vagrant&quot;&gt;&lt;em&gt;Vagrant&lt;/em&gt;&lt;/a&gt;,
você não está de todo errado. A principal diferença é justamente o conceito de &lt;em&gt;containers&lt;/em&gt;: &lt;em&gt;Docker&lt;/em&gt; permite
que aplicações utilizem o mesmo &lt;em&gt;kernel&lt;/em&gt; &lt;em&gt;Linux&lt;/em&gt; da máquina hospedeira, reduzindo drasticamente o
tamanho da aplicação e reduzindo o consumo de recursos da máquina hospedeira.&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Docker&lt;/em&gt; é no fim das contas uma ferramenta extremamente útil, e que possui umas das comunidades mais
ativas e empenhadas no momento. Ferramentas de &lt;em&gt;PaaS&lt;/em&gt; como o &lt;a href=&quot;https://tsuru.io/&quot; title=&quot;Extensible and open source Platform as a Service&quot;&gt;&lt;em&gt;Tsuru&lt;/em&gt;&lt;/a&gt;
utilizam &lt;em&gt;Docker&lt;/em&gt; ativamente e servem inúmeros serviços e aplicações nesse exato momento.&lt;/p&gt;
&lt;p&gt;Se até aqui você não está bem certo sobre o que é de fato o &lt;em&gt;Docker&lt;/em&gt;, não se preocupe! Na parte 2 falaremos mais
sobre a ferramenta (e menos sobre o conceito) de uma forma bem prática.&lt;/p&gt;
&lt;p&gt;Até a próxima.&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://opensource.com/resources/what-docker&quot;&gt;&lt;em&gt;Opensource.com - What is Docker?&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://searchservervirtualization.techtarget.com/definition/hypervisor&quot;&gt;&lt;em&gt;TechTarget - Hypervisor definition&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.zdnet.com/article/what-is-docker-and-why-is-it-so-darn-popular/&quot;&gt;&lt;em&gt;ZDNet - What is Docker and why is it so darn popular?&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Esse é mais um post sobre Vagrant]]></title><description><![CDATA[Sim! Esse é mais um post sobre Vagrant, entre tantos outros espalhados pela
web. Sim! Se você já conhece a ferramenta,
provavelmente não terá nada de novo para você nesse artigo. Já falamos um pouco sobre ambientes virtuais,
e as vantagens são numerosas. A "atomicidade" de poder construir e destruir…]]></description><link>https://klauslaube.com.br/2015/10/03/esse-e-mais-um-post-sobre-vagrant.html</link><guid isPermaLink="false">https://klauslaube.com.br/2015/10/03/esse-e-mais-um-post-sobre-vagrant.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Sat, 03 Oct 2015 14:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Sim! Esse é mais um &lt;em&gt;post&lt;/em&gt; sobre &lt;em&gt;Vagrant&lt;/em&gt;, entre tantos outros espalhados pela
&lt;a href=&quot;/tag/desenvolvimento-web.html&quot; title=&quot;Leia mais sobre Web&quot;&gt;&lt;em&gt;web&lt;/em&gt;&lt;/a&gt;. Sim! Se você já conhece a ferramenta,
provavelmente não terá nada de novo para você nesse artigo.&lt;/p&gt;
&lt;p&gt;Já falamos um pouco sobre &lt;a href=&quot;/tag/virtualizacao.html&quot; title=&quot;Leia mais sobre Virtualização&quot;&gt;ambientes virtuais&lt;/a&gt;,
e as vantagens são numerosas. A &quot;atomicidade&quot; de poder construir e destruir um
ambiente inteiro, sem acarretar efeitos colaterais ao seu ambiente de trabalho,
traz agilidade sem perder segurança e sanidade.&lt;/p&gt;
&lt;p&gt;Sem dúvida o que levou &quot;virtualização&quot; de um &lt;em&gt;buzzword&lt;/em&gt; para uma necessidade
real na vida dos profissionais foi a diminuição do &lt;em&gt;overhead&lt;/em&gt; na criação de
ambientes virtuais. Hoje, uma porção de ferramentas é capaz de realizar essa
operação de maneira muito fácil.&lt;/p&gt;
&lt;p&gt;Entre essas ferramentas está o &lt;em&gt;Vagrant&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;Quanto mais perto de produção, melhor&lt;/h2&gt;
&lt;p&gt;Por quê? Por que usar &lt;em&gt;Vagrant&lt;/em&gt;? Por que adicionar essa complexidade na minha
&lt;em&gt;stack&lt;/em&gt; de desenvolvimento?&lt;/p&gt;
&lt;p&gt;Quem utiliza &lt;a href=&quot;/2011/03/07/diferentes-ambientes.html&quot;&gt;mais de um ambiente&lt;/a&gt;
(como &lt;em&gt;dev&lt;/em&gt;, &lt;em&gt;qa&lt;/em&gt;, &lt;em&gt;staging&lt;/em&gt;, etc) defende que
eles servem como &quot;peneiras&quot; para pegarmos eventuais &lt;em&gt;bugs&lt;/em&gt; e problemas de
integração de código.&lt;/p&gt;
&lt;p&gt;Você já deve ter se deparado com o famoso problema &quot;works on my machine&quot;:
Instalou aquela dependência que resolve a sua vida, mas quando sobe para algum
ambiente ela simplesmente não funciona.&lt;/p&gt;
&lt;p&gt;Ter um ambiente muito próximo de produção disponível para você em tempo de
desenvolvimento pode ser uma excelente ideia para economizar tempo, otimizar
processos, e lhe dar segurança para fazer aquela subida de código em plena
sexta-feira.&lt;/p&gt;
&lt;h2&gt;Vagrant FTW&lt;/h2&gt;
&lt;p&gt;Segundo o &lt;a href=&quot;https://en.wikipedia.org/wiki/Vagrant_%28software%29&quot; title=&quot;Leia sobre Vagrant&quot;&gt;&lt;em&gt;Wikipedia&lt;/em&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Vagrant is computer software that creates and configures virtual development environments. It can be seen as a higher-level wrapper around virtualization software such as VirtualBox, VMware, KVM and Linux Containers (LXC), and around configuration management software such as Ansible, Chef, Salt, and Puppet.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;É isso mesmo o que você leu! O &lt;em&gt;Vagrant&lt;/em&gt; é uma ferramenta que serve como uma
&quot;cola&quot; entre a sua máquina &lt;em&gt;VirtualBox&lt;/em&gt; e o seu provisionamento por &lt;em&gt;Puppet&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Nesse &lt;em&gt;blog&lt;/em&gt;, eu uso o &lt;em&gt;Vagrant&lt;/em&gt; para simular o meu ambiente de produção da
&lt;em&gt;Digital Ocean&lt;/em&gt;, composto por uma máquina &lt;em&gt;Ubuntu Linux&lt;/em&gt; com &lt;a href=&quot;/tag/nginx.html&quot; title=&quot;Leia mais sobre NGINX&quot;&gt;&lt;em&gt;Nginx&lt;/em&gt;&lt;/a&gt;,
provisionada através de &lt;em&gt;Salt Stack&lt;/em&gt;. O meu &lt;code class=&quot;language-text&quot;&gt;Vagrantfile&lt;/code&gt; ficou &lt;a href=&quot;https://raw.githubusercontent.com/kplaube/blog/master/Vagrantfile&quot; title=&quot;Veja no GitHub&quot;&gt;assim&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ruby&quot;&gt;&lt;pre class=&quot;language-ruby&quot;&gt;&lt;code class=&quot;language-ruby&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# Vagrantfile API/syntax version. Don&apos;t touch unless you know what you&apos;re doing!&lt;/span&gt;
&lt;span class=&quot;token constant&quot;&gt;VAGRANTFILE_API_VERSION&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2&quot;&lt;/span&gt;

&lt;span class=&quot;token constant&quot;&gt;Vagrant&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;configure&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;VAGRANTFILE_API_VERSION&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;config&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;
  config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;vm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;box &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ubuntu1210-64&quot;&lt;/span&gt;
  config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;vm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;box_url &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://github.com/downloads/roderik/VagrantQuantal64Box/quantal64.box&quot;&lt;/span&gt;

  config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;vm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;network &lt;span class=&quot;token symbol&quot;&gt;:forwarded_port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; guest&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; host&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8080&lt;/span&gt;
  config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;vm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;synced_folder &lt;span class=&quot;token string&quot;&gt;&quot;salt/roots/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/srv/salt/&quot;&lt;/span&gt;

  config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;vm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;provision &lt;span class=&quot;token symbol&quot;&gt;:salt&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;salt&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;

    salt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;minion_config &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;salt/minion&quot;&lt;/span&gt;
    salt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;run_highstate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
    salt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;verbose &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;end&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Quer entender o que está acontecendo no exemplo acima? A documentação de &lt;a href=&quot;https://docs.vagrantup.com/v2/getting-started/index.html&quot; title=&quot;Leia a documentação do Vagrant&quot;&gt;&lt;em&gt;Getting started&lt;/em&gt; do &lt;em&gt;Vagrant&lt;/em&gt;&lt;/a&gt;
é uma excelente dica para começar. Engloba desde a instalação até o provisionamento.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 600px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7010f93865b5b510f43f79b126ff8a6c/b4294/the-vagrant.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgX/xAAWAQEBAQAAAAAAAAAAAAAAAAACAQP/2gAMAwEAAhADEAAAAcqkNLQBc//EABsQAAIBBQAAAAAAAAAAAAAAAAABEQIDEDFB/9oACAEBAAEFArbg4U7bnH//xAAWEQADAAAAAAAAAAAAAAAAAAABEDH/2gAIAQMBAT8BEX//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAABEAARITH/2gAIAQEABj8CO1OIP//EABwQAAICAgMAAAAAAAAAAAAAAAABESEQUTFhof/aAAgBAQABPyHTD9IUMLK7Il7Hyf/aAAwDAQACAAMAAAAQSz//xAAWEQEBAQAAAAAAAAAAAAAAAAAAATH/2gAIAQMBAT8Qkuv/xAAWEQADAAAAAAAAAAAAAAAAAAABEDH/2gAIAQIBAT8QNX//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMVFxgZGh/9oACAEBAAE/EDBajOL0SvsoThu6zLfUIhpFxLNhU+Isu5//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Não é desse Vagrant que estamos falando... (deathsdoormatt.com)&amp;quot;&quot;
        title=&quot;Não é desse Vagrant que estamos falando... (deathsdoormatt.com)&quot;
        src=&quot;/static/7010f93865b5b510f43f79b126ff8a6c/b4294/the-vagrant.jpg&quot;
        srcset=&quot;/static/7010f93865b5b510f43f79b126ff8a6c/7809d/the-vagrant.jpg 192w,
/static/7010f93865b5b510f43f79b126ff8a6c/4ecad/the-vagrant.jpg 384w,
/static/7010f93865b5b510f43f79b126ff8a6c/b4294/the-vagrant.jpg 600w&quot;
        sizes=&quot;(max-width: 600px) 100vw, 600px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Não é desse Vagrant que estamos falando... (deathsdoormatt.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;O &lt;a href=&quot;http://saltstack.com/&quot; title=&quot;Conheça o SaltStack&quot;&gt;&lt;em&gt;Salt Stack&lt;/em&gt;&lt;/a&gt; é uma excelente
ferramenta de provisionamento escrita em &lt;a href=&quot;/tag/python.html&quot; title=&quot;Leia mais sobre Python&quot;&gt;&lt;em&gt;Python&lt;/em&gt;&lt;/a&gt;. Vale muito a pena conhecer.&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;Além da vantagem de ter um ambiente próximo de produção disponível para você em
tempo de desenvolvimento, com o &lt;em&gt;Vagrant&lt;/em&gt; temos uma segunda vantagem: Quando um
novo integrante fazer parte do seu time, basta ele clonar o projeto e dar
um &lt;code class=&quot;language-text&quot;&gt;vagrant up&lt;/code&gt;. Pronto! O ambiente levanta-se em uma máquina virtual, e é
provisionado sem necessidade de intervenção humana.&lt;/p&gt;
&lt;p&gt;Existem toneladas de artigos na &lt;em&gt;Web&lt;/em&gt; sobre o &lt;em&gt;Vagrant&lt;/em&gt;. O &lt;a href=&quot;http://simplesideias.com.br/usando-o-vagrant-como-ambiente-de-desenvolvimento-no-windows&quot; title=&quot;Leia o artigo no SimplesIdeias&quot;&gt;Usando o Vagrant como ambiente de desenvolvimento no Windows&lt;/a&gt;, do &lt;strong&gt;Simples Ideias&lt;/strong&gt; e &lt;a href=&quot;http://flaviosilveira.com/2012/vagrant-facil-e-util/&quot; title=&quot;Leia no blog do Flavio&quot;&gt;Vagrant: Fácil E útil&lt;/a&gt; do &lt;strong&gt;Flávio Silveira&lt;/strong&gt; são duas boas referências para quem está iniciando.&lt;/p&gt;
&lt;p&gt;Nos próximos &lt;em&gt;posts&lt;/em&gt; pretendo dar uma pincelada no &lt;em&gt;Salt Stack&lt;/em&gt; e &lt;em&gt;Ansible&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Até a próxima.&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;&lt;a href=&quot;http://saltstack.com/&quot; title=&quot;Conheça o Salt Stack&quot;&gt;SaltStack - Automation for CloudOps&lt;/a&gt;&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;a href=&quot;https://www.vagrantup.com/&quot; title=&quot;Conheça o Vagrant&quot;&gt;Vagrant - Development environments made easy&lt;/a&gt;&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Vagrant_%28software%29&quot; title=&quot;Leia mais no Wikipedia&quot;&gt;&lt;em&gt;Wikipedia - Vagrant (software)&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Entendendo o CGI, FastCGI e WSGI]]></title><description><![CDATA[Pelos vários anos que programei com o PHP e Apache,
nunca precisei me preocupar com o que acontecia entre esses dois. Para
mim, era tudo uma “mágica” maravilhosa, que entregava as minhas páginas
web de forma dinâmica. Era uma troca justa: Eles não me traziam
preocupação, logo, eu não me preocupava…]]></description><link>https://klauslaube.com.br/2012/11/02/entendendo-o-cgi-fastcgi-e-wsgi.html</link><guid isPermaLink="false">https://klauslaube.com.br/2012/11/02/entendendo-o-cgi-fastcgi-e-wsgi.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Fri, 02 Nov 2012 15:09:19 GMT</pubDate><content:encoded>&lt;p&gt;Pelos vários anos que programei com o &lt;a href=&quot;/tag/php.html&quot; title=&quot;Conheça mais sobre o Hypertext PreProcessor&quot;&gt;&lt;em&gt;PHP&lt;/em&gt;&lt;/a&gt; e &lt;em&gt;Apache&lt;/em&gt;,
nunca precisei me preocupar com o que acontecia entre esses dois. Para
mim, era tudo uma “mágica” maravilhosa, que entregava as minhas páginas
&lt;a href=&quot;/tag/desenvolvimento-web.html&quot; title=&quot;Leia mais sobre Web&quot;&gt;&lt;em&gt;web&lt;/em&gt;&lt;/a&gt; de forma dinâmica. Era uma troca justa: Eles não me traziam
preocupação, logo, eu não me preocupava.&lt;/p&gt;
&lt;p&gt;Com o passar do tempo, o uso do &lt;a href=&quot;/2011/12/19/nginx-poderoso-rapido-facil.html&quot; title=&quot;Conheça o Nginx&quot;&gt;&lt;em&gt;Nginx&lt;/em&gt;&lt;/a&gt; e a necessidade de aprender
&lt;a href=&quot;/tag/python.html&quot; title=&quot;Leia mais sobre Python&quot;&gt;&lt;em&gt;Python&lt;/em&gt;&lt;/a&gt;, comecei a me deparar com o famoso &lt;code class=&quot;language-text&quot;&gt;cgi-bin&lt;/code&gt;, e
entender que os truques que o &lt;a href=&quot;http://stackoverflow.com/questions/2712825/what-is-mod-php&quot; title=&quot;Não conhece o módulo do PHP para o Apache?&quot;&gt;&lt;strong&gt;mod_php&lt;/strong&gt;&lt;/a&gt; ocultava iam muito além
do que eu imaginava.&lt;/p&gt;
&lt;h2&gt;O Common Gateway Interface&lt;/h2&gt;
&lt;p&gt;De um modo bem simples, podemos dizer que o &lt;em&gt;Common Gateway Interface&lt;/em&gt; é
um “acordo” entre os servidores &lt;a href=&quot;/tag/http.html&quot; title=&quot;Leia mais sobre HTTP&quot;&gt;&lt;em&gt;HTTP&lt;/em&gt;&lt;/a&gt; e as aplicações &lt;em&gt;web&lt;/em&gt;. Por
baixo dos panos, o servidor &lt;em&gt;web&lt;/em&gt; vai informar uma série de parâmetros
para o seu programa, e é dever do seu programa entregar uma resposta
“bem formada” para o servidor &lt;em&gt;web&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Isso quer dizer que, para o &lt;em&gt;CGI&lt;/em&gt;, não importa qual linguagem ou banco
de dados o seu programa está usando. Para ele, importa a passagem dos
parâmetros e a resposta. Logo, é perfeitamente possível desenvolvermos
nossas páginas até mesmo com a linguagem &lt;em&gt;C&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;#&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;stdio.h&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; argc&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;argv&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Content-type:text/html\n\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&amp;lt;html&gt;\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&amp;lt;body bgcolor=\&quot;%s\&quot;&gt;\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; argv&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&amp;lt;/body&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&amp;lt;/html&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Basta compilar o código acima, jogar no &lt;code class=&quot;language-text&quot;&gt;cgi-bin&lt;/code&gt; do seu &lt;em&gt;Apache&lt;/em&gt;, e
você verá a flexibilidade do protocolo em ação. Neste exemplo, acessando
nosso programa através da &lt;em&gt;URL&lt;/em&gt; &lt;code class=&quot;language-text&quot;&gt;http://localhost/cgi-bin/exemplo?red&lt;/code&gt;
(por exemplo), veremos apenas uma página com o fundo vermelho. Mas é
importante reparar que, o parâmetro passado na URL (&lt;code class=&quot;language-text&quot;&gt;?red&lt;/code&gt;) está acessível através do
&lt;code class=&quot;language-text&quot;&gt;argv&lt;/code&gt;, ou seja, o protocolo está passando para o nosso programa os
parâmetros através da &lt;code class=&quot;language-text&quot;&gt;STDIN&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Através da &lt;code class=&quot;language-text&quot;&gt;STDOUT&lt;/code&gt;, estamos respondendo ao &lt;em&gt;Apache&lt;/em&gt; utilizando de
artifícios do protocolo. A nossa mensagem é composta por um cabeçalho
informando o tipo da mensagem e o conteúdo. Neste exemplo, trata-se de
um &lt;em&gt;HTML&lt;/em&gt; extremamente simples, &lt;em&gt;James Marshall&lt;/em&gt; &lt;a href=&quot;http://www.jmarshall.com/easy/cgi/portuguese/getcgi.c.txt&quot; title=&quot;Veja outro exemplo de C com CGI&quot;&gt;escreveu um bom exemplo um pouco mais complexo utilizando a linguagem &lt;em&gt;C&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Outro comportamento fundamental do &lt;em&gt;CGI&lt;/em&gt; é a criação de variáveis de
ambiente. Variáveis que você já deve ter usado, como &lt;code class=&quot;language-text&quot;&gt;REMOTE_HOST&lt;/code&gt;,
&lt;code class=&quot;language-text&quot;&gt;REMOTE_ADDR&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;REQUEST_METHOD&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;QUERY_STRING&lt;/code&gt;, são
preenchidas pelo servidor &lt;em&gt;Web&lt;/em&gt; e passadas ao seu programa através do
protocolo:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;#&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;stdio.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;#&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;stdlib.h&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; argc&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;argv&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;addr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;method&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;query_string&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    addr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getenv&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;REMOTE_ADDR&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    method &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getenv&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;REQUEST_METHOD&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    query_string &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getenv&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;QUERY_STRING&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Content-type:text/html\n\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Remote address: %s&amp;lt;br/&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; addr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Method: %s&amp;lt;br/&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; method&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Query string: %s&amp;lt;br/&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; query_string&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;O FastCGI&lt;/h2&gt;
&lt;p&gt;O &lt;em&gt;FastCGI&lt;/em&gt; segue o mesmo princípio do &lt;em&gt;CGI&lt;/em&gt;, mas possui uma série de
particularidades (e vantagens) em relação ao seu “primogênito”. Para
compreender a diferença entre eles, vamos analisar o ciclo de vida de
uma requisição utilizando o &lt;em&gt;CGI&lt;/em&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A cada requisição, o servidor &lt;em&gt;web&lt;/em&gt; &lt;strong&gt;cria um novo processo&lt;/strong&gt;;&lt;/li&gt;
&lt;li&gt;Através deste processo, o servidor &lt;em&gt;web&lt;/em&gt; passa informações para o
“programa &lt;em&gt;CGI&lt;/em&gt;“ utilizando &lt;strong&gt;variáveis de ambiente&lt;/strong&gt;;&lt;/li&gt;
&lt;li&gt;O servidor &lt;em&gt;web&lt;/em&gt; também passa qualquer &lt;em&gt;input&lt;/em&gt; de dados do usuário
através da &lt;strong&gt;&lt;em&gt;STDIN&lt;/em&gt;&lt;/strong&gt;;&lt;/li&gt;
&lt;li&gt;O programa retorna uma saída ao servidor &lt;em&gt;web&lt;/em&gt; através do protocolo
&lt;em&gt;CGI&lt;/em&gt; (utilizando a &lt;strong&gt;&lt;em&gt;STDOUT&lt;/em&gt;&lt;/strong&gt;);&lt;/li&gt;
&lt;li&gt;Quando o &lt;strong&gt;programa acabar&lt;/strong&gt;, a requisição é finalizada.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Em um cenário com poucas requisições, este fluxo atende perfeitamente.
Os problemas começam a aparecer quando temos que lidar com &lt;strong&gt;alto
consumo&lt;/strong&gt; (algo comum hoje em dia, mas nem tão comum quando conceberam o
protocolo &lt;em&gt;CGI&lt;/em&gt;). Dentre os principais problemas, temos:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Criar e destruir um processo a cada requisição aumenta o &lt;em&gt;load&lt;/em&gt; do
seu servidor, o que fatalmente degrada performance;&lt;/li&gt;
&lt;li&gt;Não há reúso de recursos, como conexões com banco de dados e
&lt;em&gt;caches&lt;/em&gt; em memória (já que a cada nova requisição é iniciado um
novo processo);&lt;/li&gt;
&lt;li&gt;Não é trivial separar a sua aplicação do seu servidor &lt;em&gt;Web&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Foi pensando em performance e escalabilidade que o &lt;em&gt;FastCGI&lt;/em&gt; foi criado.
Ao contrário do &lt;em&gt;CGI&lt;/em&gt;, ele utiliza “processos persistentes”, onde o
servidor &lt;em&gt;web&lt;/em&gt; é capaz de iniciar um processo que responde a uma série
de requisições. Além disso, ele usa &lt;a href=&quot;http://pt.wikipedia.org/wiki/Multiplexador&quot; title=&quot;Leia mais sobre Multiplexadores na Wikipedia&quot;&gt;multiplexação&lt;/a&gt; para transmitir e
receber informações dentro de uma única conexão, que pode ser um
&lt;em&gt;socket&lt;/em&gt; ou uma conexão &lt;em&gt;TCP&lt;/em&gt;. Desse modo, você pode ter o seu servidor
&lt;em&gt;web&lt;/em&gt; e o seu processo &lt;em&gt;FastCGI&lt;/em&gt; em máquinas diferentes.&lt;/p&gt;
&lt;p&gt;O ciclo de vida de uma requisição &lt;em&gt;FastCGI&lt;/em&gt;, é basicamente composto por:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;O servidor &lt;em&gt;web&lt;/em&gt; &lt;strong&gt;cria um processo &lt;em&gt;FastCGI&lt;/em&gt;&lt;/strong&gt; para receber
requisições;&lt;/li&gt;
&lt;li&gt;A sua aplicação é inicializada, e &lt;strong&gt;aguarda por uma nova conexão&lt;/strong&gt;
vinda do servidor &lt;em&gt;web&lt;/em&gt;;&lt;/li&gt;
&lt;li&gt;Quando o cliente envia uma requisição, o servidor &lt;em&gt;web&lt;/em&gt; abre uma
&lt;strong&gt;conexão com o processo &lt;em&gt;FastCGI&lt;/em&gt;&lt;/strong&gt;. O servidor envia as variáveis
de ambiente e entradas de dados através desta conexão;&lt;/li&gt;
&lt;li&gt;O processo &lt;em&gt;FastCGI&lt;/em&gt; retorna a &lt;strong&gt;saída através desta mesma
conexão&lt;/strong&gt;;&lt;/li&gt;
&lt;li&gt;O processo &lt;em&gt;FastCGI&lt;/em&gt; fecha a conexão, e a &lt;strong&gt;requisição é
concluída&lt;/strong&gt;, porém, o &lt;strong&gt;processo fica “vivo”&lt;/strong&gt;, esperando por outra
requisição do servidor &lt;em&gt;web&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;É claro que para atingir este resultado, aplicações &lt;em&gt;FastCGI&lt;/em&gt; possuem
uma arquitetura mais “rebuscada” que aplicações &lt;em&gt;CGI&lt;/em&gt;. Por exemplo, para
suportar a &lt;a href=&quot;http://www.nongnu.org/fastcgi/#multiplexing&quot; title=&quot;The wonders of multiplexing&quot;&gt;multiplexação&lt;/a&gt;, o servidor &lt;em&gt;web&lt;/em&gt; e o processo &lt;em&gt;FastCGI&lt;/em&gt;
se comunicam através de mensagens. Nestas mensagens (&lt;code class=&quot;language-text&quot;&gt;BEGIN_REQUEST&lt;/code&gt;,
&lt;code class=&quot;language-text&quot;&gt;ABORT_REQUEST&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;END_REQUEST&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;PARAMS&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;STDIN&lt;/code&gt; e
&lt;code class=&quot;language-text&quot;&gt;STDOUT&lt;/code&gt;) possuímos um cabeçalho chamado &lt;code class=&quot;language-text&quot;&gt;Request ID&lt;/code&gt;, que é
responsável por identificar a qual requisição o pacote pertence.&lt;/p&gt;
&lt;p&gt;Essa mudança de arquitetura acaba influenciando na escrita das
aplicações &lt;em&gt;web&lt;/em&gt;, trazendo alterações marcantes em comparação aos
programas escritos para o bom e velho &lt;em&gt;CGI&lt;/em&gt;. Por exemplo, você terá que
&lt;a href=&quot;http://redmine.lighttpd.net/projects/1/wiki/Docs_ModFastCGI#FastCGI-and-Programming-Languages&quot; title=&quot;Lighttp - the FastCGI Interface&quot;&gt;recompilar o seu &lt;em&gt;PHP&lt;/em&gt;&lt;/a&gt; com a &lt;em&gt;flag&lt;/em&gt; &lt;code class=&quot;language-text&quot;&gt;—enable-fast-cgi&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;O site oficial do &lt;em&gt;FastCGI&lt;/em&gt; possui um bom exemplo de implementação de
uma &lt;a href=&quot;http://www.fastcgi.com/devkit/doc/fastcgi-prog-guide/ch2c.htm&quot; title=&quot;Developing FastCGI Applications in C&quot;&gt;aplicação em &lt;em&gt;C&lt;/em&gt; com &lt;em&gt;FastCGI&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;O Web Server Gateway Interface&lt;/h2&gt;
&lt;p&gt;No universo &lt;em&gt;Python&lt;/em&gt; começaram a aparecer diferentes formas de
comunicação entre servidor e aplicação, seja com &lt;em&gt;CGI&lt;/em&gt;, &lt;em&gt;FastCGI&lt;/em&gt;, &lt;a href=&quot;http://www.modpython.org/&quot; title=&quot;Leia mais sobre o mod_python&quot;&gt;&lt;em&gt;mod
python&lt;/em&gt;&lt;/a&gt; ou até mesmo com &lt;em&gt;APIs&lt;/em&gt; próprias e não padronizadas. Isso
acarretou no seguinte cenário: A escolha de um &lt;em&gt;framework&lt;/em&gt; influenciava
diretamente na escolha do servidor &lt;em&gt;web&lt;/em&gt;, e geralmente o &lt;em&gt;framework&lt;/em&gt;
escolhido era “incompatível” com os demais disponíveis para uso.&lt;/p&gt;
&lt;p&gt;O &lt;em&gt;WSGI&lt;/em&gt; é uma &lt;a href=&quot;http://www.python.org/dev/peps/pep-0333/&quot; title=&quot;Leia a PEP 333, especificação do WSGI&quot;&gt;especificação&lt;/a&gt; que tem por objetivo garantir que o
desenvolvedor da aplicação não se preocupe com qual servidor &lt;em&gt;web&lt;/em&gt; será
escolhido, bem como o profissional responsável pelo servidor &lt;em&gt;web&lt;/em&gt; não
se preocupe com a arquitetura escolhida pela aplicação. Uma forma
“universal” de proporcionar interoperabilidade entre servidores e
aplicações escritas em &lt;em&gt;Python&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Veja um exemplo de &lt;em&gt;script Python&lt;/em&gt; utilizando o protocolo &lt;em&gt;CGI&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;#!/usr/bin/python&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; os &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; environ


&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Content-Type: text/html\n\n&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&amp;lt;html&gt;&amp;lt;body&gt;Hello %s!&amp;lt;/body&gt;&amp;lt;/html&gt;&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; environ&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;REMOTE_ADDR&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Seguindo a especificação do &lt;em&gt;WSGI&lt;/em&gt;, devemos servir nossa aplicação da
seguinte maneira:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;#!/usr/bin/python&lt;/span&gt;


&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;environ&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; start_response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    start_response&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;200 OK&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Content-Type&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;text/html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;html&gt;&amp;lt;body&gt;Hello %s&amp;lt;/body&gt;&amp;lt;/html&gt;&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; environ&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;REMOTE_ADDR&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Encapsulamos a nossa entrega em uma função chamada &lt;code class=&quot;language-text&quot;&gt;application&lt;/code&gt;, e
nela possuímos dois parâmetros: &lt;code class=&quot;language-text&quot;&gt;environ&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;start_response&lt;/code&gt;. O
primeiro é responsável por informar quais as variáveis ambientais que
temos à nossa disposição. O segundo, nomeado como &lt;code class=&quot;language-text&quot;&gt;start_response&lt;/code&gt;, é
na verdade uma função de &lt;em&gt;callback&lt;/em&gt; onde informamos o &lt;em&gt;status code&lt;/em&gt; e
demais cabeçalhos para resposta.&lt;/p&gt;
&lt;p&gt;Por fim, retornamos ao servidor &lt;em&gt;web&lt;/em&gt; o nosso &lt;a href=&quot;/tag/html.html&quot; title=&quot;Leia mais sobre HTML&quot;&gt;&lt;em&gt;HTML&lt;/em&gt;&lt;/a&gt;. O servidor
&lt;em&gt;web&lt;/em&gt; pode “iterar” sobre a aplicação, retornando conteúdo ao usuário
conforme a aplicação for retornando conteúdo para ele. Neste caso,
utilizamos na resposta um tipo &lt;a href=&quot;http://docs.python.org/2/library/stdtypes.html#sequence-types-str-unicode-list-tuple-bytearray-buffer-xrange&quot; title=&quot;Leia sobre tipos sequenciais no Python&quot;&gt;sequencial&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Agora somos capazes de servir a aplicação através de &lt;em&gt;CGI&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; wsgiref&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;handlers &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; CGIHandler

CGIHandler&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;run&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;application&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;E até mesmo &lt;em&gt;FastCGI&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; flup&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;server&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fcgi &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; WSGIServer

WSGIServer&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;application&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;run&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A biblioteca &lt;a href=&quot;http://docs.python.org/2/library/wsgiref.html&quot; title=&quot;Saiba mais direto da documentação do Python&quot;&gt;&lt;em&gt;wsgiref&lt;/em&gt;&lt;/a&gt; implementa as especificações do &lt;em&gt;WSGI&lt;/em&gt; e
provê ferramentas para a comunicação entre servidores e aplicações. No
segundo exemplo utilizamos a &lt;a href=&quot;http://trac.saddi.com/flup&quot; title=&quot;Saiba mais sobre&quot;&gt;&lt;em&gt;flup&lt;/em&gt;&lt;/a&gt;, uma biblioteca com algumas
soluções &lt;em&gt;WSGI&lt;/em&gt;, incluindo a possibilidade de servir aplicações
&lt;em&gt;FastCGI&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Com esse “código de cola”, basta &lt;a href=&quot;http://docs.python.org/2/howto/webservers.html&quot; title=&quot;HOWTO Use Python in the web&quot;&gt;configurar o seu servidor &lt;em&gt;Web&lt;/em&gt;&lt;/a&gt;
favorito para servir a sua aplicação.&lt;/p&gt;
&lt;h3&gt;mod_wsgi&lt;/h3&gt;
&lt;p&gt;Uma vez construída a interface para a sua aplicação através do padrão
&lt;em&gt;WSGI&lt;/em&gt;, você pode serví-la em um servidor &lt;em&gt;Apache&lt;/em&gt; através do
&lt;a href=&quot;http://code.google.com/p/modwsgi/&quot; title=&quot;Página do módulo no Google Code&quot;&gt;mod_wsgi&lt;/a&gt;. Existem soluções equivalentes para outros servidores,
como por exemplo, no &lt;a href=&quot;http://klauslaube.com.br/tags/nginx/&quot; title=&quot;Leia mais sobre Nginx&quot;&gt;&lt;em&gt;Nginx&lt;/em&gt;&lt;/a&gt; temos o &lt;a href=&quot;http://wiki.nginx.org/NgxWSGIModule&quot; title=&quot;Veja mais na documentação do Nginx&quot;&gt;&lt;em&gt;NgxWSGIModule&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Com o &lt;em&gt;mod&lt;/em&gt;wsgi&lt;em&gt;, você não precisa de nenhum “código de cola” (como
apresentado nos exemplos de _CGI&lt;/em&gt; e &lt;em&gt;FastCGI&lt;/em&gt;), basta &lt;a href=&quot;http://code.google.com/p/modwsgi/wiki/QuickConfigurationGuide&quot; title=&quot;Veja instruções para configurar o Apache com mod_wsgi&quot;&gt;configurar o seu &lt;em&gt;Apache&lt;/em&gt;&lt;/a&gt;
e apontar o seu script &lt;em&gt;WSGI&lt;/em&gt; através da instrução &lt;code class=&quot;language-text&quot;&gt;WSGIScriptAlias&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;VirtualHost *:80&amp;gt;

    ServerName www.example.com
    ServerAlias example.com
    ServerAdmin webmaster@example.com

    DocumentRoot /usr/local/www/documents

    Alias /robots.txt /usr/local/www/documents/robots.txt
    Alias /favicon.ico /usr/local/www/documents/favicon.ico

    Alias /media/ /usr/local/www/documents/media/

    &amp;lt;Directory /usr/local/www/documents&amp;gt;
    Order allow,deny
    Allow from all
    &amp;lt;/Directory&amp;gt;

    WSGIScriptAlias / /usr/local/www/wsgi-scripts/wsgi.py

    &amp;lt;Directory /usr/local/www/wsgi-scripts&amp;gt;
    Order allow,deny
    Allow from all
    &amp;lt;/Directory&amp;gt;

&amp;lt;/VirtualHost&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Uma particularidade do mod_wsgi é a escolha de execução no modo
&lt;code class=&quot;language-text&quot;&gt;daemon&lt;/code&gt;, que opera de uma forma &lt;a href=&quot;http://code.google.com/p/modwsgi/#Server_Performance&quot; title=&quot;Leia mais sobre performance com mod_wsgi&quot;&gt;similar ao esquema utilizado pelo
&lt;em&gt;FastCGI&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Servidores WSGI&lt;/h3&gt;
&lt;p&gt;Você pode utilizar servidores especialmente escritos para servir as suas
aplicações &lt;em&gt;WSGI&lt;/em&gt;, como por exemplo o &lt;a href=&quot;http://gunicorn.org/&quot; title=&quot;Veja mais sobre este servidor WSGI&quot;&gt;&lt;em&gt;Gunicorn&lt;/em&gt;&lt;/a&gt;, o &lt;a href=&quot;http://projects.unbit.it/uwsgi/&quot; title=&quot;Um rápido servidor WSGI escrito em C&quot;&gt;&lt;em&gt;uWSGI&lt;/em&gt;&lt;/a&gt; ou
até mesmo o &lt;a href=&quot;http://www.tornadoweb.org/documentation/wsgi.html&quot; title=&quot;Saiba mais sobre o suporte do Tornado ao WSGI&quot;&gt;&lt;em&gt;Tornado&lt;/em&gt;&lt;/a&gt;. Além da versatilidade e performance, a
facilidade é outra característica marcante em muitas dessas ferramentas:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ gunicorn -w 4 -b 127.0.0.1:5000 wsgi:application&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;No exemplo acima, levantamos o &lt;em&gt;Gunicorn&lt;/em&gt; na &lt;code class=&quot;language-text&quot;&gt;porta 5000&lt;/code&gt;, e
reservamos &lt;code class=&quot;language-text&quot;&gt;4 workers&lt;/code&gt; para servir a nossa aplicação.&lt;/p&gt;
&lt;p&gt;Além de diminuirmos a carga do servidor &lt;em&gt;web&lt;/em&gt;, e ganharmos um controle
mais apurado de memória e processos, ganhamos também o uso de &lt;em&gt;workers&lt;/em&gt;.
Por exemplo, o &lt;em&gt;Gunicorn&lt;/em&gt; trabalha com &lt;em&gt;pre-fork&lt;/em&gt; de &lt;em&gt;workers&lt;/em&gt;, onde um
processo “master” gerencia um conjunto de processos que são de fato os
responsáveis por servir a sua aplicação. Ganhamos mais uma ferramenta de
baixo custo para lidar com concorrência.&lt;/p&gt;
&lt;p&gt;Servidores &lt;em&gt;WSGI&lt;/em&gt; conseguem servir as aplicações sem o auxílio de um
&lt;em&gt;Apache&lt;/em&gt; ou &lt;em&gt;Nginx&lt;/em&gt;, mas uma prática muito comum hoje em dia é, “na
frente” de um &lt;em&gt;Gunicorn&lt;/em&gt; (por exemplo), termos um &lt;em&gt;Nginx&lt;/em&gt; servindo
estáticos, fazendo &lt;em&gt;caching&lt;/em&gt; e “aguentando porrada”, enquanto que o
servidor &lt;em&gt;WSGI&lt;/em&gt; está totalmente focado em servir o conteúdo dinâmico. O
servidor &lt;em&gt;web&lt;/em&gt; acaba fazendo uma espécie de &lt;a href=&quot;http://pt.wikipedia.org/wiki/Proxy_reverso&quot; title=&quot;Leia mais sobre Proxy Reverso na Wikipedia&quot;&gt;&lt;em&gt;proxy&lt;/em&gt; reverso&lt;/a&gt; e até
mesmo servindo como &lt;a href=&quot;http://wiki.nginx.org/LoadBalanceExample&quot; title=&quot;Veja exemplo de uso do Nginx como balanceador&quot;&gt;balanceador&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;A comunicação entre servidores pode ser feita via &lt;em&gt;TCP&lt;/em&gt; ou &lt;em&gt;socket&lt;/em&gt;.
Isso nos dá uma série de vantagens, que vão desde a facilidade em
&lt;a href=&quot;http://docs.gunicorn.org/en/latest/design.html#how-many-workers&quot; title=&quot;Veja como utilizar workers com Gunicorn&quot;&gt;escalar&lt;/a&gt; e distribuir, até o &lt;em&gt;restart&lt;/em&gt; individual de serviços (por
exemplo, se a sua aplicação travar, você pode reiniciar apenas o
servidor &lt;em&gt;WSGI&lt;/em&gt; e não perder o &lt;em&gt;caching&lt;/em&gt; do servidor &lt;em&gt;web&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;Um exemplo muito interessante de uso de servidores &lt;em&gt;WSGI&lt;/em&gt; é fazendo
&lt;a href=&quot;https://devcenter.heroku.com/articles/python#using-a-different-wsgi-server&quot; title=&quot;Using a different WSGI server - Heroku&quot;&gt;&lt;em&gt;deploy&lt;/em&gt; de aplicações &lt;em&gt;Python&lt;/em&gt; para o &lt;em&gt;Heroku&lt;/em&gt;&lt;/a&gt;. Configurar um
servidor &lt;a href=&quot;http://mirobetm.blogspot.com.br/2012/03/ive-been-lighttpd-fastcgi-django-user.html&quot; title=&quot;Gunicorn + Nginx - a much better way to deploy your Django website&quot;&gt;&lt;em&gt;Nginx&lt;/em&gt; para se comunicar com servidores &lt;em&gt;WSGI&lt;/em&gt;&lt;/a&gt; também é
relativamente simples.&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;Um assunto muito interessante e que pretendo explorar mais aqui no
&lt;em&gt;blog&lt;/em&gt;, principalmente em relação a processos e &lt;em&gt;workers&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Servir aplicações &lt;em&gt;Python&lt;/em&gt; para a &lt;em&gt;web&lt;/em&gt; é algo relativamente simples,
limpo e elegante. Através do &lt;em&gt;WSGI&lt;/em&gt;, escalar aplicações passou a ser
algo quase trivial, que demanda pouco esforço. Combiná-los com o &lt;em&gt;Nginx&lt;/em&gt;
dão mais fôlego a sua aplicação (principalmente se estivermos falando do
&lt;em&gt;uWSGI&lt;/em&gt; ou &lt;a href=&quot;http://www.gevent.org/gevent.wsgi.html&quot; title=&quot;Servindo aplicações WSGI com gevent&quot;&gt;&lt;em&gt;gevent&lt;/em&gt;&lt;/a&gt;), e com um &lt;a href=&quot;http://puppetlabs.com/&quot; title=&quot;IT Automation Software for System Administrators&quot;&gt;sistema de provisionamento automático&lt;/a&gt;
podem facilitar e muito o seu trabalho de infraestrutura quando o consumo se tornar um problema.&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.djangoproject.com/en/dev/howto/deployment/fastcgi/&quot; title=&quot;Exemplo de uso do Django com FastCGI&quot;&gt;&lt;em&gt;Django Documentation – How to use Django with FastCGI, SCGI, or AJP&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.nongnu.org/fastcgi/&quot; title=&quot;Material muito interessante sobre o protocolo FastCGI e seu uso com C++&quot;&gt;&lt;em&gt;FastCGI – The Forgotten Treasure&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.fastcgi.com/drupal/node/6?q=node/15&quot; title=&quot;Um documento bem objetivo, detalhando os diferenciais em usar o FastCGI&quot;&gt;&lt;em&gt;FastCGI – A High-Performance Web Server Interface&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://gunicorn.org/&quot; title=&quot;Conheça o Gunicorn e descubra as vatangens de possuir um servidor WSGI&quot;&gt;&lt;em&gt;Gunicorn – Python WSGI HTTP Server for Unix&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.irt.org/articles/js172/&quot; title=&quot;Artigo de 1999 detalhando algumas características do CGI e do FastCGI&quot;&gt;&lt;em&gt;irt.org – Speed Thrills: CGI Please... and Fast!&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.jmarshall.com/easy/cgi/portuguese/&quot; title=&quot;Bom artigo, resumindo muito bem o funcionamento do CGI&quot;&gt;&lt;em&gt;James Marshal&lt;/em&gt; – &lt;em&gt;CGI&lt;/em&gt; realmente fácil&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://code.google.com/p/modwsgi/&quot; title=&quot;Veja a página oficial do projeto&quot;&gt;&lt;em&gt;modwsgi – Python WSGI adapter module for Apache&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.python.org/dev/peps/pep-0333/&quot; title=&quot;Leia a especificação direto do portal da linguagem Python&quot;&gt;&lt;em&gt;PEP 333 – Python Web Server Gateway Interface&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.python.org/howto/webservers.html&quot; title=&quot;Compreenda a diferença do uso do Python com CGI, FastCGI, mod_python, mod_wsgi e servidores WSGI&quot;&gt;&lt;em&gt;Python Documentation – HOWTO Use Python in the web&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.w3.org/CGI/&quot; title=&quot;Leia mais sobre a especificação do CGI&quot;&gt;&lt;em&gt;W3C – Common Gateway Interface&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Common_Gateway_Interface&quot; title=&quot;Leia mais no artigo da Wikipedia&quot;&gt;&lt;em&gt;Wikipedia – Common Gateway Interface&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/FastCGI&quot; title=&quot;Leia mais no artigo da Wikipedia&quot;&gt;&lt;em&gt;Wikipedia – FastCGI&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Web_Server_Gateway_Interface&quot; title=&quot;Leia mais no artigo da Wikipedia&quot;&gt;&lt;em&gt;Wikipedia – Web Server Gateway Interface&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.xml.com/pub/a/2006/09/27/introducing-wsgi-pythons-secret-web-weapon.html&quot; title=&quot;Artigo de 2006 explicando os principais benefícios do uso do WSGI&quot;&gt;&lt;em&gt;XML.com – Introducing WSGI: Python’s Secret Web Weapon&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[O cache e o HTTP]]></title><description><![CDATA[Em tempos de alta demanda, o cache pode tornar-se o melhor amigo das
aplicações web.
Através dele temos uma opção prática, acessível e barata para melhorar
performance, diminuir consumo de recursos e tempos de resposta. Qualquer
milissegundo economizado é um ponto a mais com o seu usuário, com os…]]></description><link>https://klauslaube.com.br/2012/05/14/o-cache-e-o-http.html</link><guid isPermaLink="false">https://klauslaube.com.br/2012/05/14/o-cache-e-o-http.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Mon, 14 May 2012 23:14:46 GMT</pubDate><content:encoded>&lt;p&gt;Em tempos de alta demanda, o &lt;strong&gt;&lt;em&gt;cache&lt;/em&gt;&lt;/strong&gt; pode tornar-se o melhor amigo das
aplicações &lt;a href=&quot;/tag/desenvolvimento-web.html&quot; title=&quot;Leia mais sobre Web&quot;&gt;&lt;em&gt;web&lt;/em&gt;&lt;/a&gt;.
Através dele temos uma opção prática, acessível e barata para melhorar
performance, diminuir consumo de recursos e tempos de resposta. Qualquer
milissegundo economizado é um ponto a mais com o seu usuário, com os
mecanismos de busca e com o seu serviço de hospedagem.&lt;/p&gt;
&lt;p&gt;Antes de falarmos de &lt;em&gt;cache&lt;/em&gt; em aplicações &lt;a href=&quot;/tag/django.html&quot; title=&quot;Leia mais sobre o Django&quot;&gt;&lt;em&gt;Django&lt;/em&gt;&lt;/a&gt; ou
&lt;a href=&quot;/tag/codeigniter.html&quot; title=&quot;Leia mais sobre Codeigniter&quot;&gt;&lt;em&gt;Codeigniter&lt;/em&gt;&lt;/a&gt;, acho interessante falarmos sobre o uso de &lt;em&gt;cache&lt;/em&gt; com
o protocolo &lt;em&gt;HTTP&lt;/em&gt;. Afinal, é esta a primeira camada a “atacar” quando
precisamos melhorar os tempos de resposta das nossas aplicações &lt;em&gt;web&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;O que é “caching”?&lt;/h2&gt;
&lt;p&gt;Segundo &lt;a href=&quot;http://betterexplained.com/articles/how-to-optimize-your-site-with-http-caching/&quot; title=&quot;How To Optimize Your Site With HTTP Caching&quot;&gt;&lt;em&gt;Kalid Azad&lt;/em&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Caching is a great example of the ubiquitous time-space tradeoff
in programming. You can save time by using space to store
results.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Basicamente, &lt;strong&gt;&lt;em&gt;caching&lt;/em&gt;&lt;/strong&gt; é o ato de “economizar processamento”
armazenando os seus resultados. Um bom exemplo é o temporário do seu
navegador, onde uma imagem que não teve alteração desde o momento do seu
&lt;em&gt;download&lt;/em&gt; é resgatada do seu disco e não da &lt;em&gt;internet&lt;/em&gt;. Uma tarefa mais
rápida e menos custosa.&lt;/p&gt;
&lt;p&gt;Logo, entendemos que o &lt;strong&gt;&lt;em&gt;cache&lt;/em&gt;&lt;/strong&gt; é um local em disco ou memória
utilizado para armazenar estes resultados. Ele pode se aplicar ao
&lt;em&gt;front-end&lt;/em&gt; (como ilustrado no exemplo acima), ou ao &lt;em&gt;back-end&lt;/em&gt;, através
dos servidores &lt;em&gt;web&lt;/em&gt;, como o &lt;em&gt;Apache&lt;/em&gt; e o &lt;a href=&quot;/2011/12/19/nginx-poderoso-rapido-facil.html&quot; title=&quot;Leia mais sobre Nginx&quot;&gt;&lt;em&gt;Nginx&lt;/em&gt;&lt;/a&gt;, ou através de
ferramentas mais específicas, como &lt;em&gt;Memcached&lt;/em&gt; e &lt;em&gt;Redis&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Assim como a definição de &lt;a href=&quot;/2012/04/05/entendendo-os-cookies-e-sessoes.html&quot; title=&quot;Entendendo os Cookies e Sessões&quot;&gt;&lt;em&gt;cookies&lt;/em&gt; e sessões&lt;/a&gt;, a utilização de
&lt;em&gt;cache&lt;/em&gt; nos navegadores &lt;em&gt;Web&lt;/em&gt; é feita através de informações
transmitidas pelo cabeçalho da requisição e resposta.&lt;/p&gt;
&lt;p&gt;Existem quatro tipos de cabeçalhos específicos para &lt;em&gt;cache&lt;/em&gt; em &lt;em&gt;HTTP&lt;/em&gt;.
Mas todos partem da premissa que o arquivo em questão (pode ser um
documento, imagem, &lt;em&gt;script&lt;/em&gt;, etc) já está armazenado no disco do
internauta, acessível ao navegador.&lt;/p&gt;
&lt;h2&gt;Last-Modified&lt;/h2&gt;
&lt;p&gt;Com o &lt;code class=&quot;language-text&quot;&gt;Last-Modified&lt;/code&gt;, o navegador informa ao servidor que irá baixar
um arquivo desde que a sua data de modificação seja diferente da data do
arquivo armazenado. Na requisição é passado o cabeçalho
&lt;code class=&quot;language-text&quot;&gt;If-Modified-Since&lt;/code&gt;, e se a data do arquivo no servidor for mais
recente, o navegador faz um novo &lt;em&gt;download&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Vamos fazer uma requisição tendo como resposta um cabeçalho
&lt;code class=&quot;language-text&quot;&gt;Last-Modified&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ curl -i -I http://klauslaube.com.br/media/blog/security.jpg

HTTP/1.1 200 OK
...
Date: Tue, 01 May 2012 19:20:27 GMT
Last-Modified: Sat, 07 Apr 2012 17:51:10 GMT
...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Uma vez que o arquivo esteja em disco, o navegador tem como informar a
data da última alteração. Então, fazemos uma nova requisição ao arquivo
&lt;code class=&quot;language-text&quot;&gt;security.jpg&lt;/code&gt;, passando esta data no cabeçalho &lt;code class=&quot;language-text&quot;&gt;If-Modified-Since&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ curl -i -H &amp;quot;If-Modified-Since: Sat, 07 Apr 2012 17:51:10 GMT&amp;quot; http://klauslaube.com.br/media/blog/security.jpg

HTTP/1.1 304 Not Modified
Date: Tue, 01 May 2012 19:22:00 GMT
Last-Modified: Sat, 07 Apr 2012 17:51:10 GMT&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A resposta &lt;code class=&quot;language-text&quot;&gt;304 Not Modified&lt;/code&gt; não traz o conteúdo do arquivo em seu
corpo, e é através desta resposta que o navegador sabe que não precisa
fazer o &lt;em&gt;download&lt;/em&gt; do arquivo, utilizando assim a versão que está em seu
&lt;em&gt;cache&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;ETag&lt;/h2&gt;
&lt;p&gt;O modo como a &lt;code class=&quot;language-text&quot;&gt;ETag&lt;/code&gt; funciona é bem parecido com o conceito do
&lt;code class=&quot;language-text&quot;&gt;Last-Modified&lt;/code&gt;. A diferença está no método de comparação: ao invés de
fazer comparações pela data, são realizadas comparações através de
identificadores únicos, atribuídos aos arquivos envolvidos nas
requisições.&lt;/p&gt;
&lt;p&gt;Quando trabalhamos com &lt;code class=&quot;language-text&quot;&gt;ETag&lt;/code&gt;, obtemos respostas com o seguinte
cabeçalho:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ curl -i -I http://localhost/exemplo-cache.html

HTTP/1.1 200 OK
...
Date: Tue, 01 May 2012 19:46:18 GMT
ETag: &amp;quot;2c6b0d8-13-4befe555d6f80&amp;quot;
...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;É através do valor &lt;code class=&quot;language-text&quot;&gt;2c6b0d8-13-4befe555d6f80&lt;/code&gt; que navegador e servidor
saberão se aquele arquivo em questão já está armazenado em &lt;em&gt;cache&lt;/em&gt;. Isso
é possível através do cabeçalho &lt;code class=&quot;language-text&quot;&gt;If-None-Match&lt;/code&gt;, enviado pelo
navegador na requisição:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ curl -i -I -H &amp;quot;If-None-Match: \&amp;quot;2c6b0d8-13-4befe555d6f80\&amp;quot;&amp;quot; http://localhost/exemplo-cache.html

HTTP/1.1 304 Not Modified
Date: Tue, 01 May 2012 19:50:40 GMT
ETag: &amp;quot;2c6b0d8-13-4befe555d6f80&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Uma vez que o valor bata com o identificador do arquivo, o servidor
informa ao navegador que não houve alterações. Então, o navegador
utiliza a versão do arquivo que está no temporário.&lt;/p&gt;
&lt;h2&gt;Expires&lt;/h2&gt;
&lt;p&gt;A grande desvantagem dos dois métodos acima é que necessitamos consultar
o servidor para verificar a procedência do arquivo. Com o &lt;code class=&quot;language-text&quot;&gt;Expires&lt;/code&gt; e
&lt;code class=&quot;language-text&quot;&gt;max-age&lt;/code&gt; a “data de validade” vem junto com a requisição, logo, o
navegador já sabe quando o arquivo em seu &lt;em&gt;cache&lt;/em&gt; irá expirar, e só
voltará a consultar o servidor quando este tempo for alcançado.&lt;/p&gt;
&lt;p&gt;Com o &lt;code class=&quot;language-text&quot;&gt;Expires&lt;/code&gt;, o servidor retorna no cabeçalho da resposta uma data
de validade para um determinado arquivo:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ curl -i -I http://klauslaube.com.br/media/blog/cookies.jpg

HTTP/1.1 200 OK
Date: Tue, 08 May 2012 01:49:13 GMT
...
Expires: Thu, 31 Dec 2037 23:55:55 GMT
...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Solicitando uma nova requisição para este mesmo arquivo, o navegador
analisará a data local e a data de expiração. Se a data atual for maior
que &lt;code class=&quot;language-text&quot;&gt;Expires&lt;/code&gt;, aí sim o navegador se comunicará com o servidor &lt;em&gt;web&lt;/em&gt;,
e fará um novo &lt;em&gt;download&lt;/em&gt; do arquivo.&lt;/p&gt;
&lt;h2&gt;max-age&lt;/h2&gt;
&lt;p&gt;Embora o &lt;code class=&quot;language-text&quot;&gt;max-age&lt;/code&gt; possa parecer um pouco enigmático, ele é (na minha
opinião) uma solução mais elegante e fácil de implementar que o
&lt;code class=&quot;language-text&quot;&gt;Expires&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Com o &lt;code class=&quot;language-text&quot;&gt;Expires&lt;/code&gt;, temos que informar uma data “absoluta” no cabeçalho,
ou seja, somos obrigados a dizer o dia da semana, mês, ano, hora, minuto
e até mesmo segundo em que determinado arquivo irá expirar. Logo, temos
o trabalho de interpretar a data da requisição (seja no servidor ou na
aplicação) adicionando o tempo que desejamos de &lt;em&gt;cache&lt;/em&gt; e imprimindo
este valor por extenso.&lt;/p&gt;
&lt;p&gt;Com o &lt;code class=&quot;language-text&quot;&gt;max-age&lt;/code&gt; temos a opção de utilizar datas “relativas”, ou seja,
podemos dizer ao navegador que o arquivo irá expirar em 1 dia (em
segundos):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ curl -i http://localhost/exemplo-cache.html

HTTP/1.1 200 OK
Date: Mon, 14 May 2012 17:04:29 GMT
...
Cache-Control: max-age=86400, must-revalidate
...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Como você já deve ter reparado, não existe um índice de cabeçalho
específico chamado &lt;code class=&quot;language-text&quot;&gt;max-age&lt;/code&gt;. Ele é na verdade um valor do índice
&lt;code class=&quot;language-text&quot;&gt;Cache-Control&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;O valor &lt;code class=&quot;language-text&quot;&gt;must-revalidate&lt;/code&gt; solicita aos mecanismos de &lt;em&gt;cache&lt;/em&gt; (você
pode estar “atrás” de um &lt;em&gt;proxy&lt;/em&gt;) o seguinte: Quando o arquivo
ultrapassar o &lt;code class=&quot;language-text&quot;&gt;max-age&lt;/code&gt;, o &lt;em&gt;user-agent&lt;/em&gt; deve revalidar o conteúdo
junto ao servidor &lt;em&gt;Web&lt;/em&gt;. Embora esse seja o comportamento esperado por
estes mecanismos, tornar esta informação explícita pode garantir que
ferramentas mais “obscuras” sigam este comportamento.&lt;/p&gt;
&lt;h3&gt;Um pouco sobre o Cache-Control&lt;/h3&gt;
&lt;p&gt;O &lt;code class=&quot;language-text&quot;&gt;Cache-Control&lt;/code&gt; foi adicionado na especificação do
&lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616.html&quot; title=&quot;Conheça o protocolo HTTP versão 1.1&quot;&gt;&lt;em&gt;HTTP 1.1&lt;/em&gt;&lt;/a&gt; com a finalidade de contornar
as limitações do &lt;code class=&quot;language-text&quot;&gt;Expires&lt;/code&gt;, e também de melhorar o controle sobre o
&lt;em&gt;cache&lt;/em&gt; de determinado conteúdo por diferentes tipos de mecanismos.&lt;/p&gt;
&lt;p&gt;Além do uso do &lt;code class=&quot;language-text&quot;&gt;max-age&lt;/code&gt;, é através do &lt;code class=&quot;language-text&quot;&gt;Cache-Control&lt;/code&gt; que podemos
especificar o comportamento de &lt;em&gt;cache&lt;/em&gt; para o navegador (&lt;code class=&quot;language-text&quot;&gt;private&lt;/code&gt;),
para algum &lt;em&gt;proxy&lt;/em&gt;, servidores intermediários ou requisições &lt;em&gt;HTTPS&lt;/em&gt;
(&lt;code class=&quot;language-text&quot;&gt;public&lt;/code&gt;), ou ainda informarmos que não queremos fazer &lt;em&gt;caching&lt;/em&gt; do
conteúdo (&lt;code class=&quot;language-text&quot;&gt;no-cache&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.mnot.net/cache_docs/#CACHE-CONTROL&quot; title=&quot;Tutorial sobre HTTP caching&quot;&gt;Leia mais sobre &lt;em&gt;Cache-Control&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Vale ressaltar que o &lt;code class=&quot;language-text&quot;&gt;Cache-Control&lt;/code&gt; tem precedência sobre o
&lt;code class=&quot;language-text&quot;&gt;Expires&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;Qual forma utilizar?&lt;/h2&gt;
&lt;p&gt;A resposta é: depende do cenário.&lt;/p&gt;
&lt;p&gt;Para servir arquivos estáticos, a &lt;a href=&quot;http://www.webfaction.com/&quot; title=&quot;Smarter web hosting&quot;&gt;&lt;em&gt;Webfaction&lt;/em&gt;&lt;/a&gt; utiliza os cabeçalhos
&lt;code class=&quot;language-text&quot;&gt;Last-Modified&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Expires&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;max-age&lt;/code&gt;, atribuindo aos dois
últimos valores absurdos de &lt;em&gt;cache&lt;/em&gt; (por exemplo, datas de expiração
para o ano de 2037). Isso garante que o seu navegador, &lt;em&gt;proxy&lt;/em&gt; ou
&lt;em&gt;gateway&lt;/em&gt; “nunca esqueça” de uma determina imagem, folha de estilos ou
arquivo &lt;a href=&quot;/tag/javascript.html&quot; title=&quot;Leia mais sobre Javascript&quot;&gt;&lt;em&gt;Javascript&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Mesmo com o uso do &lt;code class=&quot;language-text&quot;&gt;max-age&lt;/code&gt;, é interessante ter o &lt;code class=&quot;language-text&quot;&gt;Expires&lt;/code&gt; como
alternativa, caso o navegador do internauta não compreenda instruções de
&lt;code class=&quot;language-text&quot;&gt;Cache-Control&lt;/code&gt;. Já a utilização do &lt;code class=&quot;language-text&quot;&gt;Last-Modified&lt;/code&gt;, segundo o &lt;a href=&quot;http://www.askapache.com/htaccess/apache-speed-last-modified.html&quot; title=&quot;Remove Last-Modified Header&quot;&gt;&lt;em&gt;Ask Apache&lt;/em&gt;&lt;/a&gt;,
não é lá muito interessante pois a sua utilização faz com
que alguns navegadores ignorem o cabeçalho &lt;code class=&quot;language-text&quot;&gt;Expires&lt;/code&gt;. Um argumento
mais relevante é a eliminação de procedimentos de validação (como o
&lt;code class=&quot;language-text&quot;&gt;If-Modified-Since&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;If-None-Match&lt;/code&gt;), deixando a cargo apenas do
&lt;code class=&quot;language-text&quot;&gt;Expires&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;max-age&lt;/code&gt; determinar o tempo de vida do estático em
&lt;em&gt;cache&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Em páginas dinâmicas, onde um &lt;em&gt;cache&lt;/em&gt; de 5 ou 10 minutos possa ser
aplicado, o &lt;code class=&quot;language-text&quot;&gt;max-age&lt;/code&gt; com &lt;code class=&quot;language-text&quot;&gt;Expires&lt;/code&gt; é fundamental. Já em páginas que
necessitam de um conteúdo em tempo real, ou páginas que utilizam
informações de &lt;em&gt;cookies&lt;/em&gt; ou sessões, a ausência de &lt;em&gt;cache&lt;/em&gt; é
justificável.&lt;/p&gt;
&lt;p&gt;Em documentos &lt;em&gt;HTML&lt;/em&gt; onde o conteúdo é atualizado com uma frequência
indeterminada, o uso de &lt;code class=&quot;language-text&quot;&gt;Last-Modified&lt;/code&gt; ou &lt;code class=&quot;language-text&quot;&gt;ETag&lt;/code&gt; é mais apropriado.
Uma vez que fica difícil determinar quando a atualização irá ocorrer, é
uma boa estratégia fazer com que o navegador atualize o conteúdo do seu
&lt;em&gt;cache&lt;/em&gt; quando necessário.&lt;/p&gt;
&lt;h2&gt;Considerações Finais&lt;/h2&gt;
&lt;p&gt;Embora seja um conteúdo bem introdutório, acho fundamental sabermos as
diferentes maneiras de aplicar &lt;em&gt;cache&lt;/em&gt; com o protocolo &lt;em&gt;HTTP&lt;/em&gt; antes de
partirmos para soluções específicas. Essas recomendações não são
infalíveis, e em um cenário mais “extremo”, necessitam sim de auxílio de
algumas ferramentas disponíveis no mercado para tornar o &lt;em&gt;cache&lt;/em&gt;
eficiente tanto para a experiência do usuário, quanto para a
estabilidade dos seus serviços.&lt;/p&gt;
&lt;p&gt;Embora eu tenha utilizado o navegador &lt;em&gt;Web&lt;/em&gt; como foco das explicações,
“robôs”, ferramentas de &lt;em&gt;proxy&lt;/em&gt; e &lt;em&gt;gateways&lt;/em&gt; também podem fazer controle
de &lt;em&gt;cache&lt;/em&gt;. O comportamento é basicamente o mesmo, variando de acordo
com instruções passadas no cabeçalho &lt;code class=&quot;language-text&quot;&gt;Cache-Control&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Como não sou nenhum “expert” no assunto, se você possui alguma sugestão
ou correção sobre o uso de &lt;em&gt;cache&lt;/em&gt; com &lt;em&gt;HTTP&lt;/em&gt;, por favor, conte-nos
através dos comentários abaixo.&lt;/p&gt;
&lt;p&gt;Até a próxima…&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.askapache.com/htaccess/apache-speed-compression.html&quot; title=&quot;Material bem interessante sobre como melhorar a performance com Cache no Apache&quot;&gt;&lt;em&gt;Ask Apache: Speed tips – Turn on Compressor&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://betterexplained.com/articles/how-to-optimize-your-site-with-http-caching/&quot; title=&quot;Excelente artigo falando sobre HTTP e cache&quot;&gt;&lt;em&gt;Better Explained: How To Optimize Your Site With HTTP Caching&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.djangoproject.com/en/dev/topics/cache/&quot; title=&quot;Leia mais sobre Cache no Django&quot;&gt;&lt;em&gt;Django Documentation: Django’s cache framework&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developers.google.com/speed/articles/caching&quot; title=&quot;Bom material do Google sobre Caching&quot;&gt;&lt;em&gt;Google Developers: HTTP Caching&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://condor.depaul.edu/dmumaugh/readings/handouts/SE435/HTTP/http.html&quot; title=&quot;Conheça um pouco mais sobre o protocolo HTTP com este artigo científico&quot;&gt;&lt;em&gt;John Yannakopoulos: HyperText Transfer Protocol – A Short Course&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.mnot.net/cache_docs/&quot; title=&quot;Excelente conteúdo sobre caching HTTP&quot;&gt;&lt;em&gt;mnot.net: Caching Tutorial&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.webscalingblog.com/performance/caching-http-headers-cache-control-max-age.html&quot; title=&quot;Artigo bem objetivo descrevendo o uso do max-age&quot;&gt;&lt;em&gt;Web Scaling Blog: Caching HTTP Headers, Cache-Control: max-age&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Entendendo os Cookies e Sessões]]></title><description><![CDATA[Por muito tempo eu abstrai o conceito de
cookies e sessões, e nunca cheguei a prestar muita atenção no seu
funcionamento. Recentemente, trabalhando com uma infra mais preocupada
com a segurança, disponibilidade e performance, tive a oportunidade de
relembrar e me aprofundar em alguns conceitos e…]]></description><link>https://klauslaube.com.br/2012/04/05/entendendo-os-cookies-e-sessoes.html</link><guid isPermaLink="false">https://klauslaube.com.br/2012/04/05/entendendo-os-cookies-e-sessoes.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Thu, 05 Apr 2012 16:53:12 GMT</pubDate><content:encoded>&lt;p&gt;Por muito tempo eu abstrai o conceito de
&lt;em&gt;cookies&lt;/em&gt; e sessões, e nunca cheguei a prestar muita atenção no seu
funcionamento. Recentemente, trabalhando com uma infra mais preocupada
com a segurança, disponibilidade e performance, tive a oportunidade de
relembrar e me aprofundar em alguns conceitos e práticas.&lt;/p&gt;
&lt;p&gt;O que já sabia é que os &lt;em&gt;cookies&lt;/em&gt; são “persistências temporárias” feitas
no lado do usuário, e sessões são persistências dependentes de
&lt;em&gt;cookies&lt;/em&gt;, mas realizadas no lado do servidor.&lt;/p&gt;
&lt;p&gt;A minha felicidade é que até aí, nada mudou :)&lt;/p&gt;
&lt;h2&gt;Para que servem Cookies e Sessões?&lt;/h2&gt;
&lt;p&gt;O &lt;a href=&quot;http://wagnerelias.com/2009/02/06/http-essentials/&quot; title=&quot;Conheça mais sobre o protocolo HTTP&quot;&gt;protocolo &lt;em&gt;HTTP&lt;/em&gt;&lt;/a&gt; é &lt;em&gt;stateless&lt;/em&gt;, ou seja, ele não mantém um
estado/conexão. Toda a interação que o seu cliente fizer com um servidor
&lt;a href=&quot;/tag/desenvolvimento-web.html&quot; title=&quot;Leia mais sobre Web&quot;&gt;&lt;em&gt;web&lt;/em&gt;&lt;/a&gt; acarretará em uma nova requisição e resposta.&lt;/p&gt;
&lt;p&gt;As requisições são independentes e possuem um tempo de vida (conexão,
envio de mensagem, resposta, encerramento da conexão). O servidor &lt;em&gt;web&lt;/em&gt;
não é capaz de identificar se duas requisições vieram de um mesmo
navegador, e o mesmo não faz nenhum gerenciamento em memória para que
mensagens sejam compartilhadas entre requisições.&lt;/p&gt;
&lt;p&gt;É para suprir esta necessidade que entram os &lt;em&gt;cookies&lt;/em&gt; e sessões.&lt;/p&gt;
&lt;h2&gt;Cookies&lt;/h2&gt;
&lt;p&gt;Através de &lt;em&gt;cookies&lt;/em&gt; o servidor &lt;em&gt;web&lt;/em&gt; é capaz de trocar informações de
estado com o navegador do usuário. Desse modo, somos capazes de
adicionar produtos a um carrinho de compras, sem perder estas
informações ao mudar de página, sair do &lt;em&gt;website&lt;/em&gt; ou até mesmo fechar o
navegador.&lt;/p&gt;
&lt;p&gt;Tecnicamente falando, um &lt;em&gt;cookie&lt;/em&gt; é uma pequena quantidade de informação
persistida temporariamente pelo navegador. Os navegadores normalmente
limitam o tamanho dos &lt;em&gt;cookies&lt;/em&gt; em até 4KB, e apagam &lt;em&gt;cookies&lt;/em&gt; com a
data de “validade vencida”.&lt;/p&gt;
&lt;p&gt;Para entender como essa troca de informação é feita, vamos criar um
&lt;em&gt;cookie&lt;/em&gt; com o &lt;a href=&quot;/tag/php.html&quot; title=&quot;Leia mais sobre PHP&quot;&gt;&lt;em&gt;PHP&lt;/em&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;php&quot;&gt;&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token php language-php&quot;&gt;&lt;span class=&quot;token delimiter important&quot;&gt;&amp;lt;?php&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// cookies.php&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$_COOKIE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;cookie_teste&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;Você JÁ passou por aqui!&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;Você NUNCA passou por aqui.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;setcookie&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;cookie_teste&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;Algum valor...&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3600&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token delimiter important&quot;&gt;?&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;O código acima verifica se o &lt;em&gt;cookie&lt;/em&gt; atendendo pelo identificador
&lt;code class=&quot;language-text&quot;&gt;cookie_teste&lt;/code&gt; já existe, caso não exista, cria um &lt;em&gt;cookie&lt;/em&gt; com
identificador &lt;code class=&quot;language-text&quot;&gt;cookie_teste&lt;/code&gt;, valor &lt;code class=&quot;language-text&quot;&gt;Algum valor...&lt;/code&gt; e com &lt;strong&gt;1
hora de vida&lt;/strong&gt; (a hora atual mais 3600 segundos).&lt;/p&gt;
&lt;p&gt;Quando visitamos pela primeira vez o &lt;code class=&quot;language-text&quot;&gt;cookies.php&lt;/code&gt;, temos a seguinte
resposta:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ curl -I localhost/cookies.php

HTTP/1.1 200 OK
Date: Wed, 04 Apr 2012 00:35:33 GMT
Server: Apache/2.2.21 (Unix) mod_ssl/2.2.21 OpenSSL/0.9.8r DAV/2 PHP/5.3.8
X-Powered-By: PHP/5.3.8
Set-Cookie: cookie_teste=Algum+valor...; expires=Wed, 04-Apr-2012 01:35:33 GMT
Content-Type: text/html&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Através da função &lt;code class=&quot;language-text&quot;&gt;setcookie&lt;/code&gt; do &lt;em&gt;PHP&lt;/em&gt;, estamos enviando um item
chamado &lt;code class=&quot;language-text&quot;&gt;Set-Cookie&lt;/code&gt; no cabeçalho &lt;em&gt;HTTP&lt;/em&gt; da resposta. É através deste
que o navegador entende que deve armazenar o valor &lt;code class=&quot;language-text&quot;&gt;Algum valor…&lt;/code&gt;,
atendendo pelo identificador &lt;code class=&quot;language-text&quot;&gt;cookie_teste&lt;/code&gt;, e que esta informação
expira em 1 hora (verifique a data da requisição e a data de validade do
&lt;em&gt;cookie&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;Na próxima vez que o navegador acessar esta &lt;em&gt;URL&lt;/em&gt;, ele verificará se
possui algum &lt;em&gt;cookie&lt;/em&gt; para aquele domínio e &lt;em&gt;path&lt;/em&gt;, caso exista, ele
passa as informações do &lt;em&gt;cookie&lt;/em&gt; no cabeçalho da requisição. Desse modo,
a nossa aplicação é capaz de perceber a existência de um &lt;em&gt;cookie&lt;/em&gt; (no
caso do &lt;em&gt;PHP&lt;/em&gt;, através do &lt;em&gt;array&lt;/em&gt; global &lt;code class=&quot;language-text&quot;&gt;$_COOKIE&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Abaixo, um exemplo de requisição utilizando o &lt;em&gt;Google Chrome&lt;/em&gt;:&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 760px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/574c72cb92153b3981d5e76c2ba7a077/3c051/exemplo-php-cookies.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.52083333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABs0lEQVQoz4WSTW/TQBCG/Zs5wpkzdy49wo9AHCoUgdKqpLF37SRe2yTONmpLHMffduZl1klMUwmx0qN3dlc7O1/W0/PjYa01rfWGkiSlum6pqmpq25bapum167rj3tgnPRwOPebO6HlZthhRFAr8igKEyoMz/YnJ3S1cKSGnUwjbgRAGgXveS+ee7wTCMIRSCkEQIIoixHGM5XIJ68Nnh95/ivDuyqe3V4refFT0ZRyTXoUkPY+82Yz4AbEDilcxpemOSWm3+6tJkgxYd35B32SJa1HStVPi67REtCngzz1I14bWa6S7FHmWo8gL1HWNpmkGXi+LoZNNwyl1WHAqwvV6bOlipR/we7sFR4WqqlCWJVOB6wcu3YBl6smgY+2OCm4GgtsbuKMR/PEYz/MFWq35I8L/1hAhHb/oN8bhYjKB/f0H9GyOR472SQXIOLosz5FlGfb7Pbh+vW0oiqLnwuHJZ18bxV2U3gzLeI2EH5dcu7bt+hR5VHp4fC7UcBnhUfmi5ZHw4bkulK+wedgg2SbDo5fQqzL8w2GH0DRFSJ45bshy1aeXc7om1XOaxj53+tyUP/Oi9lEWEjCnAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Item cookie no cabeçalho de resposta da requisição HTTP&amp;quot;&quot;
        title=&quot;Item cookie no cabeçalho de resposta da requisição HTTP&quot;
        src=&quot;/static/574c72cb92153b3981d5e76c2ba7a077/3c051/exemplo-php-cookies.png&quot;
        srcset=&quot;/static/574c72cb92153b3981d5e76c2ba7a077/8514f/exemplo-php-cookies.png 192w,
/static/574c72cb92153b3981d5e76c2ba7a077/804b2/exemplo-php-cookies.png 384w,
/static/574c72cb92153b3981d5e76c2ba7a077/3c051/exemplo-php-cookies.png 760w&quot;
        sizes=&quot;(max-width: 760px) 100vw, 760px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Item cookie no cabeçalho de resposta da requisição HTTP&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/blog/exemplo-php-cookies.png&quot;&gt;Clique para ampliar&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Se excluirmos os &lt;em&gt;cookies&lt;/em&gt;, ou o tempo de expiração for atingido, o
navegador deixa de anexar esta informação ao cabeçalho da requisição.&lt;/p&gt;
&lt;h2&gt;Sessões&lt;/h2&gt;
&lt;p&gt;As sessões têm um princípio similar aos &lt;em&gt;cookies&lt;/em&gt;, só que o
armazenamento do estado é feito pelo servidor &lt;em&gt;web&lt;/em&gt;, e não pelo
navegador.&lt;/p&gt;
&lt;p&gt;Por exemplo, quando construímos uma aplicação que necessita de
autenticação, no momento em que o usuário efetuar o &lt;em&gt;login&lt;/em&gt;, podemos até
permitir que algumas informações sejam armazenadas em um &lt;em&gt;cookie&lt;/em&gt;, mas
dados mais “sensíveis”, como usuário e &lt;em&gt;e-mail&lt;/em&gt;, são mais interessantes
de serem guardadas em sessões. Isto, pois &lt;strong&gt;não é seguro&lt;/strong&gt; que esse tipo
de informação fique “viajando” pela &lt;em&gt;web&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Mas se o &lt;em&gt;HTTP&lt;/em&gt; é &lt;em&gt;stateless&lt;/em&gt;, e o servidor &lt;em&gt;web&lt;/em&gt; não tem como
identificar que a requisição anterior veio do meu &lt;em&gt;browser&lt;/em&gt;, como é que
ele sabe que as informações que eu guardei em sessão são de fato minhas?
Simples… &lt;strong&gt;através de &lt;em&gt;cookies&lt;/em&gt;!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Quando iniciamos uma sessão, é enviado um &lt;em&gt;cookie&lt;/em&gt; para o navegador, com
um valor único que corresponde a sessão aberta no servidor &lt;em&gt;web&lt;/em&gt;. Vamos
ilustrar através do exemplo abaixo:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;php&quot;&gt;&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token php language-php&quot;&gt;&lt;span class=&quot;token delimiter important&quot;&gt;&amp;lt;?php&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// sessions.php&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;session_start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$_SESSION&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;usuario&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token double-quoted-string string&quot;&gt;&quot;Bem vindo &lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$_SESSION&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;usuario&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;Você NUNCA passou por aqui.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token variable&quot;&gt;$_SESSION&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;usuario&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;João&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token delimiter important&quot;&gt;?&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;O código acima inicia uma sessão através do método &lt;code class=&quot;language-text&quot;&gt;session_start&lt;/code&gt;.
Na primeira visita, será criado um índice &lt;code class=&quot;language-text&quot;&gt;usuario&lt;/code&gt; com o valor
&lt;code class=&quot;language-text&quot;&gt;João&lt;/code&gt;. A resposta da nossa requisição será a seguinte:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ curl -I localhost/sessions.php

HTTP/1.1 200 OK
Date: Wed, 04 Apr 2012 01:51:57 GMT
Server: Apache/2.2.21 (Unix) mod_ssl/2.2.21 OpenSSL/0.9.8r DAV/2 PHP/5.3.8
X-Powered-By: PHP/5.3.8
Set-Cookie: PHPSESSID=4h91dkp7pcp8184nil8rt9ok13; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0
Pragma: no-cache
Content-Type: text/html&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Por partes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Como mencionei, &lt;code class=&quot;language-text&quot;&gt;Set-Cookie&lt;/code&gt; foi retornado com um identificador
(&lt;code class=&quot;language-text&quot;&gt;PHPSESSID&lt;/code&gt;) e um valor que corresponde a sessão aberta no
servidor (&lt;code class=&quot;language-text&quot;&gt;4h91dkp7pcp8184nil8rt9ok13&lt;/code&gt;). O complemento &lt;code class=&quot;language-text&quot;&gt;path&lt;/code&gt;
está “dizendo” ao navegador que aquele &lt;em&gt;cookie&lt;/em&gt; tem validade por
todo o domínio (ou seja, valerá inclusive para outros arquivos &lt;em&gt;PHP&lt;/em&gt;
em outras subpastas). Quando não é informada a data de expiração, o
navegador manterá o &lt;em&gt;cookie&lt;/em&gt; até o momento em que ele for fechado.&lt;/li&gt;
&lt;li&gt;O &lt;em&gt;PHP&lt;/em&gt; tomou a liberdade de adicionar alguns cabeçalhos de controle
de &lt;em&gt;cache&lt;/em&gt; (&lt;code class=&quot;language-text&quot;&gt;Expires&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Cache-Control&lt;/code&gt; e &lt;code class=&quot;language-text&quot;&gt;Pragma&lt;/code&gt;) à nossa
resposta. Em resumo, o servidor está dizendo ao navegador para que
não armazene esta página em &lt;em&gt;cache&lt;/em&gt;. Estes valores podem ser
alterados em &lt;a href=&quot;http://www.php.net/manual/en/ref.session.php&quot; title=&quot;PHP: Session functions&quot;&gt;tempo de desenvolvimento&lt;/a&gt;, ou &lt;a href=&quot;http://www.php.net/manual/en/session.configuration.php&quot; title=&quot;PHP: Runtime configuration&quot;&gt;através do &lt;strong&gt;php.ini&lt;/strong&gt;&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Em nenhum momento o &lt;em&gt;Apache&lt;/em&gt; informou ao navegador que temos um
índice &lt;code class=&quot;language-text&quot;&gt;usuario&lt;/code&gt; com o valor &lt;code class=&quot;language-text&quot;&gt;João&lt;/code&gt;. Estas informações estão
disponíveis somente no lado do servidor.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Quando visitarmos o &lt;code class=&quot;language-text&quot;&gt;sessions.php&lt;/code&gt; novamente, o navegador informará ao
servidor que ele possui um &lt;em&gt;cookie&lt;/em&gt; chamado &lt;code class=&quot;language-text&quot;&gt;PHPSESSID&lt;/code&gt;. A partir daí
o &lt;em&gt;PHP&lt;/em&gt; pega o valor deste &lt;em&gt;cookie&lt;/em&gt;, recupera a sessão da memória (ou de
um banco de dados, ou arquivos em disco) e atribui este valor ao &lt;em&gt;array&lt;/em&gt;
global &lt;code class=&quot;language-text&quot;&gt;$_SESSION&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;O nome do &lt;em&gt;cookie&lt;/em&gt; varia de linguagem para linguagem e até mesmo de
&lt;em&gt;framework&lt;/em&gt; para &lt;em&gt;framework&lt;/em&gt;. Por exemplo, no &lt;a href=&quot;/tag/django.html&quot; title=&quot;Leia mais sobre Django&quot;&gt;&lt;em&gt;Django&lt;/em&gt;&lt;/a&gt; ele é chamado
por padrão de &lt;code class=&quot;language-text&quot;&gt;sessionid&lt;/code&gt;, no &lt;a href=&quot;/tag/codeigniter.html&quot; title=&quot;Leia mais sobre CodeIgniter&quot;&gt;&lt;em&gt;CodeIgniter&lt;/em&gt;&lt;/a&gt; é chamado de
&lt;code class=&quot;language-text&quot;&gt;ci_session&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;Gostei muito de me aprofundar um pouquinho mais neste assunto, e gostei
mais ainda de poder traduzir este aprendizado através deste &lt;em&gt;post&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;É claro que há alguns cuidados com segurança quando o assunto é
&lt;em&gt;cookies&lt;/em&gt; e sessões, bem como considerações em relação ao uso de
&lt;em&gt;cache&lt;/em&gt;. Pretendo falar mais sobre esses temas em &lt;em&gt;posts&lt;/em&gt; vindouros.&lt;/p&gt;
&lt;p&gt;Até a próxima…&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.php.net/manual/en/book.session.php&quot; title=&quot;Confira a documentação oficial do PHP que fala sobre Sessões&quot;&gt;&lt;em&gt;PHP Manual – Session Handling&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.stanford.edu/~ouster/cgi-bin/cs142-fall10/lecture.php?topic=cookie&quot; title=&quot;Material resumido, mas muito bom, sobre sessões e Cookies&quot;&gt;&lt;em&gt;Stanford.edu – CS 142: Cookies and Session&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://wagnerelias.com/2009/02/06/http-essentials/&quot; title=&quot;Wagner nos apresenta de forma objetiva o funcionamento do protocolo HTTP&quot;&gt;&lt;em&gt;Wagner Elias&lt;/em&gt; – &lt;em&gt;HTTP Essentials&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://wagnerelias.com/2009/04/21/seguranca-de-cookies-de-sessao-e-httponly/&quot; title=&quot;Entenda as falhas de segurança apresentadas com o uso de sessões e cookies&quot;&gt;&lt;em&gt;Wagner Elias&lt;/em&gt; – Segurança de &lt;em&gt;Cookies&lt;/em&gt; de sessão e &lt;em&gt;HTTPOnly&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/HTTP_cookie&quot; title=&quot;Leia este bom artigo em inglês sobre Cookies&quot;&gt;&lt;em&gt;Wikipedia – HTTP Cookie&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Supervisor: Aumentando a disponibilidade das suas aplicações Web]]></title><description><![CDATA[E se você pudesse controlar uma série de processos
através de um comando? Ou de garantir que serviços “down” sejam
reiniciados automaticamente? Ou ainda, agrupar seus serviços e poder
reiniciá-los com um simples comando de terminal? O Supervisor aparece para facilitar muito a vida de quem precisa…]]></description><link>https://klauslaube.com.br/2012/01/23/supervisor-gerencie-os-processos-seu-servidor-web.html</link><guid isPermaLink="false">https://klauslaube.com.br/2012/01/23/supervisor-gerencie-os-processos-seu-servidor-web.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Mon, 23 Jan 2012 21:28:00 GMT</pubDate><content:encoded>&lt;p&gt;E se você pudesse controlar uma série de processos
através de um comando? Ou de garantir que serviços “down” sejam
reiniciados automaticamente? Ou ainda, agrupar seus serviços e poder
reiniciá-los com um simples comando de terminal?&lt;/p&gt;
&lt;p&gt;O &lt;strong&gt;&lt;em&gt;Supervisor&lt;/em&gt;&lt;/strong&gt; aparece para facilitar muito a vida de quem precisa
administrar servidores &lt;a href=&quot;/tag/desenvolvimento-web.html&quot; title=&quot;Leia mais sobre Web&quot;&gt;&lt;em&gt;web&lt;/em&gt;&lt;/a&gt;, e não tem muito tempo a perder com
criação de rotinas, ou mesmo com trabalho manual.&lt;/p&gt;
&lt;h2&gt;Afinal, o que é o Supervisor?&lt;/h2&gt;
&lt;p&gt;A proposta do &lt;a href=&quot;http://supervisord.org/&quot; title=&quot;Conheça o projeto Supervisor&quot;&gt;&lt;em&gt;Supervisor&lt;/em&gt;&lt;/a&gt; é simples: permitir que usuários possam
controlar e monitorar processos (e grupos de processos) em um sistema
&lt;em&gt;Unix-like&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Em suma, o &lt;em&gt;Supervisor&lt;/em&gt; é um programa escrito em &lt;a href=&quot;/tag/python.html&quot; title=&quot;Leia mais sobre Python&quot;&gt;&lt;em&gt;Python&lt;/em&gt;&lt;/a&gt;, capaz de
iniciar, reiniciar e parar outros programas. Mas, o que me chamou mais a
atenção, é que ele é capaz de reiniciar programas “crashados”
automaticamente.&lt;/p&gt;
&lt;p&gt;Isso é possível pois, por baixo dos panos, o &lt;em&gt;Supervisor&lt;/em&gt; é um serviço
que inicia todos os demais como subprocessos. Desse modo, é capaz de
monitorar o estado dos mesmos, e numa eventual “queda”, reiniciar um
determinado processo/serviço imediatamente.&lt;/p&gt;
&lt;p&gt;Ou seja, funciona como uma ferramenta centralizadora e de monitoramento.
E que ainda serve uma &lt;em&gt;API&lt;/em&gt; para gerenciamento remoto, &lt;a href=&quot;http://supervisord.org/api.html&quot; title=&quot;Leia mais sobre a API do Supervisor&quot;&gt;através de &lt;em&gt;XML-RPC&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Instalar para administrar&lt;/h2&gt;
&lt;p&gt;Para instalar, basta utilizar o &lt;code class=&quot;language-text&quot;&gt;pip&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ pip install supervisor&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vamos gerar um arquivo de configuração básico:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ echo_supervisord_conf &amp;gt; /etc/supervisord.conf&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vamos aproveitar que &lt;a href=&quot;/2011/12/19/nginx-poderoso-rapido-facil.html&quot; title=&quot;Nginx: Poderoso, rápido e fácil&quot;&gt;falamos recentemente sobre a instalação do &lt;em&gt;Nginx&lt;/em&gt;&lt;/a&gt;,
para demonstrar o princípio do &lt;em&gt;Supervisor&lt;/em&gt;. Adicione as
seguintes linhas ao arquivo &lt;code class=&quot;language-text&quot;&gt;/etc/supervisord.conf&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;config&quot;&gt;&lt;pre class=&quot;language-config&quot;&gt;&lt;code class=&quot;language-config&quot;&gt;[program:nginx]
command=/usr/local/nginx/sbin/nginx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Agora iniciamos o serviço do &lt;em&gt;Supervisor&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ supervisord&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;E através do &lt;code class=&quot;language-text&quot;&gt;supervisorctl&lt;/code&gt;, vamos iniciar e parar o &lt;em&gt;Nginx&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ supervisorctl start all
nginx: started

$ ps aux | grep nginx
root      1863  0.0  0.1 (...) /usr/local/nginx/sbin/nginx

$ supervisorctl stop nginx
nginx: stopped&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;E agora, o “pulo do gato”. Com o &lt;em&gt;Nginx&lt;/em&gt; iniciado via &lt;em&gt;Supervisor&lt;/em&gt;,
vamos fechá-lo através de um comando &lt;code class=&quot;language-text&quot;&gt;kill&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ supervisorctl start nginx
nginx: started

$ killall nginx

$ ps aux | grep nginx
root      1917  0.0  0.1 (...) /usr/local/nginx/sbin/nginx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Magia? Que nada! É a ferramenta garantindo que os nossos processos não
fiquem “down”. &lt;a href=&quot;http://brandonkonkle.com/blog/2010/sep/14/django-uwsgi-and-nginx/&quot; title=&quot;Django on uWSGI and Nginx&quot;&gt;&lt;em&gt;Brandon Konkle&lt;/em&gt;&lt;/a&gt; e &lt;a href=&quot;http://senko.net/en/django-nginx-gunicorn/&quot; title=&quot;A Django setup using Nginx and Gunicorn&quot;&gt;&lt;em&gt;Senko Rasic&lt;/em&gt;&lt;/a&gt; possuem exemplos
utilizando um cenário real com &lt;a href=&quot;/tag/django.html&quot; title=&quot;Leia mais sobre Django&quot;&gt;&lt;em&gt;Django&lt;/em&gt;&lt;/a&gt; e &lt;a href=&quot;/tag/nginx.html&quot; title=&quot;Leia mais sobre Nginx&quot;&gt;&lt;em&gt;Nginx&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;Embora o &lt;em&gt;Supervisor&lt;/em&gt; seja uma ferramenta espetacular, acredito que
muitos profissionais já possuam intimidade com os seus servidores, bem
como já tenham construído &lt;em&gt;sets&lt;/em&gt; de &lt;em&gt;scripts&lt;/em&gt;, e atalhos em geral. Isso,
de fato, faz a gente questionar a utilidade dela.&lt;/p&gt;
&lt;p&gt;A possibilidade de monitorar e garantir a disponibilidade dos processos
foi o que mais me agradou. Se você tem “poderes administrativos” na sua
hospedagem, talvez o &lt;em&gt;Supervisor&lt;/em&gt; seja a ferramenta que faltava para
você possa dormir mais tranquilo.&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://supervisord.org/&quot; title=&quot;Supervisor - A process control system&quot;&gt;&lt;em&gt;Supervisor&lt;/em&gt; – Documentação oficial&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://brandonkonkle.com/blog/2010/sep/14/django-uwsgi-and-nginx/&quot; title=&quot;Saiba como montar um servidor Nginx com Django, uWSGI e Supervisor&quot;&gt;&lt;em&gt;Brandon Konkle – Django on uWSGI and Nginx&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.plope.com/static/misc/supervisor-pycon2008.pdf&quot; title=&quot;Apresentação para a PyCon 2008, sobre Supervisor&quot;&gt;&lt;em&gt;Mike Naberezny – Supervisor as a Platform&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://senko.net/en/django-nginx-gunicorn/&quot; title=&quot;Um ótimo exemplo de uso do Nginx, Django e Supervisor&quot;&gt;&lt;em&gt;Senko’s Blog – A Django setup using Nginx and Gunicorn&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Nginx: Poderoso, rápido e fácil]]></title><description><![CDATA[Para quem (assim como eu) começou com o PHP, uma das opções mais viáveis
para servir projetos na web sempre foi o Apache. Open source,
prático e disponível em quase toda hospedagem de respeito (afinal, ele vem por
padrão em quase toda distro Linux), há anos que ele faz a famosa
tríade "AMP" (Apache…]]></description><link>https://klauslaube.com.br/2011/12/19/nginx-poderoso-rapido-facil.html</link><guid isPermaLink="false">https://klauslaube.com.br/2011/12/19/nginx-poderoso-rapido-facil.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Mon, 19 Dec 2011 20:41:00 GMT</pubDate><content:encoded>&lt;p&gt;Para quem (assim como eu) começou com o &lt;a href=&quot;/tag/php.html&quot; title=&quot;Leia mais sobre PHP&quot;&gt;&lt;em&gt;PHP&lt;/em&gt;&lt;/a&gt;, uma das opções mais viáveis
para servir projetos na &lt;a href=&quot;/tag/desenvolvimento-web.html&quot; title=&quot;Leia mais sobre Web&quot;&gt;&lt;em&gt;web&lt;/em&gt;&lt;/a&gt; sempre foi o &lt;a href=&quot;http://httpd.apache.org/&quot; title=&quot;Página oficial do projeto Apache&quot;&gt;&lt;em&gt;Apache&lt;/em&gt;&lt;/a&gt;. &lt;em&gt;Open source&lt;/em&gt;,
prático e disponível em quase toda hospedagem de respeito (afinal, ele vem por
padrão em quase toda distro &lt;a href=&quot;/tag/linux.html&quot; title=&quot;Leia mais sobre Linux&quot;&gt;&lt;em&gt;Linux&lt;/em&gt;&lt;/a&gt;), há anos que ele faz a famosa
tríade &quot;AMP&quot; (&lt;em&gt;Apache&lt;/em&gt;, &lt;a href=&quot;http://www.mysql.com/&quot; title=&quot;Conheça o banco de dados open source mais popular do mundo&quot;&gt;&lt;em&gt;MySQL&lt;/em&gt;&lt;/a&gt; e &lt;em&gt;PHP&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;Acontece que com as demandas recentes que a &lt;em&gt;internet&lt;/em&gt; tem exigido de
algumas aplicações &lt;em&gt;web&lt;/em&gt; (como &lt;em&gt;Twitter&lt;/em&gt; e &lt;em&gt;Facebook&lt;/em&gt;), a necessidade
por performance começou a ser uma grande premissa em determinados tipos
de projetos. E é apoiado nesse cenário que o &lt;em&gt;Nginx&lt;/em&gt; vem ganhando
cada vez mais força no mercado. Afinal, não é a toa que ele é conhecido
por “aguentar porrada”.&lt;/p&gt;
&lt;h2&gt;A verdade sobre o Nginx (ou não)&lt;/h2&gt;
&lt;p&gt;O &lt;a href=&quot;http://nginx.org/&quot; title=&quot;Conheça o Nginx!&quot;&gt;&lt;em&gt;Nginx&lt;/em&gt;&lt;/a&gt; é um &lt;a href=&quot;http://pt.wikipedia.org/wiki/Servidor_web&quot; title=&quot;Entenda o que é um servidor Web&quot;&gt;&lt;strong&gt;servidor Web&lt;/strong&gt;&lt;/a&gt;, &lt;a href=&quot;http://pt.wikipedia.org/wiki/Proxy_reverso&quot; title=&quot;Entenda o que é um Proxy Reverso&quot;&gt;&lt;strong&gt;proxy reverso&lt;/strong&gt;&lt;/a&gt;,
&lt;strong&gt;proxy balanceador de carga&lt;/strong&gt;, e faz praticamente tudo que o &lt;em&gt;Apache&lt;/em&gt;
faz, só que muito mais rápido!&lt;/p&gt;
&lt;p&gt;Técnicamente, o &lt;em&gt;Nginx&lt;/em&gt; consome menos memória que o &lt;em&gt;Apache&lt;/em&gt;, pois lida
com requisições &lt;em&gt;web&lt;/em&gt; através do conceito de “event-based web server“,
já o &lt;em&gt;Apache&lt;/em&gt; é baseado no conceito “process-based server“. &lt;em&gt;David E.
Chen&lt;/em&gt; faz uma excelente analogia entre os dois conceitos em seu artigo
“&lt;a href=&quot;http://daverecycles.com/post/3104767110/explain-event-driven-web-servers-to-your-grandma&quot; title=&quot;Leia esta boa analogia entre os conceitos&quot;&gt;Explain “Event-Driven” Web Servers to Your Grandma&lt;/a&gt;“.&lt;/p&gt;
&lt;p&gt;Eles não são necessariamente “concorrentes”, &lt;em&gt;Apache&lt;/em&gt; e &lt;em&gt;Nginx&lt;/em&gt; podem
trabalhar juntos! &lt;em&gt;Paulo Higa&lt;/em&gt;, através do seu artigo
&lt;a href=&quot;http://paulohiga.com/posts/nginx-proxy-reverso-php-apache.php&quot; title=&quot;Aprenda como fazer o Nginx tornar-se um proxy reverso&quot;&gt;“Usando Nginx como proxy reverso e diminuindo o consumo do servidor&lt;/a&gt;“, nos mostra
como ele diminuiu o consumo de memória do &lt;em&gt;Apache&lt;/em&gt; fazendo com que as
requisições &lt;em&gt;web&lt;/em&gt; passassem primeiro pelo &lt;em&gt;Nginx&lt;/em&gt;. Desse modo, o
&lt;em&gt;Apache&lt;/em&gt; não precisou servir arquivos estáticos, e pode depender do bom
controle de &lt;em&gt;cache&lt;/em&gt; feito pelo &lt;em&gt;Nginx&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Bom, a intenção não é denegrir a imagem do &lt;em&gt;Apache&lt;/em&gt; (até parece que um
simples mortal como eu conseguiria tal feito), então vamos adiante.&lt;/p&gt;
&lt;h2&gt;Fácil?! Instalando e sendo bem recebido&lt;/h2&gt;
&lt;p&gt;Estou utilizando o &lt;a href=&quot;http://www.slackware.com/&quot; title=&quot;Conheça e delicie-se com o Slackware Linux&quot;&gt;&lt;em&gt;Slackware 13.37&lt;/em&gt;&lt;/a&gt; para realizar os procedimentos
abaixo, mas acredito que eles possam ser executados em qualquer
distribuição &lt;em&gt;Linux&lt;/em&gt;, sem maiores problemas.&lt;/p&gt;
&lt;p&gt;Vamos começar fazendo o &lt;em&gt;download&lt;/em&gt; da versão mais recente (até então),
direto do site oficial do &lt;em&gt;Nginx&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ wget http://nginx.org/download/nginx-1.0.11.tar.gz&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;O procedimento de instalação não difere em nada do método tradicional
que estamos acostumados no &lt;em&gt;Linux&lt;/em&gt;. Apenas lembre-se de executar o
&lt;code class=&quot;language-text&quot;&gt;make install&lt;/code&gt; como &lt;code class=&quot;language-text&quot;&gt;root&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ tar -zxvf nginx-1.0.11.tar.gz; cd nginx-1.0.11
$ ./configure
$ make
$ make install&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;O &lt;em&gt;Nginx&lt;/em&gt; será instalado em &lt;code class=&quot;language-text&quot;&gt;/usr/local/nginx/&lt;/code&gt;. Você pode iniciar o
serviço através do comando (como &lt;code class=&quot;language-text&quot;&gt;root&lt;/code&gt;):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ /usr/local/nginx/sbin/nginx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Acessando o seu &lt;code class=&quot;language-text&quot;&gt;localhost&lt;/code&gt;, o serviço estará pronto e dando boas
vindas!&lt;/p&gt;
&lt;h2&gt;Configurando um servidor simples&lt;/h2&gt;
&lt;p&gt;Para homenagear o nosso amigo &lt;em&gt;Apache&lt;/em&gt;, vamos fazer o &lt;em&gt;Nginx&lt;/em&gt; servir um
&lt;a href=&quot;/tag/html5.html&quot; title=&quot;Leia mais sobre HTML5&quot;&gt;&lt;em&gt;HTML&lt;/em&gt;&lt;/a&gt; com a clássica mensagem “It works“, em outra porta e &lt;em&gt;path&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Abra (como &lt;code class=&quot;language-text&quot;&gt;root&lt;/code&gt;) o arquivo &lt;code class=&quot;language-text&quot;&gt;/usr/local/nginx/conf/nginx.conf&lt;/code&gt;, no
final do arquivo, adicione a seguinte expressão antes do fechamento das
chaves:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;config&quot;&gt;&lt;pre class=&quot;language-config&quot;&gt;&lt;code class=&quot;language-config&quot;&gt;include example;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Esta expressão importará o arquivo &lt;code class=&quot;language-text&quot;&gt;/usr/local/nginx/conf/example&lt;/code&gt;,
que criaremos a seguir:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;config&quot;&gt;&lt;pre class=&quot;language-config&quot;&gt;&lt;code class=&quot;language-config&quot;&gt;server {
    listen        127.0.0.1:8080;
    server_name   example;
    access_log    /usr/local/nginx/logs/example.access.log;
    error_log     /usr/local/nginx/logs/example.error.log;
    location / {
        root  /var/www/example;
        index index.html index.htm;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Intuitivo não?! Vamos criar o &lt;em&gt;path&lt;/em&gt; onde armazenaremos o &lt;em&gt;HTML&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;mkdir /var/www/example
echo &amp;quot;It works! &amp;quot; &amp;gt; /var/www/example/index.html&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Basta acessar o endereço &lt;code class=&quot;language-text&quot;&gt;localhost:8080&lt;/code&gt;, e pronto!&lt;/p&gt;
&lt;p&gt;Como é possível perceber, os arquivos de configuração do &lt;em&gt;Nginx&lt;/em&gt; são
simples e intuitivos. Existem várias referências na &lt;em&gt;web&lt;/em&gt; ensinando a
montar &lt;em&gt;proxy&lt;/em&gt; reverso, servir páginas dinâmicas com &lt;em&gt;FastCGI&lt;/em&gt; ou
&lt;em&gt;WSGI&lt;/em&gt;, utilizar &lt;em&gt;SSL&lt;/em&gt;, etc. Nada que o bom amigo &lt;em&gt;Google&lt;/em&gt; não possa
resolver.&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;Quer dizer que agora eu tenho que largar tudo e correr para utilizar o
&lt;em&gt;Nginx&lt;/em&gt;? A resposta é &lt;strong&gt;não&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Gosto dos ensinamentos do pessoal da &lt;a href=&quot;http://37signals.com/&quot; title=&quot;Você não sabe o que é a 37Signals?&quot;&gt;&lt;em&gt;37Signals&lt;/em&gt;&lt;/a&gt;, e um deles é para
deixarmos a preocupação com performance para quando isto for realmente
um problema (caso contrário, ninguém começaria projetos em &lt;em&gt;Ruby&lt;/em&gt; ou
&lt;em&gt;Python&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;Portanto, se você tem um &lt;em&gt;blog&lt;/em&gt; em &lt;em&gt;WordPress&lt;/em&gt; servido através de um
&lt;em&gt;Apache&lt;/em&gt;... deixe estar. Garanto que o &lt;em&gt;Apache&lt;/em&gt; é a melhor solução para
você neste momento. E caso você venha a ter problemas com performance,
garanto que instalar e configurar um &lt;em&gt;Nginx&lt;/em&gt; dentro da sua
infraestrutura será o menor dos seus problemas.&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://nginx.org/&quot; title=&quot;Conheça, instale e use agora o Nginx!&quot;&gt;Site oficial do projeto &lt;em&gt;Nginx&lt;/em&gt; (em Inglês)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://daverecycles.com/post/3104767110/explain-event-driven-web-servers-to-your-grandma&quot; title=&quot;Entenda a diferença entre o webserver baseado em eventos, e outro baseado em processos&quot;&gt;&lt;em&gt;Daverecycles.com – Explain “Event-Driven” Web Servers to Your Grandma&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.linuxjournal.com/article/10108&quot; title=&quot;Excelente artigo sobre o Nginx&quot;&gt;&lt;em&gt;Linux Journal – Nginx: the High-Performance Web Server and Reverse Proxy&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://paulohiga.com/posts/nginx-proxy-reverso-php-apache.php&quot; title=&quot;Artigo de Paulo Higa sobre Nginx e proxy reverso, com Apache&quot;&gt;&lt;em&gt;Paulo Higa&lt;/em&gt; – Usando o &lt;em&gt;nginx&lt;/em&gt; como &lt;em&gt;proxy&lt;/em&gt; reverso e diminuindo o consumo do servidor&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://pt.wikipedia.org/wiki/Proxy_reverso&quot; title=&quot;Leia mais na Wikipedia&quot;&gt;&lt;em&gt;Wikipedia&lt;/em&gt; – &lt;em&gt;Proxy&lt;/em&gt; reverso&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://pt.wikipedia.org/wiki/Servidor_web&quot; title=&quot;Leia mais na Wikipedia&quot;&gt;&lt;em&gt;Wikipedia&lt;/em&gt; – Servidor &lt;em&gt;Web&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.wikivs.com/wiki/Apache_vs_nginx&quot; title=&quot;Entenda um pouco mais a diferença entre Apache e Nginx&quot;&gt;&lt;em&gt;WikiVS – Apache vs Nginx&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Diferentes ambientes: Development, Testing, Staging e Production]]></title><description><![CDATA[Uma das práticas mais interessantes nessa
“nova onda” de qualidade que está “encrostada” nas práticas agile
de desenvolvimento de software, é o uso de diferentes ambientes para
diferentes estágios do ciclo de vida de uma aplicação. Com auxílio da virtualização, podemos implementar (sem dificuldades…]]></description><link>https://klauslaube.com.br/2011/03/07/diferentes-ambientes.html</link><guid isPermaLink="false">https://klauslaube.com.br/2011/03/07/diferentes-ambientes.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Mon, 07 Mar 2011 11:37:00 GMT</pubDate><content:encoded>&lt;p&gt;Uma das práticas mais interessantes nessa
“nova onda” de qualidade que está “encrostada” nas práticas &lt;a href=&quot;/tag/agile.html&quot; title=&quot;Leia mais sobre Agile&quot;&gt;&lt;em&gt;agile&lt;/em&gt;&lt;/a&gt;
de desenvolvimento de &lt;em&gt;software&lt;/em&gt;, é o uso de diferentes ambientes para
diferentes estágios do ciclo de vida de uma aplicação.&lt;/p&gt;
&lt;p&gt;Com auxílio da &lt;a href=&quot;%7Bvirtualbox-uma-maneira-interessante-de-possuir-varios-sos-em-uma-maquina-so.md&quot; title=&quot;Virtualbox: Uma maneira interessante de possuir vários SOs em uma máquina só&quot;&gt;virtualização&lt;/a&gt;, podemos implementar (sem dificuldades)
estes ambientes em qualquer empresa que tenha como cultura entregar
&lt;em&gt;software&lt;/em&gt; de qualidade.&lt;/p&gt;
&lt;h2&gt;Development&lt;/h2&gt;
&lt;p&gt;Ter um ambiente isolado só seu, onde você possa codificar sem se
preocupar com o resto da equipe. Essa é a premissa do ambiente de
desenvolvimento.&lt;/p&gt;
&lt;p&gt;Em &lt;a href=&quot;/tag/python.html&quot; title=&quot;Leia mais sobre Python&quot;&gt;&lt;em&gt;Python&lt;/em&gt;&lt;/a&gt;, é muito simples construirmos um &lt;a href=&quot;http://blog.triveos.com.br/2010/04/25/trabalhando-com-python-e-django/&quot; title=&quot;Trabalhando com Python e Django&quot;&gt;ambiente isolado&lt;/a&gt; em
nossas máquinas, isolado até mesmo do nosso SO. Podemos codificar,
testar, errar e corrigir, sem afetar diretamente os outros membros da
equipe.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.setinet.com.br/&quot; title=&quot;Setinet, Internet Controlada&quot;&gt;Onde eu trabalho atualmente&lt;/a&gt;, o ambiente de desenvolvimento é
totalmente construído em uma máquina virtual, devido as fortes
dependências entre ferramentas como &lt;a href=&quot;http://www.nagios.org/&quot; title=&quot;Monitore a sua infraestrutura com Nagios&quot;&gt;&lt;em&gt;Nagios&lt;/em&gt;&lt;/a&gt; e &lt;a href=&quot;http://www.mrtg.org/rrdtool/&quot; title=&quot;Data logging e gráficos com RRDTools&quot;&gt;&lt;em&gt;RRDTools&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Ao fim do dia (ou de uma &lt;em&gt;feature&lt;/em&gt;), você pode “comitar” suas alterações
para uma máquina central, comumente chamada de “Integration” (podendo
ser o responsável por manter um servidor &lt;a href=&quot;http://subversion.tigris.org/&quot; title=&quot;Versionamento de projetos com Subversion&quot;&gt;&lt;em&gt;SVN&lt;/em&gt;&lt;/a&gt; ou um repositório
central quando for um &lt;a href=&quot;http://en.wikipedia.org/wiki/Distributed_Version_Control_System&quot; title=&quot;Leia mais sobre Distributed Version Control System no Wikipedia&quot;&gt;&lt;em&gt;DVCS&lt;/em&gt;&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Antes de implantar o método descrito acima, o ambiente de
desenvolvimento era um servidor compartilhado onde os membros da equipe
trabalhavam simultaneamente (no mesmo ambiente). Funcionou e tenho
certeza que funcionaria até hoje, mas acredito que ambientes isolado
sejam mais organizados e seguros.&lt;/p&gt;
&lt;h2&gt;Testing&lt;/h2&gt;
&lt;p&gt;Quando você possui uma equipe de testes em seu projeto, nada melhor do
que montar um servidor onde você possa por à prova as últimas
modificações inseridas em sua aplicação.&lt;/p&gt;
&lt;p&gt;Como eu nunca tive a oportunidade de trabalhar com pessoas dedicadas a
testes, geralmente utilizo o próprio ambiente de &lt;em&gt;staging&lt;/em&gt; para testes.&lt;/p&gt;
&lt;p&gt;Embora &lt;a href=&quot;/tag/tdd.html&quot; title=&quot;Leia mais sobre TDD&quot;&gt;testes unitários&lt;/a&gt; e de &lt;a href=&quot;/tag/bdd.html&quot; title=&quot;Leia mais sobre BDD&quot;&gt;aceitação&lt;/a&gt; sejam amplamente
executados em ambiente de desenvolvimento, quando o projeto ficar
gigante, executar todos os testes do projeto a cada nova feature
desenvolvida pode lhe consumir muito tempo. Neste caso é interessante
você construir um &lt;a href=&quot;http://blog.caelum.com.br/integracao-continua/&quot; title=&quot;Leia artigo da Caelum falando sobre Continuous Integration&quot;&gt;servidor de integração contínua&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Na &lt;a href=&quot;http://uptimetecnologia.com.br/&quot; title=&quot;Uptime, garantindo a sua segurança na internet&quot;&gt;&lt;em&gt;Uptime&lt;/em&gt;&lt;/a&gt;, trabalhávamos da seguinte maneira: Existia um servidor
que era responsável apenas por clonar o repositório central e executar
os testes automatizados. Quando um teste falhava, um membro da equipe
era notificado, e ele designava alguém para resolver conflitos e
problemas. O conceito é o mesmo apresentado no &lt;em&gt;link&lt;/em&gt; acima, a exceção é
que esse processo era uma tarefa agendada e executava em determinada
hora do dia (e não diretamente a cada &lt;em&gt;commit&lt;/em&gt; ou em um determinado
momento do processo de integração).&lt;/p&gt;
&lt;h2&gt;Staging&lt;/h2&gt;
&lt;p&gt;O papel do ambiente de &lt;em&gt;staging&lt;/em&gt; é ser o mais próximo da realidade, ou
seja, ele deve ser uma réplica perfeita do ambiente de produção.
Tratando-se de desenvolvimento &lt;a href=&quot;/tag/desenvolvimento-web.html&quot; title=&quot;Leia mais sobre Web&quot;&gt;&lt;em&gt;web&lt;/em&gt;&lt;/a&gt;, deve-se utilizar o mesmo
serviço &lt;em&gt;web&lt;/em&gt;, o mesmo banco de dados, os mesmos módulos e &lt;em&gt;plugins&lt;/em&gt;.
Isso garantirá um &lt;em&gt;deploy&lt;/em&gt; muito mais “suave” para o ambiente de
produção.&lt;/p&gt;
&lt;p&gt;No meu caso específico, utilizei o ambiente de &lt;em&gt;staging&lt;/em&gt; para, além de
testar a aplicação em um ambiente mais “real”, demonstrar as &lt;em&gt;features&lt;/em&gt;
para o cliente. Logo, ele tinha algo real, e com dados que faziam
sentido, antes mesmo do projeto ir para o ar.&lt;/p&gt;
&lt;p&gt;Ficou mais simples determinar se a solução soluciona o seu problema ou
não.&lt;/p&gt;
&lt;h2&gt;Production&lt;/h2&gt;
&lt;p&gt;E finalmente, o ambiente de produção.&lt;/p&gt;
&lt;p&gt;É neste ambiente que a sua aplicação ganha vida e enfrenta a dura
realidade do mundo :)&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://spacebug.com/effective_development_environments/&quot; title=&quot;Uma excelente referência, um artigo bem escrito e objetivo.&quot;&gt;&lt;em&gt;Effective Development Environments: Development, Test, Staging/Pre-prod and Production Environments&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.caelum.com.br/integracao-continua/&quot; title=&quot;A Caelum é uma das melhores referências do país sobre agile e desenvolvimento em geral.&quot;&gt;&lt;em&gt;Caelum&lt;/em&gt;: Integração Contínua&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://devagil.wordpress.com/2007/04/14/4611-integracao-continua/&quot; title=&quot;Excelente artigo sobre Integração Contínua dentro do contexto de agile.&quot;&gt;Integração Contínua&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.dotkernel.com/php-development/php-environment-development-staging-production/&quot; title=&quot;Um artigo claro e objetivo sobre os ambientes de Development, Staging e Production.&quot;&gt;&lt;em&gt;PHP Environment: Development Staging Production&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://dltj.org/article/software-development-practice/&quot; title=&quot;Um post muito bom sobre desenvolvimento de software com qualidade.&quot;&gt;&lt;em&gt;Traditional Development/Integration/Staging/Production Practice for Software Development&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Acompanhe a produção dos posts da série &lt;a href=&quot;/2011/03/03/montando-seu-ambiente-de-desenvolvimento-django.html&quot; title=&quot;Saiba como montar o seu ambiente de desenvolvimento para trabalhar com Django&quot;&gt;Montando seu ambiente de
desenvolvimento &lt;em&gt;Django&lt;/em&gt; no &lt;em&gt;Linux&lt;/em&gt;&lt;/a&gt; assinando o &lt;a href=&quot;https://klauslaube.com.br/feed/rss.xml&quot; title=&quot;Leia os posts deste blog no seu leitor RSS favorito&quot;&gt;&lt;em&gt;Feeds RSS&lt;/em&gt;&lt;/a&gt; ou me
seguindo no &lt;a href=&quot;http://www.twitter.com/kplaube&quot; title=&quot;Siga-me no Twitter&quot;&gt;&lt;em&gt;Twitter&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Até a próxima…&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Virtualbox: Uma maneira interessante de possuir vários SOs em uma máquina só]]></title><description><![CDATA[Sabe quando você quer testar uma distribuição (ou SO) diferente mas não quer mexer diretamente no
particionamento do seu HD? Ou quando você precisar propor uma máquina
individual para serviços web, mas não tem hardware sobrando para
isto? Ou quando você precisa ficar movendo um ambiente completo…]]></description><link>https://klauslaube.com.br/2010/12/01/virtualbox-varios-sos-numa-maquina-so.html</link><guid isPermaLink="false">https://klauslaube.com.br/2010/12/01/virtualbox-varios-sos-numa-maquina-so.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Wed, 01 Dec 2010 20:14:00 GMT</pubDate><content:encoded>&lt;p&gt;Sabe quando você quer testar uma distribuição (ou &lt;em&gt;SO&lt;/em&gt;) diferente mas não quer mexer diretamente no
particionamento do seu &lt;em&gt;HD&lt;/em&gt;? Ou quando você precisar propor uma máquina
individual para serviços &lt;a href=&quot;/tag/desenvolvimento-web.html&quot; title=&quot;Leia mais sobre Web&quot;&gt;&lt;em&gt;web&lt;/em&gt;&lt;/a&gt;, mas não tem &lt;em&gt;hardware&lt;/em&gt; sobrando para
isto? Ou quando você precisa ficar movendo um ambiente completo entre
máquinas ou locais?&lt;/p&gt;
&lt;p&gt;Virtualização pode ser a resposta para os seus problemas!&lt;/p&gt;
&lt;h2&gt;Virtualização? What the hell?&lt;/h2&gt;
&lt;p&gt;Segundo o nosso bom e velho &lt;a href=&quot;http://pt.wikipedia.org/wiki/Virtualiza%C3%A7%C3%A3o&quot; title=&quot;Leia mais sobre Virtualização na Wikipedia&quot;&gt;&lt;em&gt;Wikipedia&lt;/em&gt;&lt;/a&gt;, virtualização é:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;(…) uma forma de esconder as características físicas de uma plataforma
computacional dos utilizadores, mostrando outro hardware virtual,
emulando um ou mais ambientes isolados.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Em outras palavras, é a capacidade de você executar um ou mais sistemas
operacionais através de plataformas que são emuladas através de um
segundo sistema operativo… não ajudei né? Então vamos para a forma
“vulgar”:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;É o conceito ou &lt;em&gt;software&lt;/em&gt; que permite a você executar &lt;em&gt;Ubuntu&lt;/em&gt;, &lt;em&gt;Mac OS
X&lt;/em&gt; e &lt;em&gt;FreeBSD&lt;/em&gt; em seu &lt;em&gt;Windows XP&lt;/em&gt; sem necessitar particionar seu &lt;em&gt;HD&lt;/em&gt;,
e ao mesmo tempo. Neste caso, um &lt;em&gt;hardware&lt;/em&gt; virtual é criado e você
opera (instala, configura, usa) o &lt;em&gt;SO&lt;/em&gt; normalmente, como se estivesse em
uma “máquina física”.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;O &lt;a href=&quot;http://pt.wikipedia.org/wiki/Virtualiza%C3%A7%C3%A3o&quot; title=&quot;Leia mais sobre Virtualização na Wikipedia&quot;&gt;artigo no &lt;em&gt;Wikipedia&lt;/em&gt; sobre virtualização&lt;/a&gt; está bem
bacana, inclusive citando vantagens e inconvenientes.&lt;/p&gt;
&lt;h2&gt;O Virtualbox&lt;/h2&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 174px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7a15cdd98523e9982ff0b9d9356248e5/fe9c7/virtualbox-logo.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 103.44827586206897%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAAAsSAAALEgHS3X78AAAEaUlEQVQ4y12Ua0yaVxjH323NFpPtw7ZmSbM03aVfFpN9WJYt25Im7dYvW9dk2ZZ2tbZGW1HbqajVYhUQxiooF6tcFFBBQCrgiyACAiqKWG+IN0DEG0NsseIFvACCe9/itN2Tc76c8/ye55zzPP8DHBwcxGIH0WgMGrED2HZ398yTTtA05vGtRaPRFw7w7n/7xwbEXizFlwPBHeOYAy/RX2EqrjLbkQ0avn7U4fZF9qNxb8g39lIIAJp74bDPv2kYsaEaVMk1rSlsFaql9xcqmN2gu8NWI9kddMWTsbmna1s7sVeTAx6ff2p+BcvruFhSn8vTJxaxMzgqYptJYp6mKge+LmSnMxQ5dcpf8XxRr6PP5gnu7B6dFBC3G0G1yTQ5TxB3p1Fak2iyn0jiDxDkVGbb3TrVj1hhWpUyi61l6azSnnHMI5HdtRR/BRiWqnuvo8giacesa7FrzFVar02lSC89FF4miUpEhls0JaPD2j2x0Cg13ERRb5fWOF3uo7cFjP2WM5nYDxFYDLXOMjTo9j5r65++x1Fdq3qMl/YMzS6rei05eOZXCHTCzZIUPNvpXAoGgvEqAONWx+eFxIS8indul/1cTBK3SBZdM3a3d2TOPeZYKK0SnEOgT6XeB5KK3kzB5FQ2Oezzq6v+UCgMw86ZxR8wNM6A9TsiH0jGnMnAoavoNotJ0WU+n1by8Y38E8n5ryehvq9oulTBK6CIHLY57/Kz7e0dGPZ6fBdQlXlSNc0w+A2RB9woO3GtWKKQ4Wnck1ezgetI4ErhZVqzwDxxrpSOYYBTk06P52kwuA1dG/A/X/8dS09AEM5imRliNUKoff9OJR8Eq9nN7yUhPymqzBdrCyWGk3dJb/9xn8rXWS02r9cHZYZh6AJELngqgwjcIiY+bMpuNZ4nizkysKpW8AWynKAx/1Yrfyud+FpS6UUMt1pkHB2eiMPwsdf8G8a+UZ5E8y2WA2RRT+P5H+F4PKWKwRF9WUA9i60HkgnvZlFSyS14rqGuSTMyBMO7u3CrAH7/xpTN1d5h1GqN6SzJG8gaAMkQajobeZJPEeXALXIiqq6YKSfQ5eiyWiG/bWR4amXFF4lEYPj5qt9hn2uV6eisFn2nkSZRncZwG9S6ZoHss/zqC3/x/2ZKS0m8rExcOZ4lBw1Wq31jY+uwtzc3ttxur8k4zGKKmY0yjVLXptZru3u4PNmfBDaJLi5AM+8VU3IzcayaZoNuYGlpORyOHMKhUGjV57dPu0BZp7zdwBF08AWKof7+RqH8AZ6VkUspIzXgCAwMiqaUG2bs88HAdry9DvUcDO5AdX9iHgNBncFk4TZrG5pVjHopIo+CIzfR2SLsA5pUrLZNz66vb0bCEehbONYzFCkQCEKlHx4cV6l6pW3dFLqoGEdHE5hkaj39EV+nMS0ueKDGOMp5DMclFtoLbW4G/nGvjA5P6Tv75aCuXdHVZxxeWPBsbQXC4fD+q+Qx/LJBgfYj+/DY34/Bwo0dCfh/9i8NYpSVNYwk7QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Logotipo do Virtualbox&amp;quot;&quot;
        title=&quot;Logotipo do Virtualbox&quot;
        src=&quot;/static/7a15cdd98523e9982ff0b9d9356248e5/fe9c7/virtualbox-logo.png&quot;
        srcset=&quot;/static/7a15cdd98523e9982ff0b9d9356248e5/fe9c7/virtualbox-logo.png 174w&quot;
        sizes=&quot;(max-width: 174px) 100vw, 174px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Logotipo do Virtualbox&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Existem diversas formas e ferramentas para virtualizar ambientes em seu &lt;em&gt;desktop&lt;/em&gt;
ou servidor. A ferramenta que tenho utilizado com muito sucesso
(em meu &lt;em&gt;desktop&lt;/em&gt;, sou programador e não &lt;em&gt;expert&lt;/em&gt; em infra (: ) é o
&lt;strong&gt;&lt;em&gt;Virtualbox&lt;/em&gt;&lt;/strong&gt; (também chamado de &lt;strong&gt;&lt;em&gt;Virtualbox OSE&lt;/em&gt;&lt;/strong&gt;).&lt;/p&gt;
&lt;p&gt;Hoje mantido pela &lt;em&gt;Oracle&lt;/em&gt; (que adquiriu a &lt;em&gt;Sun Microsystems&lt;/em&gt;), o
&lt;em&gt;Virtualbox&lt;/em&gt; é uma solução ágil e objetiva no que diz respeito a
virtualização. Não sei a opinião dos profissionais de infraestrutura
sobre esta ferramenta, mas já passei por duas empresas especializadas em
serviços/produtos focados em servidores, e o &lt;em&gt;Virtualbox&lt;/em&gt; estava lá
atendendo a demanda.&lt;/p&gt;
&lt;p&gt;O que me chamou a atenção foi a facilidade de uso. Como programador,
utilizo-o para criar &lt;em&gt;sandboxes&lt;/em&gt; e máquinas de testes. Na empresa onde
trabalho atualmente, utilizamos o programa para manter nossos
&lt;em&gt;workspaces&lt;/em&gt; isolados (já que a aplicação em que eu trabalho é
empacotada como uma verdadeira distribuição &lt;em&gt;Linux&lt;/em&gt;). Já no meu
computador pessoal, tenho &lt;em&gt;VMs&lt;/em&gt; (&lt;em&gt;Virtual Machines&lt;/em&gt; – Máquinas Virtuais)
para testar distribuições como o &lt;em&gt;Debian&lt;/em&gt;, &lt;em&gt;Slackware&lt;/em&gt; e até mesmo o
&lt;em&gt;Android&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;Instalando o Virtualbox&lt;/h2&gt;
&lt;p&gt;Existem milhares de tutoriais que ensinam a instalar o &lt;em&gt;Virtualbox&lt;/em&gt;. Não
vou “reinventar a roda”… vou apenas indicar alguns tutoriais:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.vivaolinux.com.br/artigo/Instalando-o-VirtualBox-no-Ubuntu-10.04/&quot; title=&quot;Artigo de Leandro Bruno para o Viva o Linux sobre Virtualbox no Ubuntu-10.04&quot;&gt;&lt;em&gt;Viva o Linux&lt;/em&gt;: Instalando o &lt;em&gt;Virtualbox&lt;/em&gt; no &lt;em&gt;Ubuntu 10.04&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.vivaolinux.com.br/dica/Instalacao-do-Virtualbox-no-Debian-Etch-4-Linux&quot; title=&quot;Artigo de Ronnie Robson Campos para o Viva o Linux sobre o Virtualbox no Debian Etch&quot;&gt;&lt;em&gt;Viva o Linux&lt;/em&gt;: Instalação do &lt;em&gt;Virtualbox&lt;/em&gt; no &lt;em&gt;Debian (Etch)&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.brunorusso.eti.br/virtualizacao/instalando-o-virtualbox-em-uma-maquina-com-slackware/&quot; title=&quot;Um excelente post de Bruno Russo sobre Virtualbox em Slackware&quot;&gt;&lt;em&gt;Bruno Russo&lt;/em&gt;: Instalando o &lt;em&gt;Virtualbox&lt;/em&gt; em uma máquina com
&lt;em&gt;Slackware&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blogdovicente.com/2009/03/04/como-instalar-e-usar-o-virtualbox/&quot; title=&quot;Post feito pelo Vicente sobre o Virtualbox no Windows&quot;&gt;&lt;em&gt;Blog do Vicente&lt;/em&gt;: Como instalar e usar o &lt;em&gt;Virtualbox&lt;/em&gt;
(&lt;em&gt;Windows&lt;/em&gt;)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Até a próxima…&lt;/p&gt;</content:encoded></item></channel></rss>