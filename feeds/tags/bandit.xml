<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Klaus Laube - bandit]]></title><description><![CDATA[Python, Django e desenvolvimento Web]]></description><link>https://klauslaube.com.br</link><generator>RSS for Node</generator><lastBuildDate>Wed, 20 Oct 2021 18:01:17 GMT</lastBuildDate><author><![CDATA[Klaus Peter Laube]]></author><item><title><![CDATA[Assegure a qualidade do seu código Python - Bandit]]></title><description><![CDATA[Já falamos sobre algumas ferramentas de qualidade de código Python aqui no blog. De pycodestyle a Clone Digger, passando por Pyflakes e Pylint. Além do flake8 (que acredito não precisar de apresentações), uma ferramenta que passei a ter sempre no meu toolbelt foi o Bandit. Na verdade, ele não é…]]></description><link>https://klauslaube.com.br/2019/02/21/assegure-qualidade-seu-codigo-python-bandit.html</link><guid isPermaLink="false">https://klauslaube.com.br/2019/02/21/assegure-qualidade-seu-codigo-python-bandit.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Thu, 21 Feb 2019 12:45:00 GMT</pubDate><content:encoded>&lt;p&gt;Já falamos sobre algumas ferramentas de qualidade de código &lt;a href=&quot;/tag/python.html&quot; title=&quot;Leia mais sobre Python&quot;&gt;&lt;em&gt;Python&lt;/em&gt;&lt;/a&gt; aqui no &lt;em&gt;blog&lt;/em&gt;. De &lt;a href=&quot;/2011/08/26/assegure-qualidade-seu-codigo-python-pep.html&quot; title=&quot;Assegure a qualidade do seu código Python - pep8&quot;&gt;&lt;em&gt;pycodestyle&lt;/em&gt;&lt;/a&gt; a &lt;a href=&quot;/2011/10/16/assegure-qualidade-seu-codigo-python-clone-digger.html&quot; title=&quot;Assegure a qualidade do seu código Python - Clone digger&quot;&gt;&lt;em&gt;Clone Digger&lt;/em&gt;&lt;/a&gt;, passando por &lt;a href=&quot;/2011/10/02/assegure-qualidade-seu-codigo-python-pyflakes.html&quot; title=&quot;Assegure a qualidade do seu código Python - Pyflakes&quot;&gt;&lt;em&gt;Pyflakes&lt;/em&gt;&lt;/a&gt; e &lt;a href=&quot;/2011/09/06/assegura-a-qualidade-de-codigo-python-pylint.html&quot; title=&quot;Assegure a qualidade do seu código Python - Pylint&quot;&gt;&lt;em&gt;Pylint&lt;/em&gt;&lt;/a&gt;. Além do &lt;em&gt;flake8&lt;/em&gt; (que acredito não precisar de apresentações), uma ferramenta que passei a ter sempre no meu &lt;em&gt;toolbelt&lt;/em&gt; foi o &lt;a href=&quot;https://github.com/PyCQA/bandit&quot; title=&quot;Repositório do Bandit&quot;&gt;&lt;em&gt;Bandit&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Na verdade, ele não é exatamente um &lt;em&gt;code linter&lt;/em&gt;, mas sim uma ferramenta para testar a segurança do seu projeto &lt;em&gt;Python&lt;/em&gt;. Em tempos onde cada vez mais somos expostos a falhas de segurança em aplicações, e tais falhas podem ser um fator crucial para o fracasso de um negócio, cuidado nunca é demais.&lt;/p&gt;
&lt;h2&gt;O seguro morreu de velho&lt;/h2&gt;
&lt;p&gt;O &lt;em&gt;Bandit&lt;/em&gt; é uma ferramenta construída para encontrar problemas comuns de segurança em projetos &lt;em&gt;Python&lt;/em&gt;. Livre e de código aberto (&lt;a href=&quot;https://github.com/PyCQA/bandit/blob/master/LICENSE&quot; title=&quot;Leia mais no repositório da ferramenta&quot;&gt;&lt;em&gt;Apache 2&lt;/em&gt;&lt;/a&gt;), está disponível para instalação através do &lt;code class=&quot;language-text&quot;&gt;pip&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ pip install bandit&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Uma vez instalado, basta executá-lo através do terminal:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ bandit -r caminho-para-projeto-python&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note que o parâmetro &lt;code class=&quot;language-text&quot;&gt;-r&lt;/code&gt; acima instrui o utilitário a executar de forma recursiva, iterando sobre todos os arquivos e pastas dentro do caminho especificado. Outro parâmetro comum é o &lt;code class=&quot;language-text&quot;&gt;-t&lt;/code&gt;, onde é possível especificar quais testes você quer executar:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ bandit -r ~/Workspace/klaus/blog -t B101,B102&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;O &lt;em&gt;Bandit&lt;/em&gt; considera como vulnerabilidades desde o uso de &lt;code class=&quot;language-text&quot;&gt;assert&lt;/code&gt; (B101), passando pelo uso de &lt;code class=&quot;language-text&quot;&gt;eval&lt;/code&gt; (B307), até possíveis brechas para &lt;em&gt;SQL injection&lt;/em&gt; (B608). Uma lista completa de todos os &lt;em&gt;plugins&lt;/em&gt; está disponível na &lt;a href=&quot;https://bandit.readthedocs.io/en/latest/plugins/index.html#complete-test-plugin-listing&quot; title=&quot;Confira a lista de falhas cobertas pelo Bandit&quot;&gt;documentação oficial&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/39204b07c84ba566fd80edb1e0ba14f9/828fb/bandit.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.125%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAgX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHnakYNJw//xAAaEAADAQADAAAAAAAAAAAAAAAAAQIREiEj/9oACAEBAAEFAsg8mPN51RXQ6pP/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAAAARESMSH/2gAIAQEABj8C0VWzJOsUGn//xAAbEAEAAgMBAQAAAAAAAAAAAAABABEhMUFR0f/aAAgBAQABPyFqtTW35ETqZsjDojjc9FMOiyUgU//aAAwDAQACAAMAAAAQOA//xAAVEQEBAAAAAAAAAAAAAAAAAAAAIf/aAAgBAwEBPxCI/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxABAQEAAwEBAAAAAAAAAAAAAREAITFBgZH/2gAIAQEAAT8QqmIS7ayDVKICME99wyReCafXFFR1OsRPJy5wEfu//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Foto do filme Agarre-me Se Puderes&amp;quot;&quot;
        title=&quot;Segurança na web é como fazer parte do filme Agarra-me Se Puderes (adorocinema.com)&quot;
        src=&quot;/static/39204b07c84ba566fd80edb1e0ba14f9/828fb/bandit.jpg&quot;
        srcset=&quot;/static/39204b07c84ba566fd80edb1e0ba14f9/7809d/bandit.jpg 192w,
/static/39204b07c84ba566fd80edb1e0ba14f9/4ecad/bandit.jpg 384w,
/static/39204b07c84ba566fd80edb1e0ba14f9/828fb/bandit.jpg 630w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Segurança na web é como fazer parte do filme Agarra-me Se Puderes (adorocinema.com)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Se você utiliza &lt;em&gt;pytest&lt;/em&gt; para escrever os seus testes, o item B101 pode ser um problema, uma vez que é normal utilizar &lt;code class=&quot;language-text&quot;&gt;assert&lt;/code&gt; ao invés do convencional &lt;code class=&quot;language-text&quot;&gt;self.assertEquals&lt;/code&gt;. Nesse caso, uma das formas de contornar esse comportamento é ignorando os testes:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ bandit -r . -x tests/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Também é possível ter um arquivo de configuração (&lt;code class=&quot;language-text&quot;&gt;.bandit&lt;/code&gt;) na raíz do seu projeto:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;toml&quot;&gt;&lt;pre class=&quot;language-toml&quot;&gt;&lt;code class=&quot;language-toml&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token table class-name&quot;&gt;bandit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
exclude: tests&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Para finalizar, através do parâmetro &lt;code class=&quot;language-text&quot;&gt;-f&lt;/code&gt; é possível emitir a saída em diferentes formatos, como &lt;em&gt;CSV&lt;/em&gt;, &lt;em&gt;HTML&lt;/em&gt;, &lt;em&gt;JSON&lt;/em&gt;, &lt;em&gt;XML&lt;/em&gt; e &lt;em&gt;YAML&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;O &lt;em&gt;Bandit&lt;/em&gt; é aquela ferramenta perfeita para você ter em seu &lt;a href=&quot;https://github.com/PyCQA/bandit#version-control-integration&quot; title=&quot;Veja como integrá-lo com o Git&quot;&gt;&lt;em&gt;pre-commit&lt;/em&gt;&lt;/a&gt; ou em seu &lt;em&gt;CI&lt;/em&gt;. Inclusive, o &lt;a href=&quot;https://www.codacy.com/&quot; title=&quot;The standard for automated code reviews&quot;&gt;&lt;em&gt;Codacy&lt;/em&gt;&lt;/a&gt;, serviço super bacana que avalia a qualidade do seu código, utiliza o &lt;em&gt;Bandit&lt;/em&gt; em seu processo de análise. Com isso, fica fácil de integrá-lo ao seu processo de &lt;em&gt;Pull Request&lt;/em&gt;/&lt;em&gt;Code Review&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Um bom custo vs. benefício para o seu projeto.&lt;/p&gt;
&lt;p&gt;Até a próxima.&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/PyCQA/bandit&quot;&gt;Github - Bandit&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item></channel></rss>