<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Klaus Laube - dependency injection]]></title><description><![CDATA[Python, Django e desenvolvimento Web]]></description><link>https://klauslaube.com.br</link><generator>RSS for Node</generator><lastBuildDate>Wed, 20 May 2020 08:30:30 GMT</lastBuildDate><author><![CDATA[Klaus Peter Laube]]></author><item><title><![CDATA[Injeção de Dependência]]></title><description><![CDATA[Se você já teve contato com Laravel
ou AngularJS, sabe muito bem que
um dos maiores motivos de orgulho desses (e de tantos outros) frameworks
é a "Injeção de Dependência", ou do inglês, Dependency Injection.
Imagine-se em uma reunião, o seu Product Owner pede soluções para problemas
complexos, e…]]></description><link>https://klauslaube.com.br/2015/10/24/injecao-de-dependencia.html</link><guid isPermaLink="false">https://klauslaube.com.br/2015/10/24/injecao-de-dependencia.html</guid><dc:creator><![CDATA[Klaus Peter Laube]]></dc:creator><pubDate>Sat, 24 Oct 2015 16:30:00 GMT</pubDate><content:encoded>&lt;p&gt;Se você já teve contato com &lt;a href=&quot;http://laravel.com/&quot; title=&quot;PHP framework for web artisans&quot;&gt;&lt;em&gt;Laravel&lt;/em&gt;&lt;/a&gt;
ou &lt;a href=&quot;https://angularjs.org/&quot; title=&quot;HTML enhanced for web apps&quot;&gt;&lt;em&gt;AngularJS&lt;/em&gt;&lt;/a&gt;, sabe muito bem que
um dos maiores motivos de orgulho desses (e de tantos outros) &lt;em&gt;frameworks&lt;/em&gt;
é a &quot;Injeção de Dependência&quot;, ou do inglês, &lt;em&gt;Dependency Injection&lt;/em&gt;.
Imagine-se em uma reunião, o seu &lt;em&gt;Product Owner&lt;/em&gt; pede soluções para problemas
complexos, e você manda logo um &quot;precisamos usar injeções de dependências&quot;...
É aumento salarial na hora!&lt;/p&gt;
&lt;p&gt;Brincadeiras à parte, estou fazendo um curso de
&lt;a href=&quot;https://www.udemy.com/learn-angularjs/&quot; title=&quot;Aprenda AngularJS&quot;&gt;&lt;em&gt;AngularJS&lt;/em&gt; no &lt;em&gt;Udemy&lt;/em&gt;&lt;/a&gt;,
e toda vez que o professor se depara com uma palavra &quot;pomposa&quot;, ele para a
aula para fazer um &quot;big word alert&quot;.&lt;/p&gt;
&lt;p&gt;Resolvi copiar essa ideia e mostrar como esse conceito na verdade é relativamente simples.&lt;/p&gt;
&lt;h2&gt;Dependency Injection é um Design Pattern&lt;/h2&gt;
&lt;p&gt;Assim como &lt;a href=&quot;/2011/05/29/afinal-o-que-sao-closures.html&quot; title=&quot;Leia mais sobre Closures&quot;&gt;&lt;em&gt;Closures&lt;/em&gt;&lt;/a&gt;
e &lt;a href=&quot;/2011/08/02/decorators-em-python.html&quot; title=&quot;Leia mais sobre Decorators&quot;&gt;&lt;em&gt;Decorators&lt;/em&gt;&lt;/a&gt;,
o nome pode até causar certo calafrio... &lt;em&gt;Don&apos;t panic&lt;/em&gt;! Segundo a documentação da &lt;em&gt;AngularJS&lt;/em&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Dependency Injection (DI) is a software design pattern that deals with how components
get hold of their dependencies.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Ou seja, ao invés de permitir que o seu componente de &lt;em&gt;software&lt;/em&gt; manuseie dependências,
você explicitamente passará as dependências que ele necessita.&lt;/p&gt;
&lt;p&gt;No &lt;em&gt;Stackoverflow&lt;/em&gt; temos o
&lt;a href=&quot;http://stackoverflow.com/questions/130794/what-is-dependency-injection&quot; title=&quot;What&amp;#x27;s dependency injection?&quot;&gt;melhor exemplo da face da terra&lt;/a&gt;
para ilustrar uma injeção de dependência. Abaixo um código sem o &lt;em&gt;DI&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SomeClass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    myObject &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Factory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Agora, com &lt;em&gt;DI&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SomeClass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MyClass&lt;/span&gt; myObject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;myObject &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; myObject&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Simples, não?! As dependências do seu componente ficam explícitas, fáceis de gerenciar, e
seu código fica mais fácil de manter.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 600px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5bbe84ebf276f7accfae7f1fe6271c2e/b4294/dependency-injection-hulk.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.729166666666664%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMFAQT/xAAVAQEBAAAAAAAAAAAAAAAAAAACAP/aAAwDAQACEAMQAAAB5dQ4VQhjH//EABoQAAIDAQEAAAAAAAAAAAAAAAIDAREyADH/2gAIAQEAAQUCrmaQ4AX4JYKZv//EABcRAQADAAAAAAAAAAAAAAAAAAIBEBH/2gAIAQMBAT8BJyK//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8Bqv/EABgQAAMBAQAAAAAAAAAAAAAAAAACEDER/9oACAEBAAY/Apxtimn/xAAcEAACAgMBAQAAAAAAAAAAAAAAARFRITFBccH/2gAIAQEAAT8hwzwVNmvVgU5lSCmvps9gUSG1Z//aAAwDAQACAAMAAAAQhN//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQMBAT8Q0Ej/xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8QdJH/xAAbEAEAAwADAQAAAAAAAAAAAAABABEhMUGxUf/aAAgBAQABPxDCxhLy6iyWCmdrjG31eiKhx0+PIn61V7chMEq4p//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Injenções podem te dar super poderes... Ou não. (hanhchampion.blogspot.com.br)&amp;quot;&quot;
        title=&quot;Injenções podem te dar super poderes... Ou não. (hanhchampion.blogspot.com.br)&quot;
        src=&quot;/static/5bbe84ebf276f7accfae7f1fe6271c2e/b4294/dependency-injection-hulk.jpg&quot;
        srcset=&quot;/static/5bbe84ebf276f7accfae7f1fe6271c2e/7809d/dependency-injection-hulk.jpg 192w,
/static/5bbe84ebf276f7accfae7f1fe6271c2e/4ecad/dependency-injection-hulk.jpg 384w,
/static/5bbe84ebf276f7accfae7f1fe6271c2e/b4294/dependency-injection-hulk.jpg 600w&quot;
        sizes=&quot;(max-width: 600px) 100vw, 600px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Injenções podem te dar super poderes... Ou não. (hanhchampion.blogspot.com.br)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;A &lt;em&gt;Angular&lt;/em&gt; utiliza esse conceito para que seja possível passar para o seu &lt;em&gt;controller&lt;/em&gt;,
uma série de &lt;em&gt;services&lt;/em&gt; necessários para a resolução de um problema:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; myApp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; angular&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;myApp&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

myApp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;controller&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;mainController&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;$scope&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;$log&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;$scope&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; $log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    $scope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;foo &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;bar&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    $log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;$scope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;foo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Imagine o trabalhão que seria em todo &lt;em&gt;controller&lt;/em&gt; ter que instanciar o
serviço de &lt;code class=&quot;language-text&quot;&gt;$scope&lt;/code&gt; ou de &lt;code class=&quot;language-text&quot;&gt;$log&lt;/code&gt;?&lt;/p&gt;
&lt;h2&gt;Considerações finais&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Testar um código&lt;/strong&gt; que utiliza &lt;em&gt;Dependency Injection&lt;/em&gt; é &lt;strong&gt;muito mais fácil&lt;/strong&gt;, pois
&lt;a href=&quot;/2015/06/29/os-testes-e-os-dubles-parte-2.html&quot; title=&quot;Os testes e os dublês - Parte 2&quot;&gt;&lt;em&gt;mockar&lt;/em&gt;&lt;/a&gt;
as dependências e garantir o comportamente esperado pode ser feito com muito menos linhas de código.&lt;/p&gt;
&lt;p&gt;Além disso, se o contrato de uma dependência mudar, com essa prática fica mais fácil de
alterar o seu código, fazendo com que a integração entre componentes seja mais &lt;em&gt;smooth&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Se você ainda duvida desse &lt;em&gt;design pattern&lt;/em&gt;, fica a constatação: É fácil
assegurar que a &lt;em&gt;AngularJS&lt;/em&gt; não seria o &lt;em&gt;framework&lt;/em&gt; que é hoje, sem o uso dessa prática.&lt;/p&gt;
&lt;p&gt;Até a próxima.&lt;/p&gt;
&lt;h2&gt;Referências&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;&lt;a href=&quot;https://docs.angularjs.org/guide/di&quot; title=&quot;Leia mais na documentação da Angular&quot;&gt;AngularJS Developer Guide - Dependency Injection&lt;/a&gt;&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;a href=&quot;http://stackoverflow.com/questions/130794/what-is-dependency-injection&quot; title=&quot;Leia mais no Stackoverflow&quot;&gt;Stackoverflow - What&apos;s dependency injection&lt;/a&gt;&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item></channel></rss>